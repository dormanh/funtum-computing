import{S as Dt,i as gt,s as yt,_ as $e,$ as Ke,a as Be,d as oe,b as re,g as Ae,H as we,O as mr,L as $a,n as kr,P as ou,k as rr,t as je,l as St,m as tr,h as er,a0 as su,D as $t,a1 as Ir,A as Kt,j as Nt,e as ur,x as at,c as ar,y as ot,z as st,f as xr,r as dr,p as Br,C as ft,o as Xn,q as Gn,a2 as Ka,a3 as Ha,V as $r,a4 as ka,X as cn}from"../chunks/index-573b8779.js";import{R as Tt}from"../chunks/index-2cd68d2b.js";function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zt.apply(this,arguments)}var fu={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function ze(e){return typeof e=="number"}function Re(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function _n(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Nn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function lu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Dr(e){return typeof e=="string"}var be=Array.isArray;function _e(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function ht(e){return Array.isArray(e)||_e(e)}function cu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function hu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function vu(e){return e&&e.constructor.prototype.isRange===!0||!1}function Ht(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ja(e){return typeof e=="boolean"}function eo(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function ro(e){return e&&e.constructor.prototype.isHelp===!0||!1}function to(e){return typeof e=="function"}function no(e){return e instanceof Date}function io(e){return e instanceof RegExp}function uo(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!_n(e)&&!Nn(e))}function ao(e){return e===null}function oo(e){return e===void 0}function so(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function fo(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function lo(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function co(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ho(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function vo(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function po(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function mo(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Do(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function go(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function yo(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function wo(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ao(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Eo(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fo(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Co(e){return e&&e.constructor.prototype.isChain===!0||!1}function Er(e){var r=typeof e;return r==="object"?e===null?"null":Re(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":r}function me(e){var r=typeof e;if(r==="number"||r==="string"||r==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return me(n)});if(e instanceof Date)return new Date(e.valueOf());if(Re(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return bo(e,me)}function bo(e,r){var n={};for(var i in e)vt(e,i)&&(n[i]=r(e[i]));return n}function pu(e,r){for(var n in r)vt(r,n)&&(e[n]=r[n]);return e}function It(e,r){var n,i,t;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(i=0,t=e.length;i<t;i++)if(!It(e[i],r[i]))return!1;return!0}else{if(typeof e=="function")return e===r;if(e instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(n in e)if(!(n in r)||!It(e[n],r[n]))return!1;for(n in r)if(!(n in e))return!1;return!0}else return e===r}}function vt(e,r){return e&&Object.hasOwnProperty.call(e,r)}function Bo(e,r){for(var n={},i=0;i<r.length;i++){var t=r[i],u=e[t];u!==void 0&&(n[t]=u)}return n}var Mo=["Matrix","Array"],_o=["number","BigNumber","Fraction"],We=function(r){if(r)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(fu)};zt(We,fu,{MATRIX_OPTIONS:Mo,NUMBER_OPTIONS:_o});var No=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var du={exports:{}};(function(e,r){(function(n,i){e.exports=i()})(No,function(){function n(){return!0}function i(){return!1}function t(){}const u="Argument is not a typed-function.";function a(){function f(_){return typeof _=="object"&&_!==null&&_.constructor===Object}const l=[{name:"number",test:function(_){return typeof _=="number"}},{name:"string",test:function(_){return typeof _=="string"}},{name:"boolean",test:function(_){return typeof _=="boolean"}},{name:"Function",test:function(_){return typeof _=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(_){return _ instanceof Date}},{name:"RegExp",test:function(_){return _ instanceof RegExp}},{name:"Object",test:f},{name:"null",test:function(_){return _===null}},{name:"undefined",test:function(_){return _===void 0}}],c={name:"any",test:n,isAny:!0};let s,o,p=0,v={createCount:0};function m(_){const T=s.get(_);if(T)return T;let q='Unknown type "'+_+'"';const Q=_.toLowerCase();let Y;for(Y of o)if(Y.toLowerCase()===Q){q+='. Did you mean "'+Y+'" ?';break}throw new TypeError(q)}function h(_,T="any"){const q=T?m(T).index:o.length,Q=[];for(var Y=0;Y<_.length;++Y){if(!_[Y]||typeof _[Y].name!="string"||typeof _[Y].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const te=_[Y].name;if(s.has(te))throw new TypeError('Duplicate type name "'+te+'"');Q.push(te),s.set(te,{name:te,test:_[Y].test,isAny:_[Y].isAny,index:q+Y,conversionsTo:[]})}const G=o.slice(q);o=o.slice(0,q).concat(Q).concat(G);for(var Y=q+Q.length;Y<o.length;++Y)s.get(o[Y]).index=Y}function D(){s=new Map,o=[],p=0,h([c],!1)}D(),h(l);function d(){let _;for(_ of o)s.get(_).conversionsTo=[];p=0}function w(_){const T=o.filter(q=>{const Q=s.get(q);return!Q.isAny&&Q.test(_)});return T.length?T:["any"]}function g(_){return _&&typeof _=="function"&&"_typedFunctionData"in _}function E(_,T,q){if(!g(_))throw new TypeError(u);const Q=q&&q.exact,Y=Array.isArray(T)?T.join(","):T,G=N(Y),te=F(G);if(!Q||te in _.signatures){const Se=_._typedFunctionData.signatureMap.get(te);if(Se)return Se}const ee=G.length;let ne;if(Q){ne=[];let Se;for(Se in _.signatures)ne.push(_._typedFunctionData.signatureMap.get(Se))}else ne=_._typedFunctionData.signatures;for(var k=0;k<ee;++k){const Se=G[k],Le=[];let Ue;for(Ue of ne){const ke=O(Ue.params,k);if(!(!ke||Se.restParam&&!ke.restParam)){if(!ke.hasAny){const fr=b(ke);if(Se.types.some(pr=>!fr.has(pr.name)))continue}Le.push(Ue)}}if(ne=Le,ne.length===0)break}let qe;for(qe of ne)if(qe.params.length<=ee)return qe;throw new TypeError("Signature not found (signature: "+(_.name||"unnamed")+"("+F(G,", ")+"))")}function C(_,T,q){return E(_,T,q).implementation}function A(_,T){const q=m(T);if(q.test(_))return _;const Q=q.conversionsTo;if(Q.length===0)throw new Error("There are no conversions to "+T+" defined.");for(var Y=0;Y<Q.length;Y++)if(m(Q[Y].from).test(_))return Q[Y].convert(_);throw new Error("Cannot convert "+_+" to "+T)}function F(_,T=","){return _.map(q=>q.name).join(T)}function y(_){const T=_.indexOf("...")===0,Q=(T?_.length>3?_.slice(3):"any":_).split("|").map(ee=>m(ee.trim()));let Y=!1,G=T?"...":"";return{types:Q.map(function(ee){return Y=ee.isAny||Y,G+=ee.name+"|",{name:ee.name,typeIndex:ee.index,test:ee.test,isAny:ee.isAny,conversion:null,conversionIndex:-1}}),name:G.slice(0,-1),hasAny:Y,hasConversion:!1,restParam:T}}function B(_){const T=_.types.map(te=>te.name),q=R(T);let Q=_.hasAny,Y=_.name;const G=q.map(function(te){const ee=m(te.from);return Q=ee.isAny||Q,Y+="|"+te.from,{name:te.from,typeIndex:ee.index,test:ee.test,isAny:ee.isAny,conversion:te,conversionIndex:te.index}});return{types:_.types.concat(G),name:Y,hasAny:Q,hasConversion:G.length>0,restParam:_.restParam}}function b(_){return _.typeSet||(_.typeSet=new Set,_.types.forEach(T=>_.typeSet.add(T.name))),_.typeSet}function N(_){const T=[];if(typeof _!="string")throw new TypeError("Signatures must be strings");const q=_.trim();if(q==="")return T;const Q=q.split(",");for(var Y=0;Y<Q.length;++Y){const G=y(Q[Y].trim());if(G.restParam&&Y!==Q.length-1)throw new SyntaxError('Unexpected rest parameter "'+Q[Y]+'": only allowed for the last parameter');if(G.types.length==0)return null;T.push(G)}return T}function M(_){const T=De(_);return T?T.restParam:!1}function x(_){if(!_||_.types.length===0)return n;if(_.types.length===1)return m(_.types[0].name).test;if(_.types.length===2){const T=m(_.types[0].name).test,q=m(_.types[1].name).test;return function(Y){return T(Y)||q(Y)}}else{const T=_.types.map(function(q){return m(q.name).test});return function(Q){for(var Y=0;Y<T.length;Y++)if(T[Y](Q))return!0;return!1}}}function z(_){let T,q,Q;if(M(_)){T=de(_).map(x);const Y=T.length,G=x(De(_)),te=function(ee){for(var ne=Y;ne<ee.length;ne++)if(!G(ee[ne]))return!1;return!0};return function(ne){for(var k=0;k<T.length;k++)if(!T[k](ne[k]))return!1;return te(ne)&&ne.length>=Y+1}}else return _.length===0?function(G){return G.length===0}:_.length===1?(q=x(_[0]),function(G){return q(G[0])&&G.length===1}):_.length===2?(q=x(_[0]),Q=x(_[1]),function(G){return q(G[0])&&Q(G[1])&&G.length===2}):(T=_.map(x),function(G){for(var te=0;te<T.length;te++)if(!T[te](G[te]))return!1;return G.length===T.length})}function O(_,T){return T<_.length?_[T]:M(_)?De(_):null}function S(_,T){const q=O(_,T);return q?b(q):new Set}function J(_){return _.conversion===null||_.conversion===void 0}function W(_,T){const q=new Set;return _.forEach(Q=>{const Y=S(Q.params,T);let G;for(G of Y)q.add(G)}),q.has("any")?["any"]:Array.from(q)}function V(_,T,q){let Q,Y;const G=_||"unnamed";let te=q;for(var ee=0;ee<T.length;ee++){const Le=[];if(te.forEach(Ue=>{const ke=O(Ue.params,ee),fr=x(ke);(ee<Ue.params.length||M(Ue.params))&&fr(T[ee])&&Le.push(Ue)}),Le.length===0){if(Y=W(te,ee),Y.length>0){const Ue=w(T[ee]);return Q=new TypeError("Unexpected type of argument in function "+G+" (expected: "+Y.join(" or ")+", actual: "+Ue.join(" | ")+", index: "+ee+")"),Q.data={category:"wrongType",fn:G,index:ee,actual:Ue,expected:Y},Q}}else te=Le}const ne=te.map(function(Le){return M(Le.params)?1/0:Le.params.length});if(T.length<Math.min.apply(null,ne))return Y=W(te,ee),Q=new TypeError("Too few arguments in function "+G+" (expected: "+Y.join(" or ")+", index: "+T.length+")"),Q.data={category:"tooFewArgs",fn:G,index:T.length,expected:Y},Q;const k=Math.max.apply(null,ne);if(T.length>k)return Q=new TypeError("Too many arguments in function "+G+" (expected: "+k+", actual: "+T.length+")"),Q.data={category:"tooManyArgs",fn:G,index:T.length,expectedLength:k},Q;const qe=[];for(var Se=0;Se<T.length;++Se)qe.push(w(T[Se]).join("|"));return Q=new TypeError('Arguments of type "'+qe.join(", ")+'" do not match any of the defined signatures of function '+G+"."),Q.data={category:"mismatch",actual:qe},Q}function I(_){let T=o.length+1;for(var q=0;q<_.types.length;q++)J(_.types[q])&&(T=Math.min(T,_.types[q].typeIndex));return T}function P(_){let T=p+1;for(var q=0;q<_.types.length;q++)J(_.types[q])||(T=Math.min(T,_.types[q].conversionIndex));return T}function L(_,T){if(_.hasAny){if(!T.hasAny)return 1}else if(T.hasAny)return-1;if(_.restParam){if(!T.restParam)return 1}else if(T.restParam)return-1;if(_.hasConversion){if(!T.hasConversion)return 1}else if(T.hasConversion)return-1;const q=I(_)-I(T);if(q<0)return-1;if(q>0)return 1;const Q=P(_)-P(T);return Q<0?-1:Q>0?1:0}function Z(_,T){const q=_.params,Q=T.params,Y=De(q),G=De(Q),te=M(q),ee=M(Q);if(te&&Y.hasAny){if(!ee||!G.hasAny)return 1}else if(ee&&G.hasAny)return-1;let ne=0,k=0,qe;for(qe of q)qe.hasAny&&++ne,qe.hasConversion&&++k;let Se=0,Le=0;for(qe of Q)qe.hasAny&&++Se,qe.hasConversion&&++Le;if(ne!==Se)return ne-Se;if(te&&Y.hasConversion){if(!ee||!G.hasConversion)return 1}else if(ee&&G.hasConversion)return-1;if(k!==Le)return k-Le;if(te){if(!ee)return 1}else if(ee)return-1;const Ue=(q.length-Q.length)*(te?-1:1);if(Ue!==0)return Ue;const ke=[];let fr=0;for(let Gr=0;Gr<q.length;++Gr){const lr=L(q[Gr],Q[Gr]);ke.push(lr),fr+=lr}if(fr!==0)return fr;let pr;for(pr of ke)if(pr!==0)return pr;return 0}function R(_){if(_.length===0)return[];const T=_.map(m);_.length>1&&T.sort((G,te)=>G.index-te.index);let q=T[0].conversionsTo;if(_.length===1)return q;q=q.concat([]);const Q=new Set(_);for(var Y=1;Y<T.length;++Y){let G;for(G of T[Y].conversionsTo)Q.has(G.from)||(q.push(G),Q.add(G.from))}return q}function U(_,T){let q=T;if(_.some(Y=>Y.hasConversion)){const Y=M(_),G=_.map($);q=function(){const ee=[],ne=Y?arguments.length-1:arguments.length;for(var k=0;k<ne;k++)ee[k]=G[k](arguments[k]);return Y&&(ee[ne]=arguments[ne].map(G[ne])),T.apply(this,ee)}}let Q=q;if(M(_)){const Y=_.length-1;Q=function(){return q.apply(this,Ee(arguments,0,Y).concat([Ee(arguments,Y)]))}}return Q}function $(_){let T,q,Q,Y;const G=[],te=[];switch(_.types.forEach(function(ee){ee.conversion&&(G.push(m(ee.conversion.from).test),te.push(ee.conversion.convert))}),te.length){case 0:return function(ne){return ne};case 1:return T=G[0],Q=te[0],function(ne){return T(ne)?Q(ne):ne};case 2:return T=G[0],q=G[1],Q=te[0],Y=te[1],function(ne){return T(ne)?Q(ne):q(ne)?Y(ne):ne};default:return function(ne){for(var k=0;k<te.length;k++)if(G[k](ne))return te[k](ne);return ne}}}function j(_){function T(q,Q,Y){if(Q<q.length){const G=q[Q];let te=[];if(G.restParam){const ee=G.types.filter(J);ee.length<G.types.length&&te.push({types:ee,name:"..."+ee.map(ne=>ne.name).join("|"),hasAny:ee.some(ne=>ne.isAny),hasConversion:!1,restParam:!0}),te.push(G)}else te=G.types.map(function(ee){return{types:[ee],name:ee.name,hasAny:ee.isAny,hasConversion:ee.conversion,restParam:!1}});return Fe(te,function(ee){return T(q,Q+1,Y.concat([ee]))})}else return[Y]}return T(_,0,[])}function ie(_,T){const q=Math.max(_.length,T.length);for(var Q=0;Q<q;Q++){const ne=S(_,Q),k=S(T,Q);let qe=!1,Se;for(Se of k)if(ne.has(Se)){qe=!0;break}if(!qe)return!1}const Y=_.length,G=T.length,te=M(_),ee=M(T);return te?ee?Y===G:G>=Y:ee?Y>=G:Y===G}function ue(_){return _.map(T=>wr(T)?Je(T.referToSelf.callback):vr(T)?Ye(T.referTo.references,T.referTo.callback):T)}function K(_,T,q){const Q=[];let Y;for(Y of _){let G=q[Y];if(typeof G!="number")throw new TypeError('No definition for referenced signature "'+Y+'"');if(G=T[G],typeof G!="function")return!1;Q.push(G)}return Q}function ye(_,T,q){let Q=ue(_),Y=!0;for(;Y;){Y=!1;let te=!0;for(var G=0;G<Q.length;++G){const ee=Q[G];if(wr(ee))Q[G]=ee.referToSelf.callback(q),Q[G].referToSelf=ee.referToSelf,te=!1;else if(vr(ee)){const ne=K(ee.referTo.references,Q,T);ne?(Q[G]=ee.referTo.callback.apply(this,ne),Q[G].referTo=ee.referTo,te=!1):Y=!0}}if(te&&Y)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Q}function ve(_){var T=/\bthis(\(|\.signatures\b)/;Object.keys(_).forEach(q=>{var Q=_[q];if(T.test(Q.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function se(_,T){if(v.createCount++,Object.keys(T).length===0)throw new SyntaxError("No signatures provided");v.warnAgainstDeprecatedThis&&ve(T);const q=[],Q=[],Y={},G=[];let te;for(te in T){if(!Object.prototype.hasOwnProperty.call(T,te))continue;const Qe=N(te);if(!Qe)continue;q.forEach(function(ut){if(ie(ut,Qe))throw new TypeError('Conflicting signatures "'+F(ut)+'" and "'+F(Qe)+'".')}),q.push(Qe);const ir=Q.length;Q.push(T[te]);const Xa=Qe.map(B);let Mt;for(Mt of j(Xa)){const ut=F(Mt);G.push({params:Mt,name:ut,fn:ir}),Mt.every(Ga=>!Ga.hasConversion)&&(Y[ut]=ir)}}G.sort(Z);const ee=ye(Q,Y,it);let ne;for(ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&(Y[ne]=ee[Y[ne]]);const k=[],qe=new Map;for(ne of G)qe.has(ne.name)||(ne.fn=ee[ne.fn],k.push(ne),qe.set(ne.name,ne));const Se=k[0]&&k[0].params.length<=2&&!M(k[0].params),Le=k[1]&&k[1].params.length<=2&&!M(k[1].params),Ue=k[2]&&k[2].params.length<=2&&!M(k[2].params),ke=k[3]&&k[3].params.length<=2&&!M(k[3].params),fr=k[4]&&k[4].params.length<=2&&!M(k[4].params),pr=k[5]&&k[5].params.length<=2&&!M(k[5].params),Gr=Se&&Le&&Ue&&ke&&fr&&pr;for(var lr=0;lr<k.length;++lr)k[lr].test=z(k[lr].params);const ga=Se?x(k[0].params[0]):i,ya=Le?x(k[1].params[0]):i,wa=Ue?x(k[2].params[0]):i,Aa=ke?x(k[3].params[0]):i,Ea=fr?x(k[4].params[0]):i,Fa=pr?x(k[5].params[0]):i,Ca=Se?x(k[0].params[1]):i,ba=Le?x(k[1].params[1]):i,Ba=Ue?x(k[2].params[1]):i,Ma=ke?x(k[3].params[1]):i,_a=fr?x(k[4].params[1]):i,Na=pr?x(k[5].params[1]):i;for(var lr=0;lr<k.length;++lr)k[lr].implementation=U(k[lr].params,k[lr].fn);const xa=Se?k[0].implementation:t,Sa=Le?k[1].implementation:t,Ta=Ue?k[2].implementation:t,za=ke?k[3].implementation:t,Ia=fr?k[4].implementation:t,Oa=pr?k[5].implementation:t,Pa=Se?k[0].params.length:-1,qa=Le?k[1].params.length:-1,Ra=Ue?k[2].params.length:-1,Ua=ke?k[3].params.length:-1,La=fr?k[4].params.length:-1,Za=pr?k[5].params.length:-1,Va=Gr?6:0,Wa=k.length,Ya=k.map(Qe=>Qe.test),Qa=k.map(Qe=>Qe.implementation),Ja=function(){for(var ir=Va;ir<Wa;ir++)if(Ya[ir](arguments))return Qa[ir].apply(this,arguments);return v.onMismatch(_,arguments,k)};function it(Qe,ir){return arguments.length===Pa&&ga(Qe)&&Ca(ir)?xa.apply(this,arguments):arguments.length===qa&&ya(Qe)&&ba(ir)?Sa.apply(this,arguments):arguments.length===Ra&&wa(Qe)&&Ba(ir)?Ta.apply(this,arguments):arguments.length===Ua&&Aa(Qe)&&Ma(ir)?za.apply(this,arguments):arguments.length===La&&Ea(Qe)&&_a(ir)?Ia.apply(this,arguments):arguments.length===Za&&Fa(Qe)&&Na(ir)?Oa.apply(this,arguments):Ja.apply(this,arguments)}try{Object.defineProperty(it,"name",{value:_})}catch{}return it.signatures=Y,it._typedFunctionData={signatures:k,signatureMap:qe},it}function ce(_,T,q){throw V(_,T,q)}function de(_){return Ee(_,0,_.length-1)}function De(_){return _[_.length-1]}function Ee(_,T,q){return Array.prototype.slice.call(_,T,q)}function xe(_,T){for(var q=0;q<_.length;q++)if(T(_[q]))return _[q]}function Fe(_,T){return Array.prototype.concat.apply([],_.map(T))}function Ie(){let _=de(arguments).map(q=>F(N(q)));const T=De(arguments);if(typeof T!="function")throw new TypeError("Callback function expected as last argument");return Ye(_,T)}function Ye(_,T){return{referTo:{references:_,callback:T}}}function Je(_){if(typeof _!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:_}}}function vr(_){return _&&typeof _.referTo=="object"&&Array.isArray(_.referTo.references)&&typeof _.referTo.callback=="function"}function wr(_){return _&&typeof _.referToSelf=="object"&&typeof _.referToSelf.callback=="function"}function sr(_,T){if(!_)return T;if(T&&T!=_){const q=new Error("Function names do not match (expected: "+_+", actual: "+T+")");throw q.data={actual:T,expected:_},q}return _}function Xr(_){let T;for(let q in _)_.hasOwnProperty(q)&&(g(_[q])||typeof _[q].signature=="string")&&(T=sr(T,_[q].name));return T}function bt(_,T){let q;for(q in T)if(T.hasOwnProperty(q)){if(q in _&&T[q]!==_[q]){const Q=new Error('Signature "'+q+'" is defined twice');throw Q.data={signature:q,sourceFunction:T[q],destFunction:_[q]},Q}_[q]=T[q]}}const Bt=v;v=function(_){const T=typeof _=="string",q=T?1:0;let Q=T?_:"";const Y={};for(let G=q;G<arguments.length;++G){const te=arguments[G];let ee={},ne;if(typeof te=="function"?(ne=te.name,typeof te.signature=="string"?ee[te.signature]=te:g(te)&&(ee=te.signatures)):f(te)&&(ee=te,T||(ne=Xr(te))),Object.keys(ee).length===0){const k=new TypeError("Argument to 'typed' at index "+G+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw k.data={index:G,argument:te},k}T||(Q=sr(Q,ne)),bt(Y,ee)}return se(Q||"",Y)},v.create=a,v.createCount=Bt.createCount,v.onMismatch=ce,v.throwMismatchError=ce,v.createError=V,v.clear=D,v.clearConversions=d,v.addTypes=h,v._findType=m,v.referTo=Ie,v.referToSelf=Je,v.convert=A,v.findSignature=E,v.find=C,v.isTypedFunction=g,v.warnAgainstDeprecatedThis=!0,v.addType=function(_,T){let q="any";T!==!1&&(q="Object"),v.addTypes([_],q)};function Ar(_){if(!_||typeof _.from!="string"||typeof _.to!="string"||typeof _.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(_.to===_.from)throw new SyntaxError('Illegal to define conversion from "'+_.from+'" to itself.')}return v.addConversion=function(_){Ar(_);const T=m(_.to);if(T.conversionsTo.every(function(q){return q.from!==_.from}))T.conversionsTo.push({from:_.from,convert:_.convert,index:p++});else throw new Error('There is already a conversion from "'+_.from+'" to "'+T.name+'"')},v.addConversions=function(_){_.forEach(v.addConversion)},v.removeConversion=function(_){Ar(_);const T=m(_.to),q=xe(T.conversionsTo,Y=>Y.from===_.from);if(!q)throw new Error("Attempt to remove nonexistent conversion from "+_.from+" to "+_.to);if(q.convert!==_.convert)throw new Error("Conversion to remove does not match existing conversion");const Q=T.conversionsTo.indexOf(q);T.conversionsTo.splice(Q,1)},v.resolve=function(_,T){if(!g(_))throw new TypeError(u);const q=_._typedFunctionData.signatures;for(var Q=0;Q<q.length;++Q)if(q[Q].test(T))return q[Q];return null},v}return a()})})(du);var $n=du.exports;function Me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var xo=Math.sign||function(e){return e>0?1:e<0?-1:0};function hn(e,r,n){var i={2:"0b",8:"0o",16:"0x"},t=i[r],u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Me(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Me(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),u="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(t).concat(e.toString(r)).concat(u)}function Dn(e,r){if(typeof r=="function")return r(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i,t;if(r&&(r.notation&&(n=r.notation),ze(r)?i=r:ze(r.precision)&&(i=r.precision),r.wordSize&&(t=r.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return To(e,i);case"exponential":return Du(e,i);case"engineering":return So(e,i);case"bin":return hn(e,2,t);case"oct":return hn(e,8,t);case"hex":return hn(e,16,t);case"auto":return zo(e,i,r&&r).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],a=arguments[4];return u!=="."?u+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function kt(e){var r=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+e);var n=r[1],i=r[2],t=parseFloat(r[4]||"0"),u=i.indexOf(".");t+=u!==-1?u-1:i.length-1;var a=i.replace(".","").replace(/^0*/,function(f){return t-=f.length,""}).replace(/0*$/,"").split("").map(function(f){return parseInt(f)});return a.length===0&&(a.push(0),t++),{sign:n,coefficients:a,exponent:t}}function So(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=kt(e),i=jt(n,r),t=i.exponent,u=i.coefficients,a=t%3===0?t:t<0?t-3-t%3:t-t%3;if(ze(r))for(;r>u.length||t-a+1>u.length;)u.push(0);else for(var f=Math.abs(t-a)-(u.length-1),l=0;l<f;l++)u.push(0);for(var c=Math.abs(t-a),s=1;c>0;)s++,c--;var o=u.slice(s).join(""),p=ze(r)&&o.length||o.match(/[1-9]/)?"."+o:"",v=u.slice(0,s).join("")+p+"e"+(t>=0?"+":"")+a.toString();return i.sign+v}function To(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=kt(e),i=typeof r=="number"?jt(n,n.exponent+1+r):n,t=i.coefficients,u=i.exponent+1,a=u+(r||0);return t.length<a&&(t=t.concat(Hr(a-t.length))),u<0&&(t=Hr(-u+1).concat(t),u=1),u<t.length&&t.splice(u,0,u===0?"0.":"."),i.sign+t.join("")}function Du(e,r){if(isNaN(e)||!isFinite(e))return String(e);var n=kt(e),i=r?jt(n,r):n,t=i.coefficients,u=i.exponent;t.length<r&&(t=t.concat(Hr(r-t.length)));var a=t.shift();return i.sign+a+(t.length>0?"."+t.join(""):"")+"e"+(u>=0?"+":"")+u}function zo(e,r,n){if(isNaN(e)||!isFinite(e))return String(e);var i=n&&n.lowerExp!==void 0?n.lowerExp:-3,t=n&&n.upperExp!==void 0?n.upperExp:5,u=kt(e),a=r?jt(u,r):u;if(a.exponent<i||a.exponent>=t)return Du(e,r);var f=a.coefficients,l=a.exponent;f.length<r&&(f=f.concat(Hr(r-f.length))),f=f.concat(Hr(l-f.length+1+(f.length<r?r-f.length:0))),f=Hr(-l).concat(f);var c=l>0?l:0;return c<f.length-1&&f.splice(c+1,0,"."),a.sign+f.join("")}function jt(e,r){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=n.coefficients;r<=0;)i.unshift(0),n.exponent++,r++;if(i.length>r){var t=i.splice(r,i.length-r);if(t[0]>=5){var u=r-1;for(i[u]++;i[u]===10;)i.pop(),u===0&&(i.unshift(0),n.exponent++,u++),u--,i[u]++}}return n}function Hr(e){for(var r=[],n=0;n<e;n++)r.push(0);return r}function Io(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Oo=Number.EPSILON||2220446049250313e-31;function Or(e,r,n){if(n==null)return e===r;if(e===r)return!0;if(isNaN(e)||isNaN(r))return!1;if(isFinite(e)&&isFinite(r)){var i=Math.abs(e-r);return i<Oo?!0:i<=Math.max(Math.abs(e),Math.abs(r))*n}return!1}function vn(e,r,n){var i=e.constructor,t=new i(2),u="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Me(n))throw new Error("size must be an integer");if(e.greaterThan(t.pow(n-1).sub(1))||e.lessThan(t.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(t.pow(n))),u="i".concat(n)}switch(r){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(r," not supported "))}}function Po(e,r){if(typeof r=="function")return r(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i,t;if(r!==void 0&&(r.notation&&(n=r.notation),typeof r=="number"?i=r:r.precision&&(i=r.precision),r.wordSize&&(t=r.wordSize,typeof t!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return Ro(e,i);case"exponential":return Kn(e,i);case"engineering":return qo(e,i);case"bin":return vn(e,2,t);case"oct":return vn(e,8,t);case"hex":return vn(e,16,t);case"auto":{var u=r&&r.lowerExp!==void 0?r.lowerExp:-3,a=r&&r.upperExp!==void 0?r.upperExp:5;if(e.isZero())return"0";var f,l=e.toSignificantDigits(i),c=l.e;return c>=u&&c<a?f=l.toFixed():f=Kn(e,i),f.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return s!=="."?s+o:o})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qo(e,r){var n=e.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,t=e.mul(Math.pow(10,-i)),u=t.toPrecision(r);return u.indexOf("e")!==-1&&(u=t.toString()),u+"e"+(n>=0?"+":"")+i.toString()}function Kn(e,r){return r!==void 0?e.toExponential(r-1):e.toExponential()}function Ro(e,r){return e.toFixed(r)}function Te(e,r){var n=Uo(e,r);return r&&typeof r=="object"&&"truncate"in r&&n.length>r.truncate?n.substring(0,r.truncate-3)+"...":n}function Uo(e,r){if(typeof e=="number")return Dn(e,r);if(Re(e))return Po(e,r);if(Lo(e))return!r||r.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return gu(e,r);if(Dr(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(r);if(e&&e.toString(r)!=={}.toString())return e.toString(r);var n=Object.keys(e).map(i=>'"'+i+'": '+Te(e[i],r));return"{"+n.join(", ")+"}"}return String(e)}function gu(e,r){if(Array.isArray(e)){for(var n="[",i=e.length,t=0;t<i;t++)t!==0&&(n+=", "),n+=gu(e[t],r);return n+="]",n}else return Te(e,r)}function Lo(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function ge(e,r,n){if(!(this instanceof ge))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=r,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=new Error().stack}ge.prototype=new RangeError;ge.prototype.constructor=RangeError;ge.prototype.name="DimensionError";ge.prototype.isDimensionError=!0;function qr(e,r,n){if(!(this instanceof qr))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}qr.prototype=new RangeError;qr.prototype.constructor=RangeError;qr.prototype.name="IndexError";qr.prototype.isIndexError=!0;function Oe(e){for(var r=[];Array.isArray(e);)r.push(e.length),e=e[0];return r}function yu(e,r,n){var i,t=e.length;if(t!==r[n])throw new ge(t,r[n]);if(n<r.length-1){var u=n+1;for(i=0;i<t;i++){var a=e[i];if(!Array.isArray(a))throw new ge(r.length-1,r.length,"<");yu(e[i],r,u)}}else for(i=0;i<t;i++)if(Array.isArray(e[i]))throw new ge(r.length+1,r.length,">")}function Hn(e,r){var n=r.length===0;if(n){if(Array.isArray(e))throw new ge(e.length,0)}else yu(e,r,0)}function Ce(e,r){if(!ze(e)||!Me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof r=="number"&&e>=r)throw new qr(e,r)}function pt(e,r,n){if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new Error("Resizing to scalar is not supported");r.forEach(function(t){if(!ze(t)||!Me(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Te(r)+")")});var i=n!==void 0?n:0;return gn(e,r,0,i),e}function gn(e,r,n,i){var t,u,a=e.length,f=r[n],l=Math.min(a,f);if(e.length=f,n<r.length-1){var c=n+1;for(t=0;t<l;t++)u=e[t],Array.isArray(u)||(u=[u],e[t]=u),gn(u,r,c,i);for(t=l;t<f;t++)u=[],e[t]=u,gn(u,r,c,i)}else{for(t=0;t<l;t++)for(;Array.isArray(e[t]);)e[t]=e[t][0];for(t=l;t<f;t++)e[t]=i}}function wu(e,r){var n=yn(e),i=n.length;if(!Array.isArray(e)||!Array.isArray(r))throw new TypeError("Array expected");if(r.length===0)throw new ge(0,i,"!=");r=xn(r,i);var t=Au(r);if(i!==t)throw new ge(t,i,"!=");try{return Zo(n,r)}catch(u){throw u instanceof ge?new ge(t,i,"!="):u}}function xn(e,r){var n=Au(e),i=e.slice(),t=-1,u=e.indexOf(t),a=e.indexOf(t,u+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var f=u>=0,l=r%n===0;if(f)if(l)i[u]=-r/n;else throw new Error("Could not replace wildcard, since "+r+" is no multiple of "+-n);return i}function Au(e){return e.reduce((r,n)=>r*n,1)}function Zo(e,r){for(var n=e,i,t=r.length-1;t>0;t--){var u=r[t];i=[];for(var a=n.length/u,f=0;f<a;f++)i.push(n.slice(f*u,(f+1)*u));n=i}return n}function kn(e,r){for(var n=r||Oe(e);Array.isArray(e)&&e.length===1;)e=e[0],n.shift();for(var i=n.length;n[i-1]===1;)i--;return i<n.length&&(e=Eu(e,i,0),n.length=i),e}function Eu(e,r,n){var i,t;if(n<r){var u=n+1;for(i=0,t=e.length;i<t;i++)e[i]=Eu(e[i],r,u)}else for(;Array.isArray(e);)e=e[0];return e}function Fu(e,r,n,i){var t=i||Oe(e);if(n)for(var u=0;u<n;u++)e=[e],t.unshift(1);for(e=Cu(e,r,0);t.length<r;)t.push(1);return e}function Cu(e,r,n){var i,t;if(Array.isArray(e)){var u=n+1;for(i=0,t=e.length;i<t;i++)e[i]=Cu(e[i],r,u)}else for(var a=n;a<r;a++)e=[e];return e}function yn(e){if(!Array.isArray(e))return e;var r=[];return e.forEach(function n(i){Array.isArray(i)?i.forEach(n):r.push(i)}),r}function Ot(e,r){for(var n,i=0,t=0;t<e.length;t++){var u=e[t],a=Array.isArray(u);if(t===0&&a&&(i=u.length),a&&u.length!==i)return;var f=a?Ot(u,r):r(u);if(n===void 0)n=f;else if(n!==f)return"mixed"}return n}function H(e,r,n,i){function t(u){var a=Bo(u,r.map(Yo));return Vo(e,r,u),n(a)}return t.isFactory=!0,t.fn=e,t.dependencies=r.slice().sort(),i&&(t.meta=i),t}function Vo(e,r,n){var i=r.filter(u=>!Wo(u)).every(u=>n[u]!==void 0);if(!i){var t=r.filter(u=>n[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(t.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Wo(e){return e&&e[0]==="?"}function Yo(e){return e&&e[0]==="?"?e.slice(1):e}function bu(e,r){if(_u(e)&&Mu(e,r))return e[r];throw typeof e[r]=="function"&&Jo(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}function Bu(e,r,n){if(_u(e)&&Mu(e,r))return e[r]=n,n;throw new Error('No access to property "'+r+'"')}function Qo(e,r){return r in e}function Mu(e,r){return!e||typeof e!="object"?!1:vt(Xo,r)?!0:!(r in Object.prototype||r in Function.prototype)}function Jo(e,r){return e==null||typeof e[r]!="function"||vt(e,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(e)?!1:vt(Go,r)?!0:!(r in Object.prototype||r in Function.prototype)}function _u(e){return typeof e=="object"&&e&&e.constructor===Object}var Xo={length:!0,name:!0},Go={toString:!0,valueOf:!0,toLocaleString:!0};class $o{constructor(r){this.wrappedObject=r}keys(){return Object.keys(this.wrappedObject)}get(r){return bu(this.wrappedObject,r)}set(r,n){return Bu(this.wrappedObject,r,n),this}has(r){return Qo(this.wrappedObject,r)}}function Ko(e){return e?e instanceof Map||e instanceof $o||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Nu=function(){return Nu=$n.create,$n},Ho=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ko=H("typed",Ho,function(r){var{BigNumber:n,Complex:i,DenseMatrix:t,Fraction:u}=r,a=Nu();return a.clear(),a.addTypes([{name:"number",test:ze},{name:"Complex",test:_n},{name:"BigNumber",test:Re},{name:"Fraction",test:Nn},{name:"Unit",test:lu},{name:"identifier",test:f=>Dr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])*$/.test(f)},{name:"string",test:Dr},{name:"Chain",test:Co},{name:"Array",test:be},{name:"Matrix",test:_e},{name:"DenseMatrix",test:cu},{name:"SparseMatrix",test:hu},{name:"Range",test:vu},{name:"Index",test:Ht},{name:"boolean",test:ja},{name:"ResultSet",test:eo},{name:"Help",test:ro},{name:"function",test:to},{name:"Date",test:no},{name:"RegExp",test:io},{name:"null",test:ao},{name:"undefined",test:oo},{name:"AccessorNode",test:so},{name:"ArrayNode",test:fo},{name:"AssignmentNode",test:lo},{name:"BlockNode",test:co},{name:"ConditionalNode",test:ho},{name:"ConstantNode",test:vo},{name:"FunctionNode",test:mo},{name:"FunctionAssignmentNode",test:po},{name:"IndexNode",test:Do},{name:"Node",test:go},{name:"ObjectNode",test:yo},{name:"OperatorNode",test:wo},{name:"ParenthesisNode",test:Ao},{name:"RangeNode",test:Eo},{name:"SymbolNode",test:Fo},{name:"Map",test:Ko},{name:"Object",test:uo}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||pn(l),Io(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return i||_t(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||_t(l),new i(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||_t(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){u||mn(l);var c=new u(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){n||pn(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){u||mn(l);try{return new u(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||_t(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||pn(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return u||mn(l),new u(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return t||jo(),new t(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(f,l,c)=>{var s=a.createError(f,l,c);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&ht(l[0])&&c.some(p=>!p.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=s.data,o}throw s},a.onMismatch=(f,l,c)=>{var s=a.createError(f,l,c);if(["wrongType","mismatch"].includes(s.data.category)&&l.length===1&&ht(l[0])&&c.some(p=>!p.params.includes(","))){var o=new TypeError("Function '".concat(f,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(f,")'."));throw o.data=s.data,o}throw s},a});function pn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function _t(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function jo(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function mn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Kr=9e15,Rr=1e9,wn="0123456789abcdef",Pt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",qt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",An={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Kr,maxE:Kr,crypto:!1},xu,Mr,he=!0,en="[DecimalError] ",Pr=en+"Invalid argument: ",Su=en+"Precision limit exceeded",Tu=en+"crypto unavailable",zu="[object Decimal]",He=Math.floor,Ze=Math.pow,es=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,rs=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ts=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Iu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr=1e7,le=7,ns=9007199254740991,is=Pt.length-1,En=qt.length-1,X={toStringTag:zu};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),fe(e)};X.ceil=function(){return fe(new this.constructor(this),this.e+1,2)};X.clampedTo=X.clamp=function(e,r){var n,i=this,t=i.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(Pr+r);return n=i.cmp(e),n<0?e:i.cmp(r)>0?r:new t(i)};X.comparedTo=X.cmp=function(e){var r,n,i,t,u=this,a=u.d,f=(e=new u.constructor(e)).d,l=u.s,c=e.s;if(!a||!f)return!l||!c?NaN:l!==c?l:a===f?0:!a^l<0?1:-1;if(!a[0]||!f[0])return a[0]?l:f[0]?-c:0;if(l!==c)return l;if(u.e!==e.e)return u.e>e.e^l<0?1:-1;for(i=a.length,t=f.length,r=0,n=i<t?i:t;r<n;++r)if(a[r]!==f[r])return a[r]>f[r]^l<0?1:-1;return i===t?0:i>t^l<0?1:-1};X.cosine=X.cos=function(){var e,r,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,r=i.rounding,i.precision=e+Math.max(n.e,n.sd())+le,i.rounding=1,n=us(i,Uu(i,n)),i.precision=e,i.rounding=r,fe(Mr==2||Mr==3?n.neg():n,e,r,!0)):new i(1):new i(NaN)};X.cubeRoot=X.cbrt=function(){var e,r,n,i,t,u,a,f,l,c,s=this,o=s.constructor;if(!s.isFinite()||s.isZero())return new o(s);for(he=!1,u=s.s*Ze(s.s*s,1/3),!u||Math.abs(u)==1/0?(n=Ge(s.d),e=s.e,(u=(e-n.length+1)%3)&&(n+=u==1||u==-2?"0":"00"),u=Ze(n,1/3),e=He((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?n="5e"+e:(n=u.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new o(n),i.s=s.s):i=new o(u.toString()),a=(e=o.precision)+3;;)if(f=i,l=f.times(f).times(f),c=l.plus(s),i=Ne(c.plus(s).times(f),c.plus(l),a+2,1),Ge(f.d).slice(0,a)===(n=Ge(i.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!t&&n=="4999"){if(!t&&(fe(f,e+1,0),f.times(f).times(f).eq(s))){i=f;break}a+=4,t=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(fe(i,e+1,1),r=!i.times(i).times(i).eq(s));break}return he=!0,fe(i,e,o.rounding,r)};X.decimalPlaces=X.dp=function(){var e,r=this.d,n=NaN;if(r){if(e=r.length-1,n=(e-He(this.e/le))*le,e=r[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};X.dividedBy=X.div=function(e){return Ne(this,new this.constructor(e))};X.dividedToIntegerBy=X.divToInt=function(e){var r=this,n=r.constructor;return fe(Ne(r,new n(e),0,1,1),n.precision,n.rounding)};X.equals=X.eq=function(e){return this.cmp(e)===0};X.floor=function(){return fe(new this.constructor(this),this.e+1,3)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){var r=this.cmp(e);return r==1||r===0};X.hyperbolicCosine=X.cosh=function(){var e,r,n,i,t,u=this,a=u.constructor,f=new a(1);if(!u.isFinite())return new a(u.s?1/0:NaN);if(u.isZero())return f;n=a.precision,i=a.rounding,a.precision=n+Math.max(u.e,u.sd())+4,a.rounding=1,t=u.d.length,t<32?(e=Math.ceil(t/3),r=(1/tn(4,e)).toString()):(e=16,r="2.3283064365386962890625e-10"),u=jr(a,1,u.times(r),new a(1),!0);for(var l,c=e,s=new a(8);c--;)l=u.times(u),u=f.minus(l.times(s.minus(l.times(s))));return fe(u,a.precision=n,a.rounding=i,!0)};X.hyperbolicSine=X.sinh=function(){var e,r,n,i,t=this,u=t.constructor;if(!t.isFinite()||t.isZero())return new u(t);if(r=u.precision,n=u.rounding,u.precision=r+Math.max(t.e,t.sd())+4,u.rounding=1,i=t.d.length,i<3)t=jr(u,2,t,t,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,t=t.times(1/tn(5,e)),t=jr(u,2,t,t,!0);for(var a,f=new u(5),l=new u(16),c=new u(20);e--;)a=t.times(t),t=t.times(f.plus(a.times(l.times(a).plus(c))))}return u.precision=r,u.rounding=n,fe(t,r,n,!0)};X.hyperbolicTangent=X.tanh=function(){var e,r,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,r=i.rounding,i.precision=e+7,i.rounding=1,Ne(n.sinh(),n.cosh(),i.precision=e,i.rounding=r)):new i(n.s)};X.inverseCosine=X.acos=function(){var e,r=this,n=r.constructor,i=r.abs().cmp(1),t=n.precision,u=n.rounding;return i!==-1?i===0?r.isNeg()?gr(n,t,u):new n(0):new n(NaN):r.isZero()?gr(n,t+4,u).times(.5):(n.precision=t+6,n.rounding=1,r=r.asin(),e=gr(n,t+4,u).times(.5),n.precision=t,n.rounding=u,e.minus(r))};X.inverseHyperbolicCosine=X.acosh=function(){var e,r,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,r=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,he=!1,n=n.times(n).minus(1).sqrt().plus(n),he=!0,i.precision=e,i.rounding=r,n.ln()):new i(n)};X.inverseHyperbolicSine=X.asinh=function(){var e,r,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,r=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,he=!1,n=n.times(n).plus(1).sqrt().plus(n),he=!0,i.precision=e,i.rounding=r,n.ln())};X.inverseHyperbolicTangent=X.atanh=function(){var e,r,n,i,t=this,u=t.constructor;return t.isFinite()?t.e>=0?new u(t.abs().eq(1)?t.s/0:t.isZero()?t:NaN):(e=u.precision,r=u.rounding,i=t.sd(),Math.max(i,e)<2*-t.e-1?fe(new u(t),e,r,!0):(u.precision=n=i-t.e,t=Ne(t.plus(1),new u(1).minus(t),n+e,1),u.precision=e+4,u.rounding=1,t=t.ln(),u.precision=e,u.rounding=r,t.times(.5))):new u(NaN)};X.inverseSine=X.asin=function(){var e,r,n,i,t=this,u=t.constructor;return t.isZero()?new u(t):(r=t.abs().cmp(1),n=u.precision,i=u.rounding,r!==-1?r===0?(e=gr(u,n+4,i).times(.5),e.s=t.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,t=t.div(new u(1).minus(t.times(t)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=i,t.times(2)))};X.inverseTangent=X.atan=function(){var e,r,n,i,t,u,a,f,l,c=this,s=c.constructor,o=s.precision,p=s.rounding;if(c.isFinite()){if(c.isZero())return new s(c);if(c.abs().eq(1)&&o+4<=En)return a=gr(s,o+4,p).times(.25),a.s=c.s,a}else{if(!c.s)return new s(NaN);if(o+4<=En)return a=gr(s,o+4,p).times(.5),a.s=c.s,a}for(s.precision=f=o+10,s.rounding=1,n=Math.min(28,f/le+2|0),e=n;e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(he=!1,r=Math.ceil(f/le),i=1,l=c.times(c),a=new s(c),t=c;e!==-1;)if(t=t.times(l),u=a.minus(t.div(i+=2)),t=t.times(l),a=u.plus(t.div(i+=2)),a.d[r]!==void 0)for(e=r;a.d[e]===u.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),he=!0,fe(a,s.precision=o,s.rounding=p,!0)};X.isFinite=function(){return!!this.d};X.isInteger=X.isInt=function(){return!!this.d&&He(this.e/le)>this.d.length-2};X.isNaN=function(){return!this.s};X.isNegative=X.isNeg=function(){return this.s<0};X.isPositive=X.isPos=function(){return this.s>0};X.isZero=function(){return!!this.d&&this.d[0]===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var r,n,i,t,u,a,f,l,c=this,s=c.constructor,o=s.precision,p=s.rounding,v=5;if(e==null)e=new s(10),r=!0;else{if(e=new s(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new s(NaN);r=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new s(n&&!n[0]?-1/0:c.s!=1?NaN:n?0:1/0);if(r)if(n.length>1)u=!0;else{for(t=n[0];t%10===0;)t/=10;u=t!==1}if(he=!1,f=o+v,a=Tr(c,f),i=r?Rt(s,f+10):Tr(e,f),l=Ne(a,i,f,1),mt(l.d,t=o,p))do if(f+=10,a=Tr(c,f),i=r?Rt(s,f+10):Tr(e,f),l=Ne(a,i,f,1),!u){+Ge(l.d).slice(t+1,t+15)+1==1e14&&(l=fe(l,o+1,0));break}while(mt(l.d,t+=10,p));return he=!0,fe(l,o,p)};X.minus=X.sub=function(e){var r,n,i,t,u,a,f,l,c,s,o,p,v=this,m=v.constructor;if(e=new m(e),!v.d||!e.d)return!v.s||!e.s?e=new m(NaN):v.d?e.s=-e.s:e=new m(e.d||v.s!==e.s?v:NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(c=v.d,p=e.d,f=m.precision,l=m.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else if(c[0])e=new m(v);else return new m(l===3?-0:0);return he?fe(e,f,l):e}if(n=He(e.e/le),s=He(v.e/le),c=c.slice(),u=s-n,u){for(o=u<0,o?(r=c,u=-u,a=p.length):(r=p,n=s,a=c.length),i=Math.max(Math.ceil(f/le),a)+2,u>i&&(u=i,r.length=1),r.reverse(),i=u;i--;)r.push(0);r.reverse()}else{for(i=c.length,a=p.length,o=i<a,o&&(a=i),i=0;i<a;i++)if(c[i]!=p[i]){o=c[i]<p[i];break}u=0}for(o&&(r=c,c=p,p=r,e.s=-e.s),a=c.length,i=p.length-a;i>0;--i)c[a++]=0;for(i=p.length;i>u;){if(c[--i]<p[i]){for(t=i;t&&c[--t]===0;)c[t]=yr-1;--c[t],c[i]+=yr}c[i]-=p[i]}for(;c[--a]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=rn(c,n),he?fe(e,f,l):e):new m(l===3?-0:0)};X.modulo=X.mod=function(e){var r,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?fe(new i(n),i.precision,i.rounding):(he=!1,i.modulo==9?(r=Ne(n,e.abs(),0,3,1),r.s*=e.s):r=Ne(n,e,0,i.modulo,1),r=r.times(e),he=!0,n.minus(r))};X.naturalExponential=X.exp=function(){return Fn(this)};X.naturalLogarithm=X.ln=function(){return Tr(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s,fe(e)};X.plus=X.add=function(e){var r,n,i,t,u,a,f,l,c,s,o=this,p=o.constructor;if(e=new p(e),!o.d||!e.d)return!o.s||!e.s?e=new p(NaN):o.d||(e=new p(e.d||o.s===e.s?o:NaN)),e;if(o.s!=e.s)return e.s=-e.s,o.minus(e);if(c=o.d,s=e.d,f=p.precision,l=p.rounding,!c[0]||!s[0])return s[0]||(e=new p(o)),he?fe(e,f,l):e;if(u=He(o.e/le),i=He(e.e/le),c=c.slice(),t=u-i,t){for(t<0?(n=c,t=-t,a=s.length):(n=s,i=u,a=c.length),u=Math.ceil(f/le),a=u>a?u+1:a+1,t>a&&(t=a,n.length=1),n.reverse();t--;)n.push(0);n.reverse()}for(a=c.length,t=s.length,a-t<0&&(t=a,n=s,s=c,c=n),r=0;t;)r=(c[--t]=c[t]+s[t]+r)/yr|0,c[t]%=yr;for(r&&(c.unshift(r),++i),a=c.length;c[--a]==0;)c.pop();return e.d=c,e.e=rn(c,i),he?fe(e,f,l):e};X.precision=X.sd=function(e){var r,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pr+e);return n.d?(r=Ou(n.d),e&&n.e+1>r&&(r=n.e+1)):r=NaN,r};X.round=function(){var e=this,r=e.constructor;return fe(new r(e),e.e+1,r.rounding)};X.sine=X.sin=function(){var e,r,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,r=i.rounding,i.precision=e+Math.max(n.e,n.sd())+le,i.rounding=1,n=os(i,Uu(i,n)),i.precision=e,i.rounding=r,fe(Mr>2?n.neg():n,e,r,!0)):new i(NaN)};X.squareRoot=X.sqrt=function(){var e,r,n,i,t,u,a=this,f=a.d,l=a.e,c=a.s,s=a.constructor;if(c!==1||!f||!f[0])return new s(!c||c<0&&(!f||f[0])?NaN:f?a:1/0);for(he=!1,c=Math.sqrt(+a),c==0||c==1/0?(r=Ge(f),(r.length+l)%2==0&&(r+="0"),c=Math.sqrt(r),l=He((l+1)/2)-(l<0||l%2),c==1/0?r="5e"+l:(r=c.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),i=new s(r)):i=new s(c.toString()),n=(l=s.precision)+3;;)if(u=i,i=u.plus(Ne(a,u,n+2,1)).times(.5),Ge(u.d).slice(0,n)===(r=Ge(i.d)).slice(0,n))if(r=r.slice(n-3,n+1),r=="9999"||!t&&r=="4999"){if(!t&&(fe(u,l+1,0),u.times(u).eq(a))){i=u;break}n+=4,t=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(fe(i,l+1,1),e=!i.times(i).eq(a));break}return he=!0,fe(i,l,s.rounding,e)};X.tangent=X.tan=function(){var e,r,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,r=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=Ne(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=r,fe(Mr==2||Mr==4?n.neg():n,e,r,!0)):new i(NaN)};X.times=X.mul=function(e){var r,n,i,t,u,a,f,l,c,s=this,o=s.constructor,p=s.d,v=(e=new o(e)).d;if(e.s*=s.s,!p||!p[0]||!v||!v[0])return new o(!e.s||p&&!p[0]&&!v||v&&!v[0]&&!p?NaN:!p||!v?e.s/0:e.s*0);for(n=He(s.e/le)+He(e.e/le),l=p.length,c=v.length,l<c&&(u=p,p=v,v=u,a=l,l=c,c=a),u=[],a=l+c,i=a;i--;)u.push(0);for(i=c;--i>=0;){for(r=0,t=l+i;t>i;)f=u[t]+v[i]*p[t-i-1]+r,u[t--]=f%yr|0,r=f/yr|0;u[t]=(u[t]+r)%yr|0}for(;!u[--a];)u.pop();return r?++n:u.shift(),e.d=u,e.e=rn(u,n),he?fe(e,o.precision,o.rounding):e};X.toBinary=function(e,r){return Sn(this,2,e,r)};X.toDecimalPlaces=X.toDP=function(e,r){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(or(e,0,Rr),r===void 0?r=i.rounding:or(r,0,8),fe(n,e+n.e+1,r))};X.toExponential=function(e,r){var n,i=this,t=i.constructor;return e===void 0?n=Fr(i,!0):(or(e,0,Rr),r===void 0?r=t.rounding:or(r,0,8),i=fe(new t(i),e+1,r),n=Fr(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};X.toFixed=function(e,r){var n,i,t=this,u=t.constructor;return e===void 0?n=Fr(t):(or(e,0,Rr),r===void 0?r=u.rounding:or(r,0,8),i=fe(new u(t),e+t.e+1,r),n=Fr(i,!1,e+i.e+1)),t.isNeg()&&!t.isZero()?"-"+n:n};X.toFraction=function(e){var r,n,i,t,u,a,f,l,c,s,o,p,v=this,m=v.d,h=v.constructor;if(!m)return new h(v);if(c=n=new h(1),i=l=new h(0),r=new h(i),u=r.e=Ou(m)-v.e-1,a=u%le,r.d[0]=Ze(10,a<0?le+a:a),e==null)e=u>0?r:c;else{if(f=new h(e),!f.isInt()||f.lt(c))throw Error(Pr+f);e=f.gt(r)?u>0?r:c:f}for(he=!1,f=new h(Ge(m)),s=h.precision,h.precision=u=m.length*le*2;o=Ne(f,r,0,1,1),t=n.plus(o.times(i)),t.cmp(e)!=1;)n=i,i=t,t=c,c=l.plus(o.times(t)),l=t,t=r,r=f.minus(o.times(t)),f=t;return t=Ne(e.minus(n),i,0,1,1),l=l.plus(t.times(c)),n=n.plus(t.times(i)),l.s=c.s=v.s,p=Ne(c,i,u,1).minus(v).abs().cmp(Ne(l,n,u,1).minus(v).abs())<1?[c,i]:[l,n],h.precision=s,he=!0,p};X.toHexadecimal=X.toHex=function(e,r){return Sn(this,16,e,r)};X.toNearest=function(e,r){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),r=i.rounding}else{if(e=new i(e),r===void 0?r=i.rounding:or(r,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(he=!1,n=Ne(n,e,0,r,1).times(e),he=!0,fe(n)):(e.s=n.s,n=e),n};X.toNumber=function(){return+this};X.toOctal=function(e,r){return Sn(this,8,e,r)};X.toPower=X.pow=function(e){var r,n,i,t,u,a,f=this,l=f.constructor,c=+(e=new l(e));if(!f.d||!e.d||!f.d[0]||!e.d[0])return new l(Ze(+f,c));if(f=new l(f),f.eq(1))return f;if(i=l.precision,u=l.rounding,e.eq(1))return fe(f,i,u);if(r=He(e.e/le),r>=e.d.length-1&&(n=c<0?-c:c)<=ns)return t=Pu(l,f,n,i),e.s<0?new l(1).div(t):fe(t,i,u);if(a=f.s,a<0){if(r<e.d.length-1)return new l(NaN);if((e.d[r]&1)==0&&(a=1),f.e==0&&f.d[0]==1&&f.d.length==1)return f.s=a,f}return n=Ze(+f,c),r=n==0||!isFinite(n)?He(c*(Math.log("0."+Ge(f.d))/Math.LN10+f.e+1)):new l(n+"").e,r>l.maxE+1||r<l.minE-1?new l(r>0?a/0:0):(he=!1,l.rounding=f.s=1,n=Math.min(12,(r+"").length),t=Fn(e.times(Tr(f,i+n)),i),t.d&&(t=fe(t,i+5,1),mt(t.d,i,u)&&(r=i+10,t=fe(Fn(e.times(Tr(f,r+n)),r),r+5,1),+Ge(t.d).slice(i+1,i+15)+1==1e14&&(t=fe(t,i+1,0)))),t.s=a,he=!0,l.rounding=u,fe(t,i,u))};X.toPrecision=function(e,r){var n,i=this,t=i.constructor;return e===void 0?n=Fr(i,i.e<=t.toExpNeg||i.e>=t.toExpPos):(or(e,1,Rr),r===void 0?r=t.rounding:or(r,0,8),i=fe(new t(i),e,r),n=Fr(i,e<=i.e||i.e<=t.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};X.toSignificantDigits=X.toSD=function(e,r){var n=this,i=n.constructor;return e===void 0?(e=i.precision,r=i.rounding):(or(e,1,Rr),r===void 0?r=i.rounding:or(r,0,8)),fe(new i(n),e,r)};X.toString=function(){var e=this,r=e.constructor,n=Fr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};X.truncated=X.trunc=function(){return fe(new this.constructor(this),this.e+1,1)};X.valueOf=X.toJSON=function(){var e=this,r=e.constructor,n=Fr(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+n:n};function Ge(e){var r,n,i,t=e.length-1,u="",a=e[0];if(t>0){for(u+=a,r=1;r<t;r++)i=e[r]+"",n=le-i.length,n&&(u+=Sr(n)),u+=i;a=e[r],i=a+"",n=le-i.length,n&&(u+=Sr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return u+a}function or(e,r,n){if(e!==~~e||e<r||e>n)throw Error(Pr+e)}function mt(e,r,n,i){var t,u,a,f;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=le,t=0):(t=Math.ceil((r+1)/le),r%=le),u=Ze(10,le-r),f=e[t]%u|0,i==null?r<3?(r==0?f=f/100|0:r==1&&(f=f/10|0),a=n<4&&f==99999||n>3&&f==49999||f==5e4||f==0):a=(n<4&&f+1==u||n>3&&f+1==u/2)&&(e[t+1]/u/100|0)==Ze(10,r-2)-1||(f==u/2||f==0)&&(e[t+1]/u/100|0)==0:r<4?(r==0?f=f/1e3|0:r==1?f=f/100|0:r==2&&(f=f/10|0),a=(i||n<4)&&f==9999||!i&&n>3&&f==4999):a=((i||n<4)&&f+1==u||!i&&n>3&&f+1==u/2)&&(e[t+1]/u/1e3|0)==Ze(10,r-3)-1,a}function xt(e,r,n){for(var i,t=[0],u,a=0,f=e.length;a<f;){for(u=t.length;u--;)t[u]*=r;for(t[0]+=wn.indexOf(e.charAt(a++)),i=0;i<t.length;i++)t[i]>n-1&&(t[i+1]===void 0&&(t[i+1]=0),t[i+1]+=t[i]/n|0,t[i]%=n)}return t.reverse()}function us(e,r){var n,i,t;if(r.isZero())return r;i=r.d.length,i<32?(n=Math.ceil(i/3),t=(1/tn(4,n)).toString()):(n=16,t="2.3283064365386962890625e-10"),e.precision+=n,r=jr(e,1,r.times(t),new e(1));for(var u=n;u--;){var a=r.times(r);r=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,r}var Ne=function(){function e(i,t,u){var a,f=0,l=i.length;for(i=i.slice();l--;)a=i[l]*t+f,i[l]=a%u|0,f=a/u|0;return f&&i.unshift(f),i}function r(i,t,u,a){var f,l;if(u!=a)l=u>a?1:-1;else for(f=l=0;f<u;f++)if(i[f]!=t[f]){l=i[f]>t[f]?1:-1;break}return l}function n(i,t,u,a){for(var f=0;u--;)i[u]-=f,f=i[u]<t[u]?1:0,i[u]=f*a+i[u]-t[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,t,u,a,f,l){var c,s,o,p,v,m,h,D,d,w,g,E,C,A,F,y,B,b,N,M,x=i.constructor,z=i.s==t.s?1:-1,O=i.d,S=t.d;if(!O||!O[0]||!S||!S[0])return new x(!i.s||!t.s||(O?S&&O[0]==S[0]:!S)?NaN:O&&O[0]==0||!S?z*0:z/0);for(l?(v=1,s=i.e-t.e):(l=yr,v=le,s=He(i.e/v)-He(t.e/v)),N=S.length,B=O.length,d=new x(z),w=d.d=[],o=0;S[o]==(O[o]||0);o++);if(S[o]>(O[o]||0)&&s--,u==null?(A=u=x.precision,a=x.rounding):f?A=u+(i.e-t.e)+1:A=u,A<0)w.push(1),m=!0;else{if(A=A/v+2|0,o=0,N==1){for(p=0,S=S[0],A++;(o<B||p)&&A--;o++)F=p*l+(O[o]||0),w[o]=F/S|0,p=F%S|0;m=p||o<B}else{for(p=l/(S[0]+1)|0,p>1&&(S=e(S,p,l),O=e(O,p,l),N=S.length,B=O.length),y=N,g=O.slice(0,N),E=g.length;E<N;)g[E++]=0;M=S.slice(),M.unshift(0),b=S[0],S[1]>=l/2&&++b;do p=0,c=r(S,g,N,E),c<0?(C=g[0],N!=E&&(C=C*l+(g[1]||0)),p=C/b|0,p>1?(p>=l&&(p=l-1),h=e(S,p,l),D=h.length,E=g.length,c=r(h,g,D,E),c==1&&(p--,n(h,N<D?M:S,D,l))):(p==0&&(c=p=1),h=S.slice()),D=h.length,D<E&&h.unshift(0),n(g,h,E,l),c==-1&&(E=g.length,c=r(S,g,N,E),c<1&&(p++,n(g,N<E?M:S,E,l))),E=g.length):c===0&&(p++,g=[0]),w[o++]=p,c&&g[0]?g[E++]=O[y]||0:(g=[O[y]],E=1);while((y++<B||g[0]!==void 0)&&A--);m=g[0]!==void 0}w[0]||w.shift()}if(v==1)d.e=s,xu=m;else{for(o=1,p=w[0];p>=10;p/=10)o++;d.e=o+s*v-1,fe(d,f?u+d.e+1:u,a,m)}return d}}();function fe(e,r,n,i){var t,u,a,f,l,c,s,o,p,v=e.constructor;e:if(r!=null){if(o=e.d,!o)return e;for(t=1,f=o[0];f>=10;f/=10)t++;if(u=r-t,u<0)u+=le,a=r,s=o[p=0],l=s/Ze(10,t-a-1)%10|0;else if(p=Math.ceil((u+1)/le),f=o.length,p>=f)if(i){for(;f++<=p;)o.push(0);s=l=0,t=1,u%=le,a=u-le+1}else break e;else{for(s=f=o[p],t=1;f>=10;f/=10)t++;u%=le,a=u-le+t,l=a<0?0:s/Ze(10,t-a-1)%10|0}if(i=i||r<0||o[p+1]!==void 0||(a<0?s:s%Ze(10,t-a-1)),c=n<4?(l||i)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||i||n==6&&(u>0?a>0?s/Ze(10,t-a):0:o[p-1])%10&1||n==(e.s<0?8:7)),r<1||!o[0])return o.length=0,c?(r-=e.e+1,o[0]=Ze(10,(le-r%le)%le),e.e=-r||0):o[0]=e.e=0,e;if(u==0?(o.length=p,f=1,p--):(o.length=p+1,f=Ze(10,le-u),o[p]=a>0?(s/Ze(10,t-a)%Ze(10,a)|0)*f:0),c)for(;;)if(p==0){for(u=1,a=o[0];a>=10;a/=10)u++;for(a=o[0]+=f,f=1;a>=10;a/=10)f++;u!=f&&(e.e++,o[0]==yr&&(o[0]=1));break}else{if(o[p]+=f,o[p]!=yr)break;o[p--]=0,f=1}for(u=o.length;o[--u]===0;)o.pop()}return he&&(e.e>v.maxE?(e.d=null,e.e=NaN):e.e<v.minE&&(e.e=0,e.d=[0])),e}function Fr(e,r,n){if(!e.isFinite())return Ru(e);var i,t=e.e,u=Ge(e.d),a=u.length;return r?(n&&(i=n-a)>0?u=u.charAt(0)+"."+u.slice(1)+Sr(i):a>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):t<0?(u="0."+Sr(-t-1)+u,n&&(i=n-a)>0&&(u+=Sr(i))):t>=a?(u+=Sr(t+1-a),n&&(i=n-t-1)>0&&(u=u+"."+Sr(i))):((i=t+1)<a&&(u=u.slice(0,i)+"."+u.slice(i)),n&&(i=n-a)>0&&(t+1===a&&(u+="."),u+=Sr(i))),u}function rn(e,r){var n=e[0];for(r*=le;n>=10;n/=10)r++;return r}function Rt(e,r,n){if(r>is)throw he=!0,n&&(e.precision=n),Error(Su);return fe(new e(Pt),r,1,!0)}function gr(e,r,n){if(r>En)throw Error(Su);return fe(new e(qt),r,n,!0)}function Ou(e){var r=e.length-1,n=r*le+1;if(r=e[r],r){for(;r%10==0;r/=10)n--;for(r=e[0];r>=10;r/=10)n++}return n}function Sr(e){for(var r="";e--;)r+="0";return r}function Pu(e,r,n,i){var t,u=new e(1),a=Math.ceil(i/le+4);for(he=!1;;){if(n%2&&(u=u.times(r),ei(u.d,a)&&(t=!0)),n=He(n/2),n===0){n=u.d.length-1,t&&u.d[n]===0&&++u.d[n];break}r=r.times(r),ei(r.d,a)}return he=!0,u}function jn(e){return e.d[e.d.length-1]&1}function qu(e,r,n){for(var i,t=new e(r[0]),u=0;++u<r.length;)if(i=new e(r[u]),i.s)t[n](i)&&(t=i);else{t=i;break}return t}function Fn(e,r){var n,i,t,u,a,f,l,c=0,s=0,o=0,p=e.constructor,v=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(r==null?(he=!1,l=m):l=r,f=new p(.03125);e.e>-2;)e=e.times(f),o+=5;for(i=Math.log(Ze(2,o))/Math.LN10*2+5|0,l+=i,n=u=a=new p(1),p.precision=l;;){if(u=fe(u.times(e),l,1),n=n.times(++s),f=a.plus(Ne(u,n,l,1)),Ge(f.d).slice(0,l)===Ge(a.d).slice(0,l)){for(t=o;t--;)a=fe(a.times(a),l,1);if(r==null)if(c<3&&mt(a.d,l-i,v,c))p.precision=l+=10,n=u=f=new p(1),s=0,c++;else return fe(a,p.precision=m,v,he=!0);else return p.precision=m,a}a=f}}function Tr(e,r){var n,i,t,u,a,f,l,c,s,o,p,v=1,m=10,h=e,D=h.d,d=h.constructor,w=d.rounding,g=d.precision;if(h.s<0||!D||!D[0]||!h.e&&D[0]==1&&D.length==1)return new d(D&&!D[0]?-1/0:h.s!=1?NaN:D?0:h);if(r==null?(he=!1,s=g):s=r,d.precision=s+=m,n=Ge(D),i=n.charAt(0),Math.abs(u=h.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)h=h.times(e),n=Ge(h.d),i=n.charAt(0),v++;u=h.e,i>1?(h=new d("0."+n),u++):h=new d(i+"."+n.slice(1))}else return c=Rt(d,s+2,g).times(u+""),h=Tr(new d(i+"."+n.slice(1)),s-m).plus(c),d.precision=g,r==null?fe(h,g,w,he=!0):h;for(o=h,l=a=h=Ne(h.minus(1),h.plus(1),s,1),p=fe(h.times(h),s,1),t=3;;){if(a=fe(a.times(p),s,1),c=l.plus(Ne(a,new d(t),s,1)),Ge(c.d).slice(0,s)===Ge(l.d).slice(0,s))if(l=l.times(2),u!==0&&(l=l.plus(Rt(d,s+2,g).times(u+""))),l=Ne(l,new d(v),s,1),r==null)if(mt(l.d,s-m,w,f))d.precision=s+=m,c=a=h=Ne(o.minus(1),o.plus(1),s,1),p=fe(h.times(h),s,1),t=f=1;else return fe(l,d.precision=g,w,he=!0);else return d.precision=g,l;l=c,t+=2}}function Ru(e){return String(e.s*e.s/0)}function Cn(e,r){var n,i,t;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(i=r.search(/e/i))>0?(n<0&&(n=i),n+=+r.slice(i+1),r=r.substring(0,i)):n<0&&(n=r.length),i=0;r.charCodeAt(i)===48;i++);for(t=r.length;r.charCodeAt(t-1)===48;--t);if(r=r.slice(i,t),r){if(t-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%le,n<0&&(i+=le),i<t){for(i&&e.d.push(+r.slice(0,i)),t-=le;i<t;)e.d.push(+r.slice(i,i+=le));r=r.slice(i),i=le-r.length}else i-=t;for(;i--;)r+="0";e.d.push(+r),he&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function as(e,r){var n,i,t,u,a,f,l,c,s;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Iu.test(r))return Cn(e,r)}else if(r==="Infinity"||r==="NaN")return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(rs.test(r))n=16,r=r.toLowerCase();else if(es.test(r))n=2;else if(ts.test(r))n=8;else throw Error(Pr+r);for(u=r.search(/p/i),u>0?(l=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),u=r.indexOf("."),a=u>=0,i=e.constructor,a&&(r=r.replace(".",""),f=r.length,u=f-u,t=Pu(i,new i(n),u,u*2)),c=xt(r,n,yr),s=c.length-1,u=s;c[u]===0;--u)c.pop();return u<0?new i(e.s*0):(e.e=rn(c,s),e.d=c,he=!1,a&&(e=Ne(e,t,f*4)),l&&(e=e.times(Math.abs(l)<54?Ze(2,l):et.pow(2,l))),he=!0,e)}function os(e,r){var n,i=r.d.length;if(i<3)return r.isZero()?r:jr(e,2,r,r);n=1.4*Math.sqrt(i),n=n>16?16:n|0,r=r.times(1/tn(5,n)),r=jr(e,2,r,r);for(var t,u=new e(5),a=new e(16),f=new e(20);n--;)t=r.times(r),r=r.times(u.plus(t.times(a.times(t).minus(f))));return r}function jr(e,r,n,i,t){var u,a,f,l,c=e.precision,s=Math.ceil(c/le);for(he=!1,l=n.times(n),f=new e(i);;){if(a=Ne(f.times(l),new e(r++*r++),c,1),f=t?i.plus(a):i.minus(a),i=Ne(a.times(l),new e(r++*r++),c,1),a=f.plus(i),a.d[s]!==void 0){for(u=s;a.d[u]===f.d[u]&&u--;);if(u==-1)break}u=f,f=i,i=a,a=u}return he=!0,a.d.length=s+1,a}function tn(e,r){for(var n=e;--r;)n*=e;return n}function Uu(e,r){var n,i=r.s<0,t=gr(e,e.precision,1),u=t.times(.5);if(r=r.abs(),r.lte(u))return Mr=i?4:1,r;if(n=r.divToInt(t),n.isZero())Mr=i?3:2;else{if(r=r.minus(n.times(t)),r.lte(u))return Mr=jn(n)?i?2:3:i?4:1,r;Mr=jn(n)?i?1:4:i?3:2}return r.minus(t).abs()}function Sn(e,r,n,i){var t,u,a,f,l,c,s,o,p,v=e.constructor,m=n!==void 0;if(m?(or(n,1,Rr),i===void 0?i=v.rounding:or(i,0,8)):(n=v.precision,i=v.rounding),!e.isFinite())s=Ru(e);else{for(s=Fr(e),a=s.indexOf("."),m?(t=2,r==16?n=n*4-3:r==8&&(n=n*3-2)):t=r,a>=0&&(s=s.replace(".",""),p=new v(1),p.e=s.length-a,p.d=xt(Fr(p),10,t),p.e=p.d.length),o=xt(s,10,t),u=l=o.length;o[--l]==0;)o.pop();if(!o[0])s=m?"0p+0":"0";else{if(a<0?u--:(e=new v(e),e.d=o,e.e=u,e=Ne(e,p,n,i,0,t),o=e.d,u=e.e,c=xu),a=o[n],f=t/2,c=c||o[n+1]!==void 0,c=i<4?(a!==void 0||c)&&(i===0||i===(e.s<0?3:2)):a>f||a===f&&(i===4||c||i===6&&o[n-1]&1||i===(e.s<0?8:7)),o.length=n,c)for(;++o[--n]>t-1;)o[n]=0,n||(++u,o.unshift(1));for(l=o.length;!o[l-1];--l);for(a=0,s="";a<l;a++)s+=wn.charAt(o[a]);if(m){if(l>1)if(r==16||r==8){for(a=r==16?4:3,--l;l%a;l++)s+="0";for(o=xt(s,t,r),l=o.length;!o[l-1];--l);for(a=1,s="1.";a<l;a++)s+=wn.charAt(o[a])}else s=s.charAt(0)+"."+s.slice(1);s=s+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)s="0"+s;s="0."+s}else if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u))}s=(r==16?"0x":r==2?"0b":r==8?"0o":"")+s}return e.s<0?"-"+s:s}function ei(e,r){if(e.length>r)return e.length=r,!0}function ss(e){return new this(e).abs()}function fs(e){return new this(e).acos()}function ls(e){return new this(e).acosh()}function cs(e,r){return new this(e).plus(r)}function hs(e){return new this(e).asin()}function vs(e){return new this(e).asinh()}function ps(e){return new this(e).atan()}function ms(e){return new this(e).atanh()}function ds(e,r){e=new this(e),r=new this(r);var n,i=this.precision,t=this.rounding,u=i+4;return!e.s||!r.s?n=new this(NaN):!e.d&&!r.d?(n=gr(this,u,1).times(r.s>0?.25:.75),n.s=e.s):!r.d||e.isZero()?(n=r.s<0?gr(this,i,t):new this(0),n.s=e.s):!e.d||r.isZero()?(n=gr(this,u,1).times(.5),n.s=e.s):r.s<0?(this.precision=u,this.rounding=1,n=this.atan(Ne(e,r,u,1)),r=gr(this,u,1),this.precision=i,this.rounding=t,n=e.s<0?n.minus(r):n.plus(r)):n=this.atan(Ne(e,r,u,1)),n}function Ds(e){return new this(e).cbrt()}function gs(e){return fe(e=new this(e),e.e+1,2)}function ys(e,r,n){return new this(e).clamp(r,n)}function ws(e){if(!e||typeof e!="object")throw Error(en+"Object expected");var r,n,i,t=e.defaults===!0,u=["precision",1,Rr,"rounding",0,8,"toExpNeg",-Kr,0,"toExpPos",0,Kr,"maxE",0,Kr,"minE",-Kr,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(n=u[r],t&&(this[n]=An[n]),(i=e[n])!==void 0)if(He(i)===i&&i>=u[r+1]&&i<=u[r+2])this[n]=i;else throw Error(Pr+n+": "+i);if(n="crypto",t&&(this[n]=An[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Tu);else this[n]=!1;else throw Error(Pr+n+": "+i);return this}function As(e){return new this(e).cos()}function Es(e){return new this(e).cosh()}function Lu(e){var r,n,i;function t(u){var a,f,l,c=this;if(!(c instanceof t))return new t(u);if(c.constructor=t,ri(u)){c.s=u.s,he?!u.d||u.e>t.maxE?(c.e=NaN,c.d=null):u.e<t.minE?(c.e=0,c.d=[0]):(c.e=u.e,c.d=u.d.slice()):(c.e=u.e,c.d=u.d?u.d.slice():u.d);return}if(l=typeof u,l==="number"){if(u===0){c.s=1/u<0?-1:1,c.e=0,c.d=[0];return}if(u<0?(u=-u,c.s=-1):c.s=1,u===~~u&&u<1e7){for(a=0,f=u;f>=10;f/=10)a++;he?a>t.maxE?(c.e=NaN,c.d=null):a<t.minE?(c.e=0,c.d=[0]):(c.e=a,c.d=[u]):(c.e=a,c.d=[u]);return}else if(u*0!==0){u||(c.s=NaN),c.e=NaN,c.d=null;return}return Cn(c,u.toString())}else if(l!=="string")throw Error(Pr+u);return(f=u.charCodeAt(0))===45?(u=u.slice(1),c.s=-1):(f===43&&(u=u.slice(1)),c.s=1),Iu.test(u)?Cn(c,u):as(c,u)}if(t.prototype=X,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=ws,t.clone=Lu,t.isDecimal=ri,t.abs=ss,t.acos=fs,t.acosh=ls,t.add=cs,t.asin=hs,t.asinh=vs,t.atan=ps,t.atanh=ms,t.atan2=ds,t.cbrt=Ds,t.ceil=gs,t.clamp=ys,t.cos=As,t.cosh=Es,t.div=Fs,t.exp=Cs,t.floor=bs,t.hypot=Bs,t.ln=Ms,t.log=_s,t.log10=xs,t.log2=Ns,t.max=Ss,t.min=Ts,t.mod=zs,t.mul=Is,t.pow=Os,t.random=Ps,t.round=qs,t.sign=Rs,t.sin=Us,t.sinh=Ls,t.sqrt=Zs,t.sub=Vs,t.sum=Ws,t.tan=Ys,t.tanh=Qs,t.trunc=Js,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)e.hasOwnProperty(n=i[r++])||(e[n]=this[n]);return t.config(e),t}function Fs(e,r){return new this(e).div(r)}function Cs(e){return new this(e).exp()}function bs(e){return fe(e=new this(e),e.e+1,3)}function Bs(){var e,r,n=new this(0);for(he=!1,e=0;e<arguments.length;)if(r=new this(arguments[e++]),r.d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return he=!0,new this(1/0);n=r}return he=!0,n.sqrt()}function ri(e){return e instanceof et||e&&e.toStringTag===zu||!1}function Ms(e){return new this(e).ln()}function _s(e,r){return new this(e).log(r)}function Ns(e){return new this(e).log(2)}function xs(e){return new this(e).log(10)}function Ss(){return qu(this,arguments,"lt")}function Ts(){return qu(this,arguments,"gt")}function zs(e,r){return new this(e).mod(r)}function Is(e,r){return new this(e).mul(r)}function Os(e,r){return new this(e).pow(r)}function Ps(e){var r,n,i,t,u=0,a=new this(1),f=[];if(e===void 0?e=this.precision:or(e,1,Rr),i=Math.ceil(e/le),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(i));u<i;)t=r[u],t>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:f[u++]=t%1e7;else if(crypto.randomBytes){for(r=crypto.randomBytes(i*=4);u<i;)t=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((r[u+3]&127)<<24),t>=214e7?crypto.randomBytes(4).copy(r,u):(f.push(t%1e7),u+=4);u=i/4}else throw Error(Tu);else for(;u<i;)f[u++]=Math.random()*1e7|0;for(i=f[--u],e%=le,i&&e&&(t=Ze(10,le-e),f[u]=(i/t|0)*t);f[u]===0;u--)f.pop();if(u<0)n=0,f=[0];else{for(n=-1;f[0]===0;n-=le)f.shift();for(i=1,t=f[0];t>=10;t/=10)i++;i<le&&(n-=le-i)}return a.e=n,a.d=f,a}function qs(e){return fe(e=new this(e),e.e+1,this.rounding)}function Rs(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Us(e){return new this(e).sin()}function Ls(e){return new this(e).sinh()}function Zs(e){return new this(e).sqrt()}function Vs(e,r){return new this(e).sub(r)}function Ws(){var e=0,r=arguments,n=new this(r[e]);for(he=!1;n.s&&++e<r.length;)n=n.plus(r[e]);return he=!0,fe(n,this.precision,this.rounding)}function Ys(e){return new this(e).tan()}function Qs(e){return new this(e).tanh()}function Js(e){return fe(e=new this(e),e.e+1,1)}X[Symbol.for("nodejs.util.inspect.custom")]=X.toString;X[Symbol.toStringTag]="Decimal";var et=X.constructor=Lu(An);Pt=new et(Pt);qt=new et(qt);var Xs="BigNumber",Gs=["?on","config"],$s=H(Xs,Gs,e=>{var{on:r,config:n}=e,i=et.clone({precision:n.precision,modulo:et.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(t){return new i(t.value)},r&&r("config",function(t,u){t.precision!==u.precision&&i.config({precision:t.precision})}),i},{isClass:!0}),Zu={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(n){var i=Math.cosh||function(o){return Math.abs(o)<1e-9?1-o:(Math.exp(o)+Math.exp(-o))*.5},t=Math.sinh||function(o){return Math.abs(o)<1e-9?o:(Math.exp(o)-Math.exp(-o))*.5},u=function(o){var p=Math.PI/4;if(-p>o||o>p)return Math.cos(o)-1;var v=o*o;return v*(v*(v*(v*(v*(v*(v*(v/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(o,p){var v=Math.abs(o),m=Math.abs(p);return v<3e3&&m<3e3?Math.sqrt(v*v+m*m):(v<m?(v=m,m=o/p):m=p/o,v*Math.sqrt(1+m*m))},f=function(){throw SyntaxError("Invalid Param")};function l(o,p){var v=Math.abs(o),m=Math.abs(p);return o===0?Math.log(m):p===0?Math.log(v):v<3e3&&m<3e3?Math.log(o*o+p*p)*.5:(o=o/2,p=p/2,.5*Math.log(o*o+p*p)+Math.LN2)}var c=function(o,p){var v={re:0,im:0};if(o==null)v.re=v.im=0;else if(p!==void 0)v.re=o,v.im=p;else switch(typeof o){case"object":if("im"in o&&"re"in o)v.re=o.re,v.im=o.im;else if("abs"in o&&"arg"in o){if(!Number.isFinite(o.abs)&&Number.isFinite(o.arg))return s.INFINITY;v.re=o.abs*Math.cos(o.arg),v.im=o.abs*Math.sin(o.arg)}else if("r"in o&&"phi"in o){if(!Number.isFinite(o.r)&&Number.isFinite(o.phi))return s.INFINITY;v.re=o.r*Math.cos(o.phi),v.im=o.r*Math.sin(o.phi)}else o.length===2?(v.re=o[0],v.im=o[1]):f();break;case"string":v.im=v.re=0;var m=o.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,D=0;m===null&&f();for(var d=0;d<m.length;d++){var w=m[d];w===" "||w==="	"||w===`
`||(w==="+"?h++:w==="-"?D++:w==="i"||w==="I"?(h+D===0&&f(),m[d+1]!==" "&&!isNaN(m[d+1])?(v.im+=parseFloat((D%2?"-":"")+m[d+1]),d++):v.im+=parseFloat((D%2?"-":"")+"1"),h=D=0):((h+D===0||isNaN(w))&&f(),m[d+1]==="i"||m[d+1]==="I"?(v.im+=parseFloat((D%2?"-":"")+w),d++):v.re+=parseFloat((D%2?"-":"")+w),h=D=0))}h+D>0&&f();break;case"number":v.im=0,v.re=o;break;default:f()}return isNaN(v.re)||isNaN(v.im),v};function s(o,p){if(!(this instanceof s))return new s(o,p);var v=c(o,p);this.re=v.re,this.im=v.im}s.prototype={re:0,im:0,sign:function(){var o=this.abs();return new s(this.re/o,this.im/o)},add:function(o,p){var v=new s(o,p);return this.isInfinite()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:new s(this.re+v.re,this.im+v.im)},sub:function(o,p){var v=new s(o,p);return this.isInfinite()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:new s(this.re-v.re,this.im-v.im)},mul:function(o,p){var v=new s(o,p);return this.isInfinite()&&v.isZero()||this.isZero()&&v.isInfinite()?s.NAN:this.isInfinite()||v.isInfinite()?s.INFINITY:v.im===0&&this.im===0?new s(this.re*v.re,0):new s(this.re*v.re-this.im*v.im,this.re*v.im+this.im*v.re)},div:function(o,p){var v=new s(o,p);if(this.isZero()&&v.isZero()||this.isInfinite()&&v.isInfinite())return s.NAN;if(this.isInfinite()||v.isZero())return s.INFINITY;if(this.isZero()||v.isInfinite())return s.ZERO;o=this.re,p=this.im;var m=v.re,h=v.im,D,d;return h===0?new s(o/m,p/m):Math.abs(m)<Math.abs(h)?(d=m/h,D=m*d+h,new s((o*d+p)/D,(p*d-o)/D)):(d=h/m,D=h*d+m,new s((o+p*d)/D,(p-o*d)/D))},pow:function(o,p){var v=new s(o,p);if(o=this.re,p=this.im,v.isZero())return s.ONE;if(v.im===0){if(p===0&&o>0)return new s(Math.pow(o,v.re),0);if(o===0)switch((v.re%4+4)%4){case 0:return new s(Math.pow(p,v.re),0);case 1:return new s(0,Math.pow(p,v.re));case 2:return new s(-Math.pow(p,v.re),0);case 3:return new s(0,-Math.pow(p,v.re))}}if(o===0&&p===0&&v.re>0&&v.im>=0)return s.ZERO;var m=Math.atan2(p,o),h=l(o,p);return o=Math.exp(v.re*h-v.im*m),p=v.im*h+v.re*m,new s(o*Math.cos(p),o*Math.sin(p))},sqrt:function(){var o=this.re,p=this.im,v=this.abs(),m,h;if(o>=0){if(p===0)return new s(Math.sqrt(o),0);m=.5*Math.sqrt(2*(v+o))}else m=Math.abs(p)/Math.sqrt(2*(v-o));return o<=0?h=.5*Math.sqrt(2*(v-o)):h=Math.abs(p)/Math.sqrt(2*(v+o)),new s(m,p<0?-h:h)},exp:function(){var o=Math.exp(this.re);return this.im,new s(o*Math.cos(this.im),o*Math.sin(this.im))},expm1:function(){var o=this.re,p=this.im;return new s(Math.expm1(o)*Math.cos(p)+u(p),Math.exp(o)*Math.sin(p))},log:function(){var o=this.re,p=this.im;return new s(l(o,p),Math.atan2(p,o))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var o=this.re,p=this.im;return new s(Math.sin(o)*i(p),Math.cos(o)*t(p))},cos:function(){var o=this.re,p=this.im;return new s(Math.cos(o)*i(p),-Math.sin(o)*t(p))},tan:function(){var o=2*this.re,p=2*this.im,v=Math.cos(o)+i(p);return new s(Math.sin(o)/v,t(p)/v)},cot:function(){var o=2*this.re,p=2*this.im,v=Math.cos(o)-i(p);return new s(-Math.sin(o)/v,t(p)/v)},sec:function(){var o=this.re,p=this.im,v=.5*i(2*p)+.5*Math.cos(2*o);return new s(Math.cos(o)*i(p)/v,Math.sin(o)*t(p)/v)},csc:function(){var o=this.re,p=this.im,v=.5*i(2*p)-.5*Math.cos(2*o);return new s(Math.sin(o)*i(p)/v,-Math.cos(o)*t(p)/v)},asin:function(){var o=this.re,p=this.im,v=new s(p*p-o*o+1,-2*o*p).sqrt(),m=new s(v.re-p,v.im+o).log();return new s(m.im,-m.re)},acos:function(){var o=this.re,p=this.im,v=new s(p*p-o*o+1,-2*o*p).sqrt(),m=new s(v.re-p,v.im+o).log();return new s(Math.PI/2-m.im,m.re)},atan:function(){var o=this.re,p=this.im;if(o===0){if(p===1)return new s(0,1/0);if(p===-1)return new s(0,-1/0)}var v=o*o+(1-p)*(1-p),m=new s((1-p*p-o*o)/v,-2*o/v).log();return new s(-.5*m.im,.5*m.re)},acot:function(){var o=this.re,p=this.im;if(p===0)return new s(Math.atan2(1,o),0);var v=o*o+p*p;return v!==0?new s(o/v,-p/v).atan():new s(o!==0?o/0:0,p!==0?-p/0:0).atan()},asec:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new s(0,1/0);var v=o*o+p*p;return v!==0?new s(o/v,-p/v).acos():new s(o!==0?o/0:0,p!==0?-p/0:0).acos()},acsc:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new s(Math.PI/2,1/0);var v=o*o+p*p;return v!==0?new s(o/v,-p/v).asin():new s(o!==0?o/0:0,p!==0?-p/0:0).asin()},sinh:function(){var o=this.re,p=this.im;return new s(t(o)*Math.cos(p),i(o)*Math.sin(p))},cosh:function(){var o=this.re,p=this.im;return new s(i(o)*Math.cos(p),t(o)*Math.sin(p))},tanh:function(){var o=2*this.re,p=2*this.im,v=i(o)+Math.cos(p);return new s(t(o)/v,Math.sin(p)/v)},coth:function(){var o=2*this.re,p=2*this.im,v=i(o)-Math.cos(p);return new s(t(o)/v,-Math.sin(p)/v)},csch:function(){var o=this.re,p=this.im,v=Math.cos(2*p)-i(2*o);return new s(-2*t(o)*Math.cos(p)/v,2*i(o)*Math.sin(p)/v)},sech:function(){var o=this.re,p=this.im,v=Math.cos(2*p)+i(2*o);return new s(2*i(o)*Math.cos(p)/v,-2*t(o)*Math.sin(p)/v)},asinh:function(){var o=this.im;this.im=-this.re,this.re=o;var p=this.asin();return this.re=-this.im,this.im=o,o=p.re,p.re=-p.im,p.im=o,p},acosh:function(){var o=this.acos();if(o.im<=0){var p=o.re;o.re=-o.im,o.im=p}else{var p=o.im;o.im=-o.re,o.re=p}return o},atanh:function(){var o=this.re,p=this.im,v=o>1&&p===0,m=1-o,h=1+o,D=m*m+p*p,d=D!==0?new s((h*m-p*p)/D,(p*m+h*p)/D):new s(o!==-1?o/0:0,p!==0?p/0:0),w=d.re;return d.re=l(d.re,d.im)/2,d.im=Math.atan2(d.im,w)/2,v&&(d.im=-d.im),d},acoth:function(){var o=this.re,p=this.im;if(o===0&&p===0)return new s(0,Math.PI/2);var v=o*o+p*p;return v!==0?new s(o/v,-p/v).atanh():new s(o!==0?o/0:0,p!==0?-p/0:0).atanh()},acsch:function(){var o=this.re,p=this.im;if(p===0)return new s(o!==0?Math.log(o+Math.sqrt(o*o+1)):1/0,0);var v=o*o+p*p;return v!==0?new s(o/v,-p/v).asinh():new s(o!==0?o/0:0,p!==0?-p/0:0).asinh()},asech:function(){var o=this.re,p=this.im;if(this.isZero())return s.INFINITY;var v=o*o+p*p;return v!==0?new s(o/v,-p/v).acosh():new s(o!==0?o/0:0,p!==0?-p/0:0).acosh()},inverse:function(){if(this.isZero())return s.INFINITY;if(this.isInfinite())return s.ZERO;var o=this.re,p=this.im,v=o*o+p*p;return new s(o/v,-p/v)},conjugate:function(){return new s(this.re,-this.im)},neg:function(){return new s(-this.re,-this.im)},ceil:function(o){return o=Math.pow(10,o||0),new s(Math.ceil(this.re*o)/o,Math.ceil(this.im*o)/o)},floor:function(o){return o=Math.pow(10,o||0),new s(Math.floor(this.re*o)/o,Math.floor(this.im*o)/o)},round:function(o){return o=Math.pow(10,o||0),new s(Math.round(this.re*o)/o,Math.round(this.im*o)/o)},equals:function(o,p){var v=new s(o,p);return Math.abs(v.re-this.re)<=s.EPSILON&&Math.abs(v.im-this.im)<=s.EPSILON},clone:function(){return new s(this.re,this.im)},toString:function(){var o=this.re,p=this.im,v="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(o)<s.EPSILON&&(o=0),Math.abs(p)<s.EPSILON&&(p=0),p===0?v+o:(o!==0?(v+=o,v+=" ",p<0?(p=-p,v+="-"):v+="+",v+=" "):p<0&&(p=-p,v+="-"),p!==1&&(v+=p),v+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.INFINITY=new s(1/0,1/0),s.NAN=new s(NaN,NaN),s.EPSILON=1e-15,Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Complex=s,e.exports=s})()})(Zu);var Xe=mu(Zu.exports),Ks="Complex",Hs=[],ks=H(Ks,Hs,()=>(Object.defineProperty(Xe,"name",{value:"Complex"}),Xe.prototype.constructor=Xe,Xe.prototype.type="Complex",Xe.prototype.isComplex=!0,Xe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xe.prototype.format=function(e){var r="",n=this.im,i=this.re,t=Dn(this.re,e),u=Dn(this.im,e),a=ze(e)?e:e?e.precision:null;if(a!==null){var f=Math.pow(10,-a);Math.abs(i/n)<f&&(i=0),Math.abs(n/i)<f&&(n=0)}return n===0?r=t:i===0?n===1?r="i":n===-1?r="-i":r=u+"i":n<0?n===-1?r=t+" - i":r=t+" - "+u.substring(1)+"i":n===1?r=t+" + i":r=t+" + "+u+"i",r},Xe.fromPolar=function(e){switch(arguments.length){case 1:{var r=arguments[0];if(typeof r=="object")return Xe(r);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(ze(n)){if(lu(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),ze(i))return new Xe({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xe.prototype.valueOf=Xe.prototype.toString,Xe.fromJSON=function(e){return new Xe(e)},Xe.compare=function(e,r){return e.re>r.re?1:e.re<r.re?-1:e.im>r.im?1:e.im<r.im?-1:0},Xe),{isClass:!0}),Vu={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,r){(function(n){var i=2e3,t={s:1,n:0,d:1};function u(m,h){if(isNaN(m=parseInt(m,10)))throw v.InvalidParameter;return m*h}function a(m,h){if(h===0)throw v.DivisionByZero;var D=Object.create(v.prototype);D.s=m<0?-1:1,m=m<0?-m:m;var d=p(m,h);return D.n=m/d,D.d=h/d,D}function f(m){for(var h={},D=m,d=2,w=4;w<=D;){for(;D%d===0;)D/=d,h[d]=(h[d]||0)+1;w+=1+2*d++}return D!==m?D>1&&(h[D]=(h[D]||0)+1):h[m]=(h[m]||0)+1,h}var l=function(m,h){var D=0,d=1,w=1,g=0,E=0,C=0,A=1,F=1,y=0,B=1,b=1,N=1,M=1e7,x;if(m!=null)if(h!==void 0){if(D=m,d=h,w=D*d,D%1!==0||d%1!==0)throw v.NonIntegerParameter}else switch(typeof m){case"object":{if("d"in m&&"n"in m)D=m.n,d=m.d,"s"in m&&(D*=m.s);else if(0 in m)D=m[0],1 in m&&(d=m[1]);else throw v.InvalidParameter;w=D*d;break}case"number":{if(m<0&&(w=m,m=-m),m%1===0)D=m;else if(m>0){for(m>=1&&(F=Math.pow(10,Math.floor(1+Math.log(m)/Math.LN10)),m/=F);B<=M&&N<=M;)if(x=(y+b)/(B+N),m===x){B+N<=M?(D=y+b,d=B+N):N>B?(D=b,d=N):(D=y,d=B);break}else m>x?(y+=b,B+=N):(b+=y,N+=B),B>M?(D=b,d=N):(D=y,d=B);D*=F}else(isNaN(m)||isNaN(h))&&(d=D=NaN);break}case"string":{if(B=m.match(/\d+|./g),B===null)throw v.InvalidParameter;if(B[y]==="-"?(w=-1,y++):B[y]==="+"&&y++,B.length===y+1?E=u(B[y++],w):B[y+1]==="."||B[y]==="."?(B[y]!=="."&&(g=u(B[y++],w)),y++,(y+1===B.length||B[y+1]==="("&&B[y+3]===")"||B[y+1]==="'"&&B[y+3]==="'")&&(E=u(B[y],w),A=Math.pow(10,B[y].length),y++),(B[y]==="("&&B[y+2]===")"||B[y]==="'"&&B[y+2]==="'")&&(C=u(B[y+1],w),F=Math.pow(10,B[y+1].length)-1,y+=3)):B[y+1]==="/"||B[y+1]===":"?(E=u(B[y],w),A=u(B[y+2],1),y+=3):B[y+3]==="/"&&B[y+1]===" "&&(g=u(B[y],w),E=u(B[y+2],w),A=u(B[y+4],1),y+=5),B.length<=y){d=A*F,w=D=C+d*g+F*E;break}}default:throw v.InvalidParameter}if(d===0)throw v.DivisionByZero;t.s=w<0?-1:1,t.n=Math.abs(D),t.d=Math.abs(d)};function c(m,h,D){for(var d=1;h>0;m=m*m%D,h>>=1)h&1&&(d=d*m%D);return d}function s(m,h){for(;h%2===0;h/=2);for(;h%5===0;h/=5);if(h===1)return 0;for(var D=10%h,d=1;D!==1;d++)if(D=D*10%h,d>i)return 0;return d}function o(m,h,D){for(var d=1,w=c(10,D,h),g=0;g<300;g++){if(d===w)return g;d=d*10%h,w=w*10%h}return 0}function p(m,h){if(!m)return h;if(!h)return m;for(;;){if(m%=h,!m)return h;if(h%=m,!h)return m}}function v(m,h){if(l(m,h),this instanceof v)m=p(t.d,t.n),this.s=t.s,this.n=t.n/m,this.d=t.d/m;else return a(t.s*t.n,t.d)}v.DivisionByZero=new Error("Division by Zero"),v.InvalidParameter=new Error("Invalid argument"),v.NonIntegerParameter=new Error("Parameters must be integer"),v.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(m,h){return l(m,h),a(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(m,h){return l(m,h),a(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(m,h){return l(m,h),a(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(m,h){return l(m,h),a(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(m,h){if(isNaN(this.n)||isNaN(this.d))return new v(NaN);if(m===void 0)return a(this.s*this.n%this.d,1);if(l(m,h),t.n===0&&this.d===0)throw v.DivisionByZero;return a(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(m,h){return l(m,h),a(p(t.n,this.n)*p(t.d,this.d),t.d*this.d)},lcm:function(m,h){return l(m,h),t.n===0&&this.n===0?a(0,1):a(t.n*this.n,p(t.n,this.n)*p(t.d,this.d))},ceil:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.ceil(m*this.s*this.n/this.d),m)},floor:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.floor(m*this.s*this.n/this.d),m)},round:function(m){return m=Math.pow(10,m||0),isNaN(this.n)||isNaN(this.d)?new v(NaN):a(Math.round(m*this.s*this.n/this.d),m)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(m,h){if(l(m,h),t.d===1)return t.s<0?a(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):a(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var D=f(this.n),d=f(this.d),w=1,g=1;for(var E in D)if(E!=="1"){if(E==="0"){w=0;break}if(D[E]*=t.n,D[E]%t.d===0)D[E]/=t.d;else return null;w*=Math.pow(E,D[E])}for(var E in d)if(E!=="1"){if(d[E]*=t.n,d[E]%t.d===0)d[E]/=t.d;else return null;g*=Math.pow(E,d[E])}return t.s<0?a(g,w):a(w,g)},equals:function(m,h){return l(m,h),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(m,h){l(m,h);var D=this.s*this.n*t.d-t.s*t.n*this.d;return(0<D)-(D<0)},simplify:function(m){if(isNaN(this.n)||isNaN(this.d))return this;m=m||.001;for(var h=this.abs(),D=h.toContinued(),d=1;d<D.length;d++){for(var w=a(D[d-1],1),g=d-2;g>=0;g--)w=w.inverse().add(D[g]);if(w.sub(h).abs().valueOf()<m)return w.mul(this.s)}return this},divisible:function(m,h){return l(m,h),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(m){var h,D="",d=this.n,w=this.d;return this.s<0&&(D+="-"),w===1?D+=d:(m&&(h=Math.floor(d/w))>0&&(D+=h,D+=" ",d%=w),D+=d,D+="/",D+=w),D},toLatex:function(m){var h,D="",d=this.n,w=this.d;return this.s<0&&(D+="-"),w===1?D+=d:(m&&(h=Math.floor(d/w))>0&&(D+=h,d%=w),D+="\\frac{",D+=d,D+="}{",D+=w,D+="}"),D},toContinued:function(){var m,h=this.n,D=this.d,d=[];if(isNaN(h)||isNaN(D))return d;do d.push(Math.floor(h/D)),m=h%D,h=D,D=m;while(h!==1);return d},toString:function(m){var h=this.n,D=this.d;if(isNaN(h)||isNaN(D))return"NaN";m=m||15;var d=s(h,D),w=o(h,D,d),g=this.s<0?"-":"";if(g+=h/D|0,h%=D,h*=10,h&&(g+="."),d){for(var E=w;E--;)g+=h/D|0,h%=D,h*=10;g+="(";for(var E=d;E--;)g+=h/D|0,h%=D,h*=10;g+=")"}else for(var E=m;h&&E--;)g+=h/D|0,h%=D,h*=10;return g}},Object.defineProperty(v,"__esModule",{value:!0}),v.default=v,v.Fraction=v,e.exports=v})()})(Vu);var br=mu(Vu.exports),js="Fraction",ef=[],rf=H(js,ef,()=>(Object.defineProperty(br,"name",{value:"Fraction"}),br.prototype.constructor=br,br.prototype.type="Fraction",br.prototype.isFraction=!0,br.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},br.fromJSON=function(e){return new br(e)},br),{isClass:!0}),tf="Matrix",nf=[],uf=H(tf,nf,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(r,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(r,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(r,n,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(r,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(r,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(r,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function af(e){var r=0,n=1,i=Object.create(null),t=Object.create(null),u=0,a=function(l){var c=t[l];if(!!c&&(delete i[c],delete t[l],--r,n===c)){if(!r){u=0,n=1;return}for(;!hasOwnProperty.call(i,++n););}};return e=Math.abs(e),{hit:function(l){var c=t[l],s=++u;if(i[s]=l,t[l]=s,!c)return++r,r<=e?void 0:(l=i[n],a(l),l);if(delete i[c],n===c)for(;!hasOwnProperty.call(i,++n););},delete:a,clear:function(){r=u=0,n=1,i=Object.create(null),t=Object.create(null)}}}function nn(e){var{hasher:r,limit:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=n==null?Number.POSITIVE_INFINITY:n,r=r==null?JSON.stringify:r,function i(){typeof i.cache!="object"&&(i.cache={values:new Map,lru:af(n||Number.POSITIVE_INFINITY)});for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var a=r(t);if(i.cache.values.has(a))return i.cache.lru.hit(a),i.cache.values.get(a);var f=e.apply(e,t);return i.cache.values.set(a,f),i.cache.values.delete(i.cache.lru.hit(a)),f}}function Wu(e){return Object.keys(e.signatures||{}).reduce(function(r,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(r,i)},-1)}var of="DenseMatrix",sf=["Matrix"],ff=H(of,sf,e=>{var{Matrix:r}=e;function n(s,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!Dr(o))throw new Error("Invalid datatype: "+o);if(_e(s))s.type==="DenseMatrix"?(this._data=me(s._data),this._size=me(s._size),this._datatype=o||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=o||s._datatype);else if(s&&be(s.data)&&be(s.size))this._data=s.data,this._size=s.size,Hn(this._data,this._size),this._datatype=o||s.datatype;else if(be(s))this._data=c(s),this._size=Oe(this._data),Hn(this._data,this._size),this._datatype=o;else{if(s)throw new TypeError("Unsupported type of data ("+Er(s)+")");this._data=[],this._size=[0],this._datatype=o}}n.prototype=new r,n.prototype.createDenseMatrix=function(s,o){return new n(s,o)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Ot(this._data,Er)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(s,o){return new n(s,o)},n.prototype.subset=function(s,o,p){switch(arguments.length){case 1:return i(this,s);case 2:case 3:return u(this,s,o,p);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(s){if(!be(s))throw new TypeError("Array expected");if(s.length!==this._size.length)throw new ge(s.length,this._size.length);for(var o=0;o<s.length;o++)Ce(s[o],this._size[o]);for(var p=this._data,v=0,m=s.length;v<m;v++){var h=s[v];Ce(h,p.length),p=p[h]}return p},n.prototype.set=function(s,o,p){if(!be(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new ge(s.length,this._size.length,"<");var v,m,h,D=s.map(function(w){return w+1});l(this,D,p);var d=this._data;for(v=0,m=s.length-1;v<m;v++)h=s[v],Ce(h,d.length),d=d[h];return h=s[s.length-1],Ce(h,d.length),d[h]=o,this};function i(s,o){if(!Ht(o))throw new TypeError("Invalid index");var p=o.isScalar();if(p)return s.get(o.min());var v=o.size();if(v.length!==s._size.length)throw new ge(v.length,s._size.length);for(var m=o.min(),h=o.max(),D=0,d=s._size.length;D<d;D++)Ce(m[D],s._size[D]),Ce(h[D],s._size[D]);return new n(t(s._data,o,v.length,0),s._datatype)}function t(s,o,p,v){var m=v===p-1,h=o.dimension(v);return m?h.map(function(D){return Ce(D,s.length),s[D]}).valueOf():h.map(function(D){Ce(D,s.length);var d=s[D];return t(d,o,p,v+1)}).valueOf()}function u(s,o,p,v){if(!o||o.isIndex!==!0)throw new TypeError("Invalid index");var m=o.size(),h=o.isScalar(),D;if(_e(p)?(D=p.size(),p=p.valueOf()):D=Oe(p),h){if(D.length!==0)throw new TypeError("Scalar expected");s.set(o.min(),p,v)}else{if(m.length<s._size.length)throw new ge(m.length,s._size.length,"<");if(D.length<m.length){for(var d=0,w=0;m[d]===1&&D[d]===1;)d++;for(;m[d]===1;)w++,d++;p=Fu(p,m.length,w,D)}if(!It(m,D))throw new ge(m,D,">");var g=o.max().map(function(A){return A+1});l(s,g,v);var E=m.length,C=0;a(s._data,o,p,E,C)}return s}function a(s,o,p,v,m){var h=m===v-1,D=o.dimension(m);h?D.forEach(function(d,w){Ce(d),s[d]=p[w[0]]}):D.forEach(function(d,w){Ce(d),a(s[d],o,p[w[0]],v,m+1)})}n.prototype.resize=function(s,o,p){if(!ht(s))throw new TypeError("Array or Matrix expected");var v=s.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),m=p?this.clone():this;return f(m,v,o)};function f(s,o,p){if(o.length===0){for(var v=s._data;be(v);)v=v[0];return v}return s._size=o.slice(0),s._data=pt(s._data,s._size,p),s}n.prototype.reshape=function(s,o){var p=o?this.clone():this;p._data=wu(p._data,s);var v=p._size.reduce((m,h)=>m*h);return p._size=xn(s,v),p};function l(s,o,p){for(var v=s._size.slice(0),m=!1;v.length<o.length;)v.push(0),m=!0;for(var h=0,D=o.length;h<D;h++)o[h]>v[h]&&(v[h]=o[h],m=!0);m&&f(s,v,p)}n.prototype.clone=function(){var s=new n({data:me(this._data),size:me(this._size),datatype:this._datatype});return s},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(s){var o=this,p=Wu(s),v=function D(d,w){return be(d)?d.map(function(g,E){return D(g,w.concat(E))}):p===1?s(d):p===2?s(d,w):s(d,w,o)},m=v(this._data,[]),h=this._datatype!==void 0?Ot(m,Er):void 0;return new n(m,h)},n.prototype.forEach=function(s){var o=this,p=function v(m,h){be(m)?m.forEach(function(D,d){v(D,h.concat(d))}):s(m,h,o)};p(this._data,[])},n.prototype[Symbol.iterator]=function*(){var s=function*o(p,v){if(be(p))for(var m=0;m<p.length;m++)yield*o(p[m],v.concat(m));else yield{value:p,index:v}};yield*s(this._data,[])},n.prototype.rows=function(){var s=[],o=this.size();if(o.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var v of p)s.push(new n([v],this._datatype));return s},n.prototype.columns=function(){var s=this,o=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,m=function(d){var w=v.map(g=>[g[d]]);o.push(new n(w,s._datatype))},h=0;h<p[1];h++)m(h);return o},n.prototype.toArray=function(){return me(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(s){return Te(this._data,s)},n.prototype.toString=function(){return Te(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(s){if(s){if(Re(s)&&(s=s.toNumber()),!ze(s)||!Me(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var o=s>0?s:0,p=s<0?-s:0,v=this._size[0],m=this._size[1],h=Math.min(v-p,m-o),D=[],d=0;d<h;d++)D[d]=this._data[d+p][d+o];return new n({data:D,size:[h],datatype:this._datatype})},n.diagonal=function(s,o,p,v){if(!be(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(F){if(Re(F)&&(F=F.toNumber()),!ze(F)||!Me(F)||F<1)throw new Error("Size values must be positive integers");return F}),p){if(Re(p)&&(p=p.toNumber()),!ze(p)||!Me(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var m=p>0?p:0,h=p<0?-p:0,D=s[0],d=s[1],w=Math.min(D-h,d-m),g;if(be(o)){if(o.length!==w)throw new Error("Invalid value array length");g=function(y){return o[y]}}else if(_e(o)){var E=o.size();if(E.length!==1||E[0]!==w)throw new Error("Invalid matrix length");g=function(y){return o.get([y])}}else g=function(){return o};v||(v=Re(g(0))?g(0).mul(0):0);var C=[];if(s.length>0){C=pt(C,s,v);for(var A=0;A<w;A++)C[A+h][A+m]=g(A)}return new n({data:C,size:[D,d]})},n.fromJSON=function(s){return new n(s)},n.prototype.swapRows=function(s,o){if(!ze(s)||!Me(s)||!ze(o)||!Me(o))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ce(s,this._size[0]),Ce(o,this._size[0]),n._swapRows(s,o,this._data),this},n._swapRows=function(s,o,p){var v=p[s];p[s]=p[o],p[o]=v};function c(s){for(var o=0,p=s.length;o<p;o++){var v=s[o];be(v)?s[o]=c(v):v&&v.isMatrix===!0&&(s[o]=c(v.valueOf()))}return s}return n},{isClass:!0});function lf(e){var r=e.length,n=e[0].length,i,t,u=[];for(t=0;t<n;t++){var a=[];for(i=0;i<r;i++)a.push(e[i][t]);u.push(a)}return u}function Yu(e){for(var r=0;r<e.length;r++)if(ht(e[r]))return!0;return!1}function Tn(e,r){_e(e)&&(e=e.valueOf());for(var n=0,i=e.length;n<i;n++){var t=e[n];Array.isArray(t)?Tn(t,r):r(t)}}function hr(e,r,n){return e&&typeof e.map=="function"?e.map(function(i){return hr(i,r)}):r(e)}function Qu(e,r,n){var i=Array.isArray(e)?Oe(e):e.size();if(r<0||r>=i.length)throw new qr(r,i.length);return _e(e)?e.create(Ut(e.valueOf(),r,n)):Ut(e,r,n)}function Ut(e,r,n){var i,t,u,a;if(r<=0)if(Array.isArray(e[0])){for(a=lf(e),t=[],i=0;i<a.length;i++)t[i]=Ut(a[i],r-1,n);return t}else{for(u=e[0],i=1;i<e.length;i++)u=n(u,e[i]);return u}else{for(t=[],i=0;i<e.length;i++)t[i]=Ut(e[i],r-1,n);return t}}var ti="isInteger",cf=["typed"],hf=H(ti,cf,e=>{var{typed:r}=e;return r(ti,{number:Me,BigNumber:function(i){return i.isInt()},Fraction:function(i){return i.d===1&&isFinite(i.n)},"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),zn="number",In="number, number";function Ju(e){return Math.abs(e)}Ju.signature=zn;function Xu(e,r){return e+r}Xu.signature=In;function Gu(e,r){return e*r}Gu.signature=In;function $u(e){return-e}$u.signature=zn;function bn(e){return xo(e)}bn.signature=zn;function Ku(e,r){return e*e<1&&r===1/0||e*e>1&&r===-1/0?0:Math.pow(e,r)}Ku.signature=In;var vf=Math.PI,pf="number";function Hu(e){return e===0}Hu.signature=pf;var ni="isZero",mf=["typed"],df=H(ni,mf,e=>{var{typed:r}=e;return r(ni,{number:Hu,BigNumber:function(i){return i.isZero()},Complex:function(i){return i.re===0&&i.im===0},Fraction:function(i){return i.d===1&&i.n===0},Unit:r.referToSelf(n=>i=>r.find(n,i.valueType())(i.value)),"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})});function wt(e,r,n){if(n==null)return e.eq(r);if(e.eq(r))return!0;if(e.isNaN()||r.isNaN())return!1;if(e.isFinite()&&r.isFinite()){var i=e.minus(r).abs();if(i.isZero())return!0;var t=e.constructor.max(e.abs(),r.abs());return i.lte(t.times(n))}return!1}function Df(e,r,n){return Or(e.re,r.re,n)&&Or(e.im,r.im,n)}var At=H("compareUnits",["typed"],e=>{var{typed:r}=e;return{"Unit, Unit":r.referToSelf(n=>(i,t)=>{if(!i.equalBase(t))throw new Error("Cannot compare units with different base");return r.find(n,[i.valueType(),t.valueType()])(i.value,t.value)})}}),Lt="equalScalar",gf=["typed","config"],yf=H(Lt,gf,e=>{var{typed:r,config:n}=e,i=At({typed:r});return r(Lt,{"boolean, boolean":function(u,a){return u===a},"number, number":function(u,a){return Or(u,a,n.epsilon)},"BigNumber, BigNumber":function(u,a){return u.eq(a)||wt(u,a,n.epsilon)},"Fraction, Fraction":function(u,a){return u.equals(a)},"Complex, Complex":function(u,a){return Df(u,a,n.epsilon)}},i)});H(Lt,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Lt,{"number, number":function(t,u){return Or(t,u,n.epsilon)}})});var wf="SparseMatrix",Af=["typed","equalScalar","Matrix"],Ef=H(wf,Af,e=>{var{typed:r,equalScalar:n,Matrix:i}=e;function t(h,D){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(D&&!Dr(D))throw new Error("Invalid datatype: "+D);if(_e(h))u(this,h,D);else if(h&&be(h.index)&&be(h.ptr)&&be(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=D||h.datatype;else if(be(h))a(this,h,D);else{if(h)throw new TypeError("Unsupported type of data ("+Er(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=D}}function u(h,D,d){D.type==="SparseMatrix"?(h._values=D._values?me(D._values):void 0,h._index=me(D._index),h._ptr=me(D._ptr),h._size=me(D._size),h._datatype=d||D._datatype):a(h,D.valueOf(),d||D._datatype)}function a(h,D,d){h._values=[],h._index=[],h._ptr=[],h._datatype=d;var w=D.length,g=0,E=n,C=0;if(Dr(d)&&(E=r.find(n,[d,d])||n,C=r.convert(0,d)),w>0){var A=0;do{h._ptr.push(h._index.length);for(var F=0;F<w;F++){var y=D[F];if(be(y)){if(A===0&&g<y.length&&(g=y.length),A<y.length){var B=y[A];E(B,C)||(h._values.push(B),h._index.push(F))}}else A===0&&g<1&&(g=1),E(y,C)||(h._values.push(y),h._index.push(F))}A++}while(A<g)}h._ptr.push(h._index.length),h._size=[w,g]}t.prototype=new i,t.prototype.createSparseMatrix=function(h,D){return new t(h,D)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return Ot(this._values,Er)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(h,D){return new t(h,D)},t.prototype.density=function(){var h=this._size[0],D=this._size[1];return h!==0&&D!==0?this._index.length/(h*D):0},t.prototype.subset=function(h,D,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return f(this,h);case 2:case 3:return l(this,h,D,d);default:throw new SyntaxError("Wrong number of arguments")}};function f(h,D){if(!Ht(D))throw new TypeError("Invalid index");var d=D.isScalar();if(d)return h.get(D.min());var w=D.size();if(w.length!==h._size.length)throw new ge(w.length,h._size.length);var g,E,C,A,F=D.min(),y=D.max();for(g=0,E=h._size.length;g<E;g++)Ce(F[g],h._size[g]),Ce(y[g],h._size[g]);var B=h._values,b=h._index,N=h._ptr,M=D.dimension(0),x=D.dimension(1),z=[],O=[];M.forEach(function(V,I){O[V]=I[0],z[V]=!0});var S=B?[]:void 0,J=[],W=[];return x.forEach(function(V){for(W.push(J.length),C=N[V],A=N[V+1];C<A;C++)g=b[C],z[g]===!0&&(J.push(O[g]),S&&S.push(B[C]))}),W.push(J.length),new t({values:S,index:J,ptr:W,size:w,datatype:h._datatype})}function l(h,D,d,w){if(!D||D.isIndex!==!0)throw new TypeError("Invalid index");var g=D.size(),E=D.isScalar(),C;if(_e(d)?(C=d.size(),d=d.toArray()):C=Oe(d),E){if(C.length!==0)throw new TypeError("Scalar expected");h.set(D.min(),d,w)}else{if(g.length!==1&&g.length!==2)throw new ge(g.length,h._size.length,"<");if(C.length<g.length){for(var A=0,F=0;g[A]===1&&C[A]===1;)A++;for(;g[A]===1;)F++,A++;d=Fu(d,g.length,F,C)}if(!It(g,C))throw new ge(g,C,">");if(g.length===1){var y=D.dimension(0);y.forEach(function(N,M){Ce(N),h.set([N,0],d[M[0]],w)})}else{var B=D.dimension(0),b=D.dimension(1);B.forEach(function(N,M){Ce(N),b.forEach(function(x,z){Ce(x),h.set([N,x],d[M[0]][z[0]],w)})})}}return h}t.prototype.get=function(h){if(!be(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new ge(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var D=h[0],d=h[1];Ce(D,this._size[0]),Ce(d,this._size[1]);var w=c(D,this._ptr[d],this._ptr[d+1],this._index);return w<this._ptr[d+1]&&this._index[w]===D?this._values[w]:0},t.prototype.set=function(h,D,d){if(!be(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new ge(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],g=h[1],E=this._size[0],C=this._size[1],A=n,F=0;Dr(this._datatype)&&(A=r.find(n,[this._datatype,this._datatype])||n,F=r.convert(0,this._datatype)),(w>E-1||g>C-1)&&(p(this,Math.max(w+1,E),Math.max(g+1,C),d),E=this._size[0],C=this._size[1]),Ce(w,E),Ce(g,C);var y=c(w,this._ptr[g],this._ptr[g+1],this._index);return y<this._ptr[g+1]&&this._index[y]===w?A(D,F)?s(y,g,this._values,this._index,this._ptr):this._values[y]=D:o(y,w,g,D,this._values,this._index,this._ptr),this};function c(h,D,d,w){if(d-D===0)return d;for(var g=D;g<d;g++)if(w[g]===h)return g;return D}function s(h,D,d,w,g){d.splice(h,1),w.splice(h,1);for(var E=D+1;E<g.length;E++)g[E]--}function o(h,D,d,w,g,E,C){g.splice(h,0,w),E.splice(h,0,D);for(var A=d+1;A<C.length;A++)C[A]++}t.prototype.resize=function(h,D,d){if(!ht(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(E){if(!ze(E)||!Me(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Te(w)+")")});var g=d?this.clone():this;return p(g,w[0],w[1],D)};function p(h,D,d,w){var g=w||0,E=n,C=0;Dr(h._datatype)&&(E=r.find(n,[h._datatype,h._datatype])||n,C=r.convert(0,h._datatype),g=r.convert(g,h._datatype));var A=!E(g,C),F=h._size[0],y=h._size[1],B,b,N;if(d>y){for(b=y;b<d;b++)if(h._ptr[b]=h._values.length,A)for(B=0;B<F;B++)h._values.push(g),h._index.push(B);h._ptr[d]=h._values.length}else d<y&&(h._ptr.splice(d+1,y-d),h._values.splice(h._ptr[d],h._values.length),h._index.splice(h._ptr[d],h._index.length));if(y=d,D>F){if(A){var M=0;for(b=0;b<y;b++){h._ptr[b]=h._ptr[b]+M,N=h._ptr[b+1]+M;var x=0;for(B=F;B<D;B++,x++)h._values.splice(N+x,0,g),h._index.splice(N+x,0,B),M++}h._ptr[y]=h._values.length}}else if(D<F){var z=0;for(b=0;b<y;b++){h._ptr[b]=h._ptr[b]-z;var O=h._ptr[b],S=h._ptr[b+1]-z;for(N=O;N<S;N++)B=h._index[N],B>D-1&&(h._values.splice(N,1),h._index.splice(N,1),z++)}h._ptr[b]=h._values.length}return h._size[0]=D,h._size[1]=d,h}t.prototype.reshape=function(h,D){if(!be(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(V){if(!ze(V)||!Me(V)||V<=-2||V===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Te(h)+")")});var d=this._size[0]*this._size[1];h=xn(h,d);var w=h[0]*h[1];if(d!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=D?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return g;for(var E=[],C=0;C<g._ptr.length;C++)for(var A=0;A<g._ptr[C+1]-g._ptr[C];A++)E.push(C);for(var F=g._values.slice(),y=g._index.slice(),B=0;B<g._index.length;B++){var b=y[B],N=E[B],M=b*g._size[1]+N;E[B]=M%h[1],y[B]=Math.floor(M/h[1])}g._values.length=0,g._index.length=0,g._ptr.length=h[1]+1,g._size=h.slice();for(var x=0;x<g._ptr.length;x++)g._ptr[x]=0;for(var z=0;z<F.length;z++){var O=y[z],S=E[z],J=F[z],W=c(O,g._ptr[S],g._ptr[S+1],g._index);o(W,O,S,J,g._values,g._index,g._ptr)}return g},t.prototype.clone=function(){var h=new t({values:this._values?me(this._values):void 0,index:me(this._index),ptr:me(this._ptr),size:me(this._size),datatype:this._datatype});return h},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(h,D){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,w=this._size[0],g=this._size[1],E=Wu(h),C=function(F,y,B){return E===1?h(F):E===2?h(F,[y,B]):h(F,[y,B],d)};return v(this,0,w-1,0,g-1,C,D)};function v(h,D,d,w,g,E,C){var A=[],F=[],y=[],B=n,b=0;Dr(h._datatype)&&(B=r.find(n,[h._datatype,h._datatype])||n,b=r.convert(0,h._datatype));for(var N=function(Z,R,U){Z=E(Z,R,U),B(Z,b)||(A.push(Z),F.push(R))},M=w;M<=g;M++){y.push(A.length);var x=h._ptr[M],z=h._ptr[M+1];if(C)for(var O=x;O<z;O++){var S=h._index[O];S>=D&&S<=d&&N(h._values[O],S-D,M-w)}else{for(var J={},W=x;W<z;W++){var V=h._index[W];J[V]=h._values[W]}for(var I=D;I<=d;I++){var P=I in J?J[I]:0;N(P,I-D,M-w)}}}return y.push(A.length),new t({values:A,index:F,ptr:y,size:[d-D+1,g-w+1]})}t.prototype.forEach=function(h,D){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,w=this._size[0],g=this._size[1],E=0;E<g;E++){var C=this._ptr[E],A=this._ptr[E+1];if(D)for(var F=C;F<A;F++){var y=this._index[F];h(this._values[F],[y,E],d)}else{for(var B={},b=C;b<A;b++){var N=this._index[b];B[N]=this._values[b]}for(var M=0;M<w;M++){var x=M in B?B[M]:0;h(x,[M,E],d)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],D=0;D<h;D++)for(var d=this._ptr[D],w=this._ptr[D+1],g=d;g<w;g++){var E=this._index[g];yield{value:this._values[g],index:[E,D]}}},t.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(h,D,d,w,g){var E=w[0],C=w[1],A=[],F,y;for(F=0;F<E;F++)for(A[F]=[],y=0;y<C;y++)A[F][y]=0;for(y=0;y<C;y++)for(var B=d[y],b=d[y+1],N=B;N<b;N++)F=D[N],A[F][y]=h?g?me(h[N]):h[N]:1;return A}return t.prototype.format=function(h){for(var D=this._size[0],d=this._size[1],w=this.density(),g="Sparse Matrix ["+Te(D,h)+" x "+Te(d,h)+"] density: "+Te(w,h)+`
`,E=0;E<d;E++)for(var C=this._ptr[E],A=this._ptr[E+1],F=C;F<A;F++){var y=this._index[F];g+=`
    (`+Te(y,h)+", "+Te(E,h)+") ==> "+(this._values?Te(this._values[F],h):"X")}return g},t.prototype.toString=function(){return Te(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(h){if(h){if(Re(h)&&(h=h.toNumber()),!ze(h)||!Me(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var D=h>0?h:0,d=h<0?-h:0,w=this._size[0],g=this._size[1],E=Math.min(w-d,g-D),C=[],A=[],F=[];F[0]=0;for(var y=D;y<g&&C.length<E;y++)for(var B=this._ptr[y],b=this._ptr[y+1],N=B;N<b;N++){var M=this._index[N];if(M===y-D+d){C.push(this._values[N]),A[C.length-1]=M-d;break}}return F.push(C.length),new t({values:C,index:A,ptr:F,size:[E,1]})},t.fromJSON=function(h){return new t(h)},t.diagonal=function(h,D,d,w,g){if(!be(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(V){if(Re(V)&&(V=V.toNumber()),!ze(V)||!Me(V)||V<1)throw new Error("Size values must be positive integers");return V}),d){if(Re(d)&&(d=d.toNumber()),!ze(d)||!Me(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var E=n,C=0;Dr(g)&&(E=r.find(n,[g,g])||n,C=r.convert(0,g));var A=d>0?d:0,F=d<0?-d:0,y=h[0],B=h[1],b=Math.min(y-F,B-A),N;if(be(D)){if(D.length!==b)throw new Error("Invalid value array length");N=function(I){return D[I]}}else if(_e(D)){var M=D.size();if(M.length!==1||M[0]!==b)throw new Error("Invalid matrix length");N=function(I){return D.get([I])}}else N=function(){return D};for(var x=[],z=[],O=[],S=0;S<B;S++){O.push(x.length);var J=S-A;if(J>=0&&J<b){var W=N(J);E(W,C)||(z.push(J+F),x.push(W))}}return O.push(x.length),new t({values:x,index:z,ptr:O,size:[y,B]})},t.prototype.swapRows=function(h,D){if(!ze(h)||!Me(h)||!ze(D)||!Me(D))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ce(h,this._size[0]),Ce(D,this._size[0]),t._swapRows(h,D,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(h,D,d,w,g){for(var E=w[h],C=w[h+1],A=E;A<C;A++)g(d[A],D[A])},t._swapRows=function(h,D,d,w,g,E){for(var C=0;C<d;C++){var A=E[C],F=E[C+1],y=c(h,A,F,g),B=c(D,A,F,g);if(y<F&&B<F&&g[y]===h&&g[B]===D){if(w){var b=w[y];w[y]=w[B],w[B]=b}continue}if(y<F&&g[y]===h&&(B>=F||g[B]!==D)){var N=w?w[y]:void 0;g.splice(B,0,D),w&&w.splice(B,0,N),g.splice(B<=y?y+1:y,1),w&&w.splice(B<=y?y+1:y,1);continue}if(B<F&&g[B]===D&&(y>=F||g[y]!==h)){var M=w?w[B]:void 0;g.splice(y,0,h),w&&w.splice(y,0,M),g.splice(y<=B?B+1:B,1),w&&w.splice(y<=B?B+1:B,1)}}},t},{isClass:!0}),Ff="number",Cf=["typed"];function bf(e){var r=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(r){var n={"0b":2,"0o":8,"0x":16}[r[1]],i=r[2],t=r[3];return{input:e,radix:n,integerPart:i,fractionalPart:t}}else return null}function Bf(e){for(var r=parseInt(e.integerPart,e.radix),n=0,i=0;i<e.fractionalPart.length;i++){var t=parseInt(e.fractionalPart[i],e.radix);n+=t/Math.pow(e.radix,i+1)}var u=r+n;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is no valid number');return u}var Mf=H(Ff,Cf,e=>{var{typed:r}=e,n=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var u=bf(t);if(u)return Bf(u);var a=0,f=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);f&&(a=Number(f[2]),t=f[1]);var l=Number(t);if(isNaN(l))throw new SyntaxError('String "'+t+'" is no valid number');if(f){if(l>2**a-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,u){return t.toNumber(u)},"Array | Matrix":r.referToSelf(i=>t=>hr(t,i))});return n.fromJSON=function(i){return parseFloat(i.value)},n}),_f="bignumber",Nf=["typed","BigNumber"],xf=H(_f,Nf,e=>{var{typed:r,BigNumber:n}=e;return r("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var u=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var a=u[2],f=n(u[1]),l=new n(2).pow(Number(a));if(f.gt(l.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var c=new n(2).pow(Number(a)-1);return f.gte(c)?f.sub(l):f}return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":r.referToSelf(i=>t=>hr(t,i))})}),Sf="complex",Tf=["typed","Complex"],zf=H(Sf,Tf,e=>{var{typed:r,Complex:n}=e;return r("complex",{"":function(){return n.ZERO},number:function(t){return new n(t,0)},"number, number":function(t,u){return new n(t,u)},"BigNumber, BigNumber":function(t,u){return new n(t.toNumber(),u.toNumber())},Fraction:function(t){return new n(t.valueOf(),0)},Complex:function(t){return t.clone()},string:function(t){return n(t)},null:function(t){return n(0)},Object:function(t){if("re"in t&&"im"in t)return new n(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":r.referToSelf(i=>t=>hr(t,i))})}),If="fraction",Of=["typed","Fraction"],Pf=H(If,Of,e=>{var{typed:r,Fraction:n}=e;return r("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,u){return new n(t,u)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":r.referToSelf(i=>t=>hr(t,i))})}),ii="matrix",qf=["typed","Matrix","DenseMatrix","SparseMatrix"],Rf=H(ii,qf,e=>{var{typed:r,Matrix:n,DenseMatrix:i,SparseMatrix:t}=e;return r(ii,{"":function(){return u([])},string:function(f){return u([],f)},"string, string":function(f,l){return u([],f,l)},Array:function(f){return u(f)},Matrix:function(f){return u(f,f.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(a,f,l){if(f==="dense"||f==="default"||f===void 0)return new i(a,l);if(f==="sparse")return new t(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(f)+".")}}),ui="matrixFromColumns",Uf=["typed","matrix","flatten","size"],Lf=H(ui,Uf,e=>{var{typed:r,matrix:n,flatten:i,size:t}=e;return r(ui,{"...Array":function(l){return u(l)},"...Matrix":function(l){return n(u(l.map(c=>c.toArray())))}});function u(f){if(f.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=a(f[0]),c=[],s=0;s<l;s++)c[s]=[];for(var o of f){var p=a(o);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+" \u2260 "+(p|0));for(var v=i(o),m=0;m<l;m++)c[m].push(v[m])}return c}function a(f){var l=t(f);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),ai="unaryMinus",Zf=["typed"],Vf=H(ai,Zf,e=>{var{typed:r}=e;return r(ai,{number:$u,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:r.referToSelf(n=>i=>{var t=i.clone();return t.value=r.find(n,t.valueType())(i.value),t}),"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),oi="abs",Wf=["typed"],Yf=H(oi,Wf,e=>{var{typed:r}=e;return r(oi,{number:Ju,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),si="addScalar",Qf=["typed"],Jf=H(si,Qf,e=>{var{typed:r}=e;return r(si,{"number, number":Xu,"Complex, Complex":function(i,t){return i.add(t)},"BigNumber, BigNumber":function(i,t){return i.plus(t)},"Fraction, Fraction":function(i,t){return i.add(t)},"Unit, Unit":r.referToSelf(n=>(i,t)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(t))throw new Error("Units do not match");var u=i.clone();return u.value=r.find(n,[u.valueType(),t.valueType()])(u.value,t.value),u.fixPrefix=!1,u})})}),Xf="matAlgo11xS0s",Gf=["typed","equalScalar"],On=H(Xf,Gf,e=>{var{typed:r,equalScalar:n}=e;return function(t,u,a,f){var l=t._values,c=t._index,s=t._ptr,o=t._size,p=t._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=o[0],m=o[1],h,D=n,d=0,w=a;typeof p=="string"&&(h=p,D=r.find(n,[h,h]),d=r.convert(0,h),u=r.convert(u,h),w=r.find(a,[h,h]));for(var g=[],E=[],C=[],A=0;A<m;A++){C[A]=E.length;for(var F=s[A],y=s[A+1],B=F;B<y;B++){var b=c[B],N=f?w(u,l[B]):w(l[B],u);D(N,d)||(E.push(b),g.push(N))}}return C[m]=E.length,t.createSparseMatrix({values:g,index:E,ptr:C,size:[v,m],datatype:h})}}),$f="matAlgo12xSfs",Kf=["typed","DenseMatrix"],Vr=H($f,Kf,e=>{var{typed:r,DenseMatrix:n}=e;return function(t,u,a,f){var l=t._values,c=t._index,s=t._ptr,o=t._size,p=t._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=o[0],m=o[1],h,D=a;typeof p=="string"&&(h=p,u=r.convert(u,h),D=r.find(a,[h,h]));for(var d=[],w=[],g=[],E=0;E<m;E++){for(var C=E+1,A=s[E],F=s[E+1],y=A;y<F;y++){var B=c[y];w[B]=l[y],g[B]=C}for(var b=0;b<v;b++)E===0&&(d[b]=[]),g[b]===C?d[b][E]=f?D(u,w[b]):D(w[b],u):d[b][E]=f?D(u,0):D(0,u)}return new n({data:d,size:[v,m],datatype:h})}}),Hf="matAlgo14xDs",kf=["typed"],Pn=H(Hf,kf,e=>{var{typed:r}=e;return function(t,u,a,f){var l=t._data,c=t._size,s=t._datatype,o,p=a;typeof s=="string"&&(o=s,u=r.convert(u,o),p=r.find(a,[o,o]));var v=c.length>0?n(p,0,c,c[0],l,u,f):[];return t.createDenseMatrix({data:v,size:me(c),datatype:o})};function n(i,t,u,a,f,l,c){var s=[];if(t===u.length-1)for(var o=0;o<a;o++)s[o]=c?i(l,f[o]):i(f[o],l);else for(var p=0;p<a;p++)s[p]=n(i,t+1,u,u[t+1],f[p],l,c);return s}}),jf="matAlgo01xDSid",el=["typed"],ku=H(jf,el,e=>{var{typed:r}=e;return function(i,t,u,a){var f=i._data,l=i._size,c=i._datatype,s=t._values,o=t._index,p=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new ge(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],d=typeof c=="string"&&c===m?c:void 0,w=d?r.find(u,[d,d]):u,g,E,C=[];for(g=0;g<h;g++)C[g]=[];var A=[],F=[];for(E=0;E<D;E++){for(var y=E+1,B=p[E],b=p[E+1],N=B;N<b;N++)g=o[N],A[g]=a?w(s[N],f[g][E]):w(f[g][E],s[N]),F[g]=y;for(g=0;g<h;g++)F[g]===y?C[g][E]=A[g]:C[g][E]=f[g][E]}return i.createDenseMatrix({data:C,size:[h,D],datatype:d})}}),rl="matAlgo04xSidSid",tl=["typed","equalScalar"],nl=H(rl,tl,e=>{var{typed:r,equalScalar:n}=e;return function(t,u,a){var f=t._values,l=t._index,c=t._ptr,s=t._size,o=t._datatype,p=u._values,v=u._index,m=u._ptr,h=u._size,D=u._datatype;if(s.length!==h.length)throw new ge(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var d=s[0],w=s[1],g,E=n,C=0,A=a;typeof o=="string"&&o===D&&(g=o,E=r.find(n,[g,g]),C=r.convert(0,g),A=r.find(a,[g,g]));var F=f&&p?[]:void 0,y=[],B=[],b=f&&p?[]:void 0,N=f&&p?[]:void 0,M=[],x=[],z,O,S,J,W;for(O=0;O<w;O++){B[O]=y.length;var V=O+1;for(J=c[O],W=c[O+1],S=J;S<W;S++)z=l[S],y.push(z),M[z]=V,b&&(b[z]=f[S]);for(J=m[O],W=m[O+1],S=J;S<W;S++)if(z=v[S],M[z]===V){if(b){var I=A(b[z],p[S]);E(I,C)?M[z]=null:b[z]=I}}else y.push(z),x[z]=V,N&&(N[z]=p[S]);if(b&&N)for(S=B[O];S<y.length;)z=y[S],M[z]===V?(F[S]=b[z],S++):x[z]===V?(F[S]=N[z],S++):y.splice(S,1)}return B[w]=y.length,t.createSparseMatrix({values:F,index:y,ptr:B,size:[d,w],datatype:g})}}),il="matAlgo10xSids",ul=["typed","DenseMatrix"],ju=H(il,ul,e=>{var{typed:r,DenseMatrix:n}=e;return function(t,u,a,f){var l=t._values,c=t._index,s=t._ptr,o=t._size,p=t._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=o[0],m=o[1],h,D=a;typeof p=="string"&&(h=p,u=r.convert(u,h),D=r.find(a,[h,h]));for(var d=[],w=[],g=[],E=0;E<m;E++){for(var C=E+1,A=s[E],F=s[E+1],y=A;y<F;y++){var B=c[y];w[B]=l[y],g[B]=C}for(var b=0;b<v;b++)E===0&&(d[b]=[]),g[b]===C?d[b][E]=f?D(u,w[b]):D(w[b],u):d[b][E]=u}return new n({data:d,size:[v,m],datatype:h})}}),al="matAlgo13xDD",ol=["typed"],sl=H(al,ol,e=>{var{typed:r}=e;return function(t,u,a){var f=t._data,l=t._size,c=t._datatype,s=u._data,o=u._size,p=u._datatype,v=[];if(l.length!==o.length)throw new ge(l.length,o.length);for(var m=0;m<l.length;m++){if(l[m]!==o[m])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+o+")");v[m]=l[m]}var h,D=a;typeof c=="string"&&c===p&&(h=c,D=r.find(a,[h,h]));var d=v.length>0?n(D,0,v,v[0],f,s):[];return t.createDenseMatrix({data:d,size:v,datatype:h})};function n(i,t,u,a,f,l){var c=[];if(t===u.length-1)for(var s=0;s<a;s++)c[s]=i(f[s],l[s]);else for(var o=0;o<a;o++)c[o]=n(i,t+1,u,u[t+1],f[o],l[o]);return c}}),fl="matrixAlgorithmSuite",ll=["typed","matrix"],Ur=H(fl,ll,e=>{var{typed:r,matrix:n}=e,i=sl({typed:r}),t=Pn({typed:r});return function(a){var f=a.elop,l=a.SD||a.DS,c;f?(c={"DenseMatrix, DenseMatrix":(v,m)=>i(v,m,f),"Array, Array":(v,m)=>i(n(v),n(m),f).valueOf(),"Array, DenseMatrix":(v,m)=>i(n(v),m,f),"DenseMatrix, Array":(v,m)=>i(v,n(m),f)},a.SS&&(c["SparseMatrix, SparseMatrix"]=(v,m)=>a.SS(v,m,f,!1)),a.DS&&(c["DenseMatrix, SparseMatrix"]=(v,m)=>a.DS(v,m,f,!1),c["Array, SparseMatrix"]=(v,m)=>a.DS(n(v),m,f,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(v,m)=>l(m,v,f,!0),c["SparseMatrix, Array"]=(v,m)=>l(n(m),v,f,!0))):(c={"DenseMatrix, DenseMatrix":r.referToSelf(v=>(m,h)=>i(m,h,v)),"Array, Array":r.referToSelf(v=>(m,h)=>i(n(m),n(h),v).valueOf()),"Array, DenseMatrix":r.referToSelf(v=>(m,h)=>i(n(m),h,v)),"DenseMatrix, Array":r.referToSelf(v=>(m,h)=>i(m,n(h),v))},a.SS&&(c["SparseMatrix, SparseMatrix"]=r.referToSelf(v=>(m,h)=>a.SS(m,h,v,!1))),a.DS&&(c["DenseMatrix, SparseMatrix"]=r.referToSelf(v=>(m,h)=>a.DS(m,h,v,!1)),c["Array, SparseMatrix"]=r.referToSelf(v=>(m,h)=>a.DS(n(m),h,v,!1))),l&&(c["SparseMatrix, DenseMatrix"]=r.referToSelf(v=>(m,h)=>l(h,m,v,!0)),c["SparseMatrix, Array"]=r.referToSelf(v=>(m,h)=>l(n(h),m,v,!0))));var s=a.scalar||"any",o=a.Ds||a.Ss;o&&(f?(c["DenseMatrix,"+s]=(v,m)=>t(v,m,f,!1),c[s+", DenseMatrix"]=(v,m)=>t(m,v,f,!0),c["Array,"+s]=(v,m)=>t(n(v),m,f,!1).valueOf(),c[s+", Array"]=(v,m)=>t(n(m),v,f,!0).valueOf()):(c["DenseMatrix,"+s]=r.referToSelf(v=>(m,h)=>t(m,h,v,!1)),c[s+", DenseMatrix"]=r.referToSelf(v=>(m,h)=>t(h,m,v,!0)),c["Array,"+s]=r.referToSelf(v=>(m,h)=>t(n(m),h,v,!1).valueOf()),c[s+", Array"]=r.referToSelf(v=>(m,h)=>t(n(h),m,v,!0).valueOf())));var p=a.sS!==void 0?a.sS:a.Ss;return f?(a.Ss&&(c["SparseMatrix,"+s]=(v,m)=>a.Ss(v,m,f,!1)),p&&(c[s+", SparseMatrix"]=(v,m)=>p(m,v,f,!0))):(a.Ss&&(c["SparseMatrix,"+s]=r.referToSelf(v=>(m,h)=>a.Ss(m,h,v,!1))),p&&(c[s+", SparseMatrix"]=r.referToSelf(v=>(m,h)=>p(h,m,v,!0)))),f&&f.signatures&&pu(c,f.signatures),c}}),cl="matAlgo02xDS0",hl=["typed","equalScalar"],vl=H(cl,hl,e=>{var{typed:r,equalScalar:n}=e;return function(t,u,a,f){var l=t._data,c=t._size,s=t._datatype,o=u._values,p=u._index,v=u._ptr,m=u._size,h=u._datatype;if(c.length!==m.length)throw new ge(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!o)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var D=c[0],d=c[1],w,g=n,E=0,C=a;typeof s=="string"&&s===h&&(w=s,g=r.find(n,[w,w]),E=r.convert(0,w),C=r.find(a,[w,w]));for(var A=[],F=[],y=[],B=0;B<d;B++){y[B]=F.length;for(var b=v[B],N=v[B+1],M=b;M<N;M++){var x=p[M],z=f?C(o[M],l[x][B]):C(l[x][B],o[M]);g(z,E)||(F.push(x),A.push(z))}}return y[d]=F.length,u.createSparseMatrix({values:A,index:F,ptr:y,size:[D,d],datatype:w})}}),pl="matAlgo03xDSf",ml=["typed"],Wr=H(pl,ml,e=>{var{typed:r}=e;return function(i,t,u,a){var f=i._data,l=i._size,c=i._datatype,s=t._values,o=t._index,p=t._ptr,v=t._size,m=t._datatype;if(l.length!==v.length)throw new ge(l.length,v.length);if(l[0]!==v[0]||l[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+v+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=l[0],D=l[1],d,w=0,g=u;typeof c=="string"&&c===m&&(d=c,w=r.convert(0,d),g=r.find(u,[d,d]));for(var E=[],C=0;C<h;C++)E[C]=[];for(var A=[],F=[],y=0;y<D;y++){for(var B=y+1,b=p[y],N=p[y+1],M=b;M<N;M++){var x=o[M];A[x]=a?g(s[M],f[x][y]):g(f[x][y],s[M]),F[x]=B}for(var z=0;z<h;z++)F[z]===B?E[z][y]=A[z]:E[z][y]=a?g(w,f[z][y]):g(f[z][y],w)}return i.createDenseMatrix({data:E,size:[h,D],datatype:d})}}),dl="matAlgo05xSfSf",Dl=["typed","equalScalar"],gl=H(dl,Dl,e=>{var{typed:r,equalScalar:n}=e;return function(t,u,a){var f=t._values,l=t._index,c=t._ptr,s=t._size,o=t._datatype,p=u._values,v=u._index,m=u._ptr,h=u._size,D=u._datatype;if(s.length!==h.length)throw new ge(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var d=s[0],w=s[1],g,E=n,C=0,A=a;typeof o=="string"&&o===D&&(g=o,E=r.find(n,[g,g]),C=r.convert(0,g),A=r.find(a,[g,g]));var F=f&&p?[]:void 0,y=[],B=[],b=F?[]:void 0,N=F?[]:void 0,M=[],x=[],z,O,S,J;for(O=0;O<w;O++){B[O]=y.length;var W=O+1;for(S=c[O],J=c[O+1];S<J;S++)z=l[S],y.push(z),M[z]=W,b&&(b[z]=f[S]);for(S=m[O],J=m[O+1];S<J;S++)z=v[S],M[z]!==W&&y.push(z),x[z]=W,N&&(N[z]=p[S]);if(F)for(S=B[O];S<y.length;){z=y[S];var V=M[z],I=x[z];if(V===W||I===W){var P=V===W?b[z]:C,L=I===W?N[z]:C,Z=A(P,L);E(Z,C)?y.splice(S,1):(F.push(Z),S++)}}}return B[w]=y.length,t.createSparseMatrix({values:F,index:y,ptr:B,size:[d,w],datatype:g})}}),yl="multiplyScalar",wl=["typed"],Al=H(yl,wl,e=>{var{typed:r}=e;return r("multiplyScalar",{"number, number":Gu,"Complex, Complex":function(i,t){return i.mul(t)},"BigNumber, BigNumber":function(i,t){return i.times(t)},"Fraction, Fraction":function(i,t){return i.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(n,i)=>i.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,i)=>n.multiply(i)})}),fi="multiply",El=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Fl=H(fi,El,e=>{var{typed:r,matrix:n,addScalar:i,multiplyScalar:t,equalScalar:u,dot:a}=e,f=On({typed:r,equalScalar:u}),l=Pn({typed:r});function c(C,A){switch(C.length){case 1:switch(A.length){case 1:if(C[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(C[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+C[0]+") must match Matrix rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;case 2:switch(A.length){case 1:if(C[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+C[1]+") must match Vector length ("+A[0]+")");break;case 2:if(C[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+C[1]+") must match Matrix B rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+C.length+" dimensions)")}}function s(C,A,F){if(F===0)throw new Error("Cannot multiply two empty vectors");return a(C,A)}function o(C,A){if(A.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(C,A)}function p(C,A){var F=C._data,y=C._size,B=C._datatype,b=A._data,N=A._size,M=A._datatype,x=y[0],z=N[1],O,S=i,J=t;B&&M&&B===M&&typeof B=="string"&&(O=B,S=r.find(i,[O,O]),J=r.find(t,[O,O]));for(var W=[],V=0;V<z;V++){for(var I=J(F[0],b[0][V]),P=1;P<x;P++)I=S(I,J(F[P],b[P][V]));W[V]=I}return C.createDenseMatrix({data:W,size:[z],datatype:O})}var v=r("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":w}),m=r("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":D,"DenseMatrix, SparseMatrix":d,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":E});function h(C,A){var F=C._data,y=C._size,B=C._datatype,b=A._data,N=A._datatype,M=y[0],x=y[1],z,O=i,S=t;B&&N&&B===N&&typeof B=="string"&&(z=B,O=r.find(i,[z,z]),S=r.find(t,[z,z]));for(var J=[],W=0;W<M;W++){for(var V=F[W],I=S(V[0],b[0]),P=1;P<x;P++)I=O(I,S(V[P],b[P]));J[W]=I}return C.createDenseMatrix({data:J,size:[M],datatype:z})}function D(C,A){var F=C._data,y=C._size,B=C._datatype,b=A._data,N=A._size,M=A._datatype,x=y[0],z=y[1],O=N[1],S,J=i,W=t;B&&M&&B===M&&typeof B=="string"&&(S=B,J=r.find(i,[S,S]),W=r.find(t,[S,S]));for(var V=[],I=0;I<x;I++){var P=F[I];V[I]=[];for(var L=0;L<O;L++){for(var Z=W(P[0],b[0][L]),R=1;R<z;R++)Z=J(Z,W(P[R],b[R][L]));V[I][L]=Z}}return C.createDenseMatrix({data:V,size:[x,O],datatype:S})}function d(C,A){var F=C._data,y=C._size,B=C._datatype,b=A._values,N=A._index,M=A._ptr,x=A._size,z=A._datatype;if(!b)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var O=y[0],S=x[1],J,W=i,V=t,I=u,P=0;B&&z&&B===z&&typeof B=="string"&&(J=B,W=r.find(i,[J,J]),V=r.find(t,[J,J]),I=r.find(u,[J,J]),P=r.convert(0,J));for(var L=[],Z=[],R=[],U=A.createSparseMatrix({values:L,index:Z,ptr:R,size:[O,S],datatype:J}),$=0;$<S;$++){R[$]=Z.length;var j=M[$],ie=M[$+1];if(ie>j)for(var ue=0,K=0;K<O;K++){for(var ye=K+1,ve=void 0,se=j;se<ie;se++){var ce=N[se];ue!==ye?(ve=V(F[K][ce],b[se]),ue=ye):ve=W(ve,V(F[K][ce],b[se]))}ue===ye&&!I(ve,P)&&(Z.push(K),L.push(ve))}}return R[S]=Z.length,U}function w(C,A){var F=C._values,y=C._index,B=C._ptr,b=C._datatype;if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=A._data,M=A._datatype,x=C._size[0],z=A._size[0],O=[],S=[],J=[],W,V=i,I=t,P=u,L=0;b&&M&&b===M&&typeof b=="string"&&(W=b,V=r.find(i,[W,W]),I=r.find(t,[W,W]),P=r.find(u,[W,W]),L=r.convert(0,W));var Z=[],R=[];J[0]=0;for(var U=0;U<z;U++){var $=N[U];if(!P($,L))for(var j=B[U],ie=B[U+1],ue=j;ue<ie;ue++){var K=y[ue];R[K]?Z[K]=V(Z[K],I($,F[ue])):(R[K]=!0,S.push(K),Z[K]=I($,F[ue]))}}for(var ye=S.length,ve=0;ve<ye;ve++){var se=S[ve];O[ve]=Z[se]}return J[1]=S.length,C.createSparseMatrix({values:O,index:S,ptr:J,size:[x,1],datatype:W})}function g(C,A){var F=C._values,y=C._index,B=C._ptr,b=C._datatype;if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var N=A._data,M=A._datatype,x=C._size[0],z=A._size[0],O=A._size[1],S,J=i,W=t,V=u,I=0;b&&M&&b===M&&typeof b=="string"&&(S=b,J=r.find(i,[S,S]),W=r.find(t,[S,S]),V=r.find(u,[S,S]),I=r.convert(0,S));for(var P=[],L=[],Z=[],R=C.createSparseMatrix({values:P,index:L,ptr:Z,size:[x,O],datatype:S}),U=[],$=[],j=0;j<O;j++){Z[j]=L.length;for(var ie=j+1,ue=0;ue<z;ue++){var K=N[ue][j];if(!V(K,I))for(var ye=B[ue],ve=B[ue+1],se=ye;se<ve;se++){var ce=y[se];$[ce]!==ie?($[ce]=ie,L.push(ce),U[ce]=W(K,F[se])):U[ce]=J(U[ce],W(K,F[se]))}}for(var de=Z[j],De=L.length,Ee=de;Ee<De;Ee++){var xe=L[Ee];P[Ee]=U[xe]}}return Z[O]=L.length,R}function E(C,A){var F=C._values,y=C._index,B=C._ptr,b=C._datatype,N=A._values,M=A._index,x=A._ptr,z=A._datatype,O=C._size[0],S=A._size[1],J=F&&N,W,V=i,I=t;b&&z&&b===z&&typeof b=="string"&&(W=b,V=r.find(i,[W,W]),I=r.find(t,[W,W]));for(var P=J?[]:void 0,L=[],Z=[],R=C.createSparseMatrix({values:P,index:L,ptr:Z,size:[O,S],datatype:W}),U=J?[]:void 0,$=[],j,ie,ue,K,ye,ve,se,ce,de=0;de<S;de++){Z[de]=L.length;var De=de+1;for(ye=x[de],ve=x[de+1],K=ye;K<ve;K++)if(ce=M[K],J)for(ie=B[ce],ue=B[ce+1],j=ie;j<ue;j++)se=y[j],$[se]!==De?($[se]=De,L.push(se),U[se]=I(N[K],F[j])):U[se]=V(U[se],I(N[K],F[j]));else for(ie=B[ce],ue=B[ce+1],j=ie;j<ue;j++)se=y[j],$[se]!==De&&($[se]=De,L.push(se));if(J)for(var Ee=Z[de],xe=L.length,Fe=Ee;Fe<xe;Fe++){var Ie=L[Fe];P[Fe]=U[Ie]}}return Z[S]=L.length,R}return r(fi,t,{"Array, Array":r.referTo("Matrix, Matrix",C=>(A,F)=>{c(Oe(A),Oe(F));var y=C(n(A),n(F));return _e(y)?y.valueOf():y}),"Matrix, Matrix":function(A,F){var y=A.size(),B=F.size();return c(y,B),y.length===1?B.length===1?s(A,F,y[0]):o(A,F):B.length===1?v(A,F):m(A,F)},"Matrix, Array":r.referTo("Matrix,Matrix",C=>(A,F)=>C(A,n(F))),"Array, Matrix":r.referToSelf(C=>(A,F)=>C(n(A,F.storage()),F)),"SparseMatrix, any":function(A,F){return f(A,F,t,!1)},"DenseMatrix, any":function(A,F){return l(A,F,t,!1)},"any, SparseMatrix":function(A,F){return f(F,A,t,!0)},"any, DenseMatrix":function(A,F){return l(F,A,t,!0)},"Array, any":function(A,F){return l(n(A),F,t,!1).valueOf()},"any, Array":function(A,F){return l(n(F),A,t,!0).valueOf()},"any, any":t,"any, any, ...any":r.referToSelf(C=>(A,F,y)=>{for(var B=C(A,F),b=0;b<y.length;b++)B=C(B,y[b]);return B})})}),li="sign",Cl=["typed","BigNumber","Fraction","complex"],bl=H(li,Cl,e=>{var{typed:r,BigNumber:n,complex:i,Fraction:t}=e;return r(li,{number:bn,Complex:function(a){return a.im===0?i(bn(a.re)):a.sign()},BigNumber:function(a){return new n(a.cmp(0))},Fraction:function(a){return new t(a.s,1)},"Array | Matrix":r.referToSelf(u=>a=>hr(a,u)),Unit:r.referToSelf(u=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return r.find(u,a.valueType())(a.value)})})}),Bl="sqrt",Ml=["config","typed","Complex"],_l=H(Bl,Ml,e=>{var{config:r,typed:n,Complex:i}=e;return n("sqrt",{number:t,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||r.predictable?a.sqrt():t(a.toNumber())},Unit:function(a){return a.pow(.5)}});function t(u){return isNaN(u)?NaN:u>=0||r.predictable?Math.sqrt(u):new i(u,0).sqrt()}}),ci="subtract",Nl=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],xl=H(ci,Nl,e=>{var{typed:r,matrix:n,equalScalar:i,addScalar:t,unaryMinus:u,DenseMatrix:a}=e,f=ku({typed:r}),l=Wr({typed:r}),c=gl({typed:r,equalScalar:i}),s=ju({typed:r,DenseMatrix:a}),o=Vr({typed:r,DenseMatrix:a}),p=Ur({typed:r,matrix:n});return r(ci,{"number, number":(v,m)=>v-m,"Complex, Complex":(v,m)=>v.sub(m),"BigNumber, BigNumber":(v,m)=>v.minus(m),"Fraction, Fraction":(v,m)=>v.sub(m),"Unit, Unit":r.referToSelf(v=>(m,h)=>{if(m.value===null)throw new Error("Parameter x contains a unit with undefined value");if(h.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!m.equalBase(h))throw new Error("Units do not match");var D=m.clone();return D.value=r.find(v,[D.valueType(),h.valueType()])(D.value,h.value),D.fixPrefix=!1,D})},p({SS:c,DS:f,SD:l,Ss:o,sS:s}))}),Sl="matAlgo07xSSf",Tl=["typed","DenseMatrix"],rt=H(Sl,Tl,e=>{var{typed:r,DenseMatrix:n}=e;return function(u,a,f){var l=u._size,c=u._datatype,s=a._size,o=a._datatype;if(l.length!==s.length)throw new ge(l.length,s.length);if(l[0]!==s[0]||l[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+s+")");var p=l[0],v=l[1],m,h=0,D=f;typeof c=="string"&&c===o&&(m=c,h=r.convert(0,m),D=r.find(f,[m,m]));var d,w,g=[];for(d=0;d<p;d++)g[d]=[];var E=[],C=[],A=[],F=[];for(w=0;w<v;w++){var y=w+1;for(i(u,w,A,E,y),i(a,w,F,C,y),d=0;d<p;d++){var B=A[d]===y?E[d]:h,b=F[d]===y?C[d]:h;g[d][w]=D(B,b)}}return new n({data:g,size:[p,v],datatype:m})};function i(t,u,a,f,l){for(var c=t._values,s=t._index,o=t._ptr,p=o[u],v=o[u+1];p<v;p++){var m=s[p];a[m]=l,f[m]=c[p]}}}),hi="conj",zl=["typed"],Il=H(hi,zl,e=>{var{typed:r}=e;return r(hi,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),vi="im",Ol=["typed"],Pl=H(vi,Ol,e=>{var{typed:r}=e;return r(vi,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),pi="re",ql=["typed"],Rl=H(pi,ql,e=>{var{typed:r}=e;return r(pi,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":r.referToSelf(n=>i=>hr(i,n))})}),mi="concat",Ul=["typed","matrix","isInteger"],Ll=H(mi,Ul,e=>{var{typed:r,matrix:n,isInteger:i}=e;return r(mi,{"...Array | Matrix | number | BigNumber":function(u){var a,f=u.length,l=-1,c,s=!1,o=[];for(a=0;a<f;a++){var p=u[a];if(_e(p)&&(s=!0),ze(p)||Re(p)){if(a!==f-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=p.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>c)throw new qr(l,c+1)}else{var v=me(p).valueOf(),m=Oe(v);if(o[a]=v,c=l,l=m.length-1,a>0&&l!==c)throw new ge(c+1,l+1)}}if(o.length===0)throw new SyntaxError("At least one matrix expected");for(var h=o.shift();o.length;)h=ea(h,o.shift(),l,0);return s?n(h):h},"...string":function(u){return u.join("")}})});function ea(e,r,n,i){if(i<n){if(e.length!==r.length)throw new ge(e.length,r.length);for(var t=[],u=0;u<e.length;u++)t[u]=ea(e[u],r[u],n,i+1);return t}else return e.concat(r)}var di="column",Zl=["typed","Index","matrix","range"],Vl=H(di,Zl,e=>{var{typed:r,Index:n,matrix:i,range:t}=e;return r(di,{"Matrix, number":u,"Array, number":function(f,l){return u(i(me(f)),l).valueOf()}});function u(a,f){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ce(f,a.size()[1]);var l=t(0,a.size()[0]),c=new n(l,f);return a.subset(c)}}),Di="cross",Wl=["typed","matrix","subtract","multiply"],Yl=H(Di,Wl,e=>{var{typed:r,matrix:n,subtract:i,multiply:t}=e;return r(Di,{"Matrix, Matrix":function(f,l){return n(u(f.toArray(),l.toArray()))},"Matrix, Array":function(f,l){return n(u(f.toArray(),l))},"Array, Matrix":function(f,l){return n(u(f,l.toArray()))},"Array, Array":u});function u(a,f){var l=Math.max(Oe(a).length,Oe(f).length);a=kn(a),f=kn(f);var c=Oe(a),s=Oe(f);if(c.length!==1||s.length!==1||c[0]!==3||s[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+s.join(", ")+"])");var o=[i(t(a[1],f[2]),t(a[2],f[1])),i(t(a[2],f[0]),t(a[0],f[2])),i(t(a[0],f[1]),t(a[1],f[0]))];return l>1?[o]:o}}),gi="diag",Ql=["typed","matrix","DenseMatrix","SparseMatrix"],Jl=H(gi,Ql,e=>{var{typed:r,matrix:n,DenseMatrix:i,SparseMatrix:t}=e;return r(gi,{Array:function(c){return u(c,0,Oe(c),null)},"Array, number":function(c,s){return u(c,s,Oe(c),null)},"Array, BigNumber":function(c,s){return u(c,s.toNumber(),Oe(c),null)},"Array, string":function(c,s){return u(c,0,Oe(c),s)},"Array, number, string":function(c,s,o){return u(c,s,Oe(c),o)},"Array, BigNumber, string":function(c,s,o){return u(c,s.toNumber(),Oe(c),o)},Matrix:function(c){return u(c,0,c.size(),c.storage())},"Matrix, number":function(c,s){return u(c,s,c.size(),c.storage())},"Matrix, BigNumber":function(c,s){return u(c,s.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,s){return u(c,0,c.size(),s)},"Matrix, number, string":function(c,s,o){return u(c,s,c.size(),o)},"Matrix, BigNumber, string":function(c,s,o){return u(c,s.toNumber(),c.size(),o)}});function u(l,c,s,o){if(!Me(c))throw new TypeError("Second parameter in function diag must be an integer");var p=c>0?c:0,v=c<0?-c:0;switch(s.length){case 1:return a(l,c,o,s[0],v,p);case 2:return f(l,c,o,s,v,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function a(l,c,s,o,p,v){var m=[o+p,o+v];if(s&&s!=="sparse"&&s!=="dense")throw new TypeError("Unknown matrix type ".concat(s,'"'));var h=s==="sparse"?t.diagonal(m,l,c):i.diagonal(m,l,c);return s!==null?h:h.valueOf()}function f(l,c,s,o,p,v){if(_e(l)){var m=l.diagonal(c);return s!==null?s!==m.storage()?n(m,s):m:m.valueOf()}for(var h=Math.min(o[0]-p,o[1]-v),D=[],d=0;d<h;d++)D[d]=l[d+p][d+v];return s!==null?n(D):D}}),yi="flatten",Xl=["typed","matrix"],Gl=H(yi,Xl,e=>{var{typed:r,matrix:n}=e;return r(yi,{Array:function(t){return yn(me(t))},Matrix:function(t){var u=yn(me(t.toArray()));return n(u)}})}),wi="identity",$l=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Kl=H(wi,$l,e=>{var{typed:r,config:n,matrix:i,BigNumber:t,DenseMatrix:u,SparseMatrix:a}=e;return r(wi,{"":function(){return n.matrix==="Matrix"?i([]):[]},string:function(s){return i(s)},"number | BigNumber":function(s){return l(s,s,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,o){return l(s,s,o)},"number | BigNumber, number | BigNumber":function(s,o){return l(s,o,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,o,p){return l(s,o,p)},Array:function(s){return f(s)},"Array, string":function(s,o){return f(s,o)},Matrix:function(s){return f(s.valueOf(),s.storage())},"Matrix, string":function(s,o){return f(s.valueOf(),o)}});function f(c,s){switch(c.length){case 0:return s?i(s):[];case 1:return l(c[0],c[0],s);case 2:return l(c[0],c[1],s);default:throw new Error("Vector containing two values expected")}}function l(c,s,o){var p=Re(c)||Re(s)?t:null;if(Re(c)&&(c=c.toNumber()),Re(s)&&(s=s.toNumber()),!Me(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!Me(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var v=p?new t(1):1,m=p?new p(0):0,h=[c,s];if(o){if(o==="sparse")return a.diagonal(h,v,0,m);if(o==="dense")return u.diagonal(h,v,0,m);throw new TypeError('Unknown matrix type "'.concat(o,'"'))}for(var D=pt([],h,m),d=c<s?c:s,w=0;w<d;w++)D[w][w]=v;return D}}),Hl="ones",kl=["typed","config","matrix","BigNumber"],jl=H(Hl,kl,e=>{var{typed:r,config:n,matrix:i,BigNumber:t}=e;return r("ones",{"":function(){return n.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var s=c[c.length-1];if(typeof s=="string"){var o=c.pop();return u(c,o)}else return n.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var s=c.storage();return u(c.valueOf(),s)},"Array | Matrix, string":function(c,s){return u(c.valueOf(),s)}});function u(l,c){var s=a(l),o=s?new t(1):1;if(f(l),c){var p=i(c);return l.length>0?p.resize(l,o):p}else{var v=[];return l.length>0?pt(v,l,o):v}}function a(l){var c=!1;return l.forEach(function(s,o,p){Re(s)&&(c=!0,p[o]=s.toNumber())}),c}function f(l){l.forEach(function(c){if(typeof c!="number"||!Me(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}});function ra(){throw new Error('No "bignumber" implementation available')}function ec(){throw new Error('No "fraction" implementation available')}function ta(){throw new Error('No "matrix" implementation available')}var Ai="range",rc=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],tc=H(Ai,rc,e=>{var{typed:r,config:n,matrix:i,bignumber:t,smaller:u,smallerEq:a,larger:f,largerEq:l}=e;return r(Ai,{string:s,"string, boolean":s,"number, number":function(d,w){return c(o(d,w,1))},"number, number, number":function(d,w,g){return c(o(d,w,g))},"number, number, boolean":function(d,w,g){return c(g?p(d,w,1):o(d,w,1))},"number, number, number, boolean":function(d,w,g,E){return c(E?p(d,w,g):o(d,w,g))},"BigNumber, BigNumber":function(d,w){var g=d.constructor;return c(v(d,w,new g(1)))},"BigNumber, BigNumber, BigNumber":function(d,w,g){return c(v(d,w,g))},"BigNumber, BigNumber, boolean":function(d,w,g){var E=d.constructor;return c(g?m(d,w,new E(1)):v(d,w,new E(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(d,w,g,E){return c(E?m(d,w,g):v(d,w,g))}});function c(D){return n.matrix==="Matrix"?i?i(D):ta():D}function s(D,d){var w=h(D);if(!w)throw new SyntaxError('String "'+D+'" is no valid range');var g;return n.number==="BigNumber"?(t===void 0&&ra(),g=d?m:v,c(g(t(w.start),t(w.end),t(w.step)))):(g=d?p:o,c(g(w.start,w.end,w.step)))}function o(D,d,w){var g=[],E=D;if(w>0)for(;u(E,d);)g.push(E),E+=w;else if(w<0)for(;f(E,d);)g.push(E),E+=w;return g}function p(D,d,w){var g=[],E=D;if(w>0)for(;a(E,d);)g.push(E),E+=w;else if(w<0)for(;l(E,d);)g.push(E),E+=w;return g}function v(D,d,w){var g=t(0),E=[],C=D;if(w.gt(g))for(;u(C,d);)E.push(C),C=C.plus(w);else if(w.lt(g))for(;f(C,d);)E.push(C),C=C.plus(w);return E}function m(D,d,w){var g=t(0),E=[],C=D;if(w.gt(g))for(;a(C,d);)E.push(C),C=C.plus(w);else if(w.lt(g))for(;l(C,d);)E.push(C),C=C.plus(w);return E}function h(D){var d=D.split(":"),w=d.map(function(E){return Number(E)}),g=w.some(function(E){return isNaN(E)});if(g)return null;switch(w.length){case 2:return{start:w[0],end:w[1],step:1};case 3:return{start:w[0],end:w[2],step:w[1]};default:return null}}}),Ei="reshape",nc=["typed","isInteger","matrix"],ic=H(Ei,nc,e=>{var{typed:r,isInteger:n}=e;return r(Ei,{"Matrix, Array":function(t,u){return t.reshape(u)},"Array, Array":function(t,u){return u.forEach(function(a){if(!n(a))throw new TypeError("Invalid size for dimension: "+a)}),wu(t,u)}})}),Fi="size",uc=["typed","config","?matrix"],ac=H(Fi,uc,e=>{var{typed:r,config:n,matrix:i}=e;return r(Fi,{Matrix:function(u){return u.create(u.size())},Array:Oe,string:function(u){return n.matrix==="Array"?[u.length]:i([u.length])},"number | Complex | BigNumber | Unit | boolean | null":function(u){return n.matrix==="Array"?[]:i?i([]):ta()}})}),Ci="subset",oc=["typed","matrix"],sc=H(Ci,oc,e=>{var{typed:r,matrix:n}=e;return r(Ci,{"Array, Index":function(t,u){var a=n(t),f=a.subset(u);return u.isScalar()?f:f.valueOf()},"Matrix, Index":function(t,u){return t.subset(u)},"Object, Index":lc,"string, Index":fc,"Array, Index, any":function(t,u,a){return n(me(t)).subset(u,a,void 0).valueOf()},"Array, Index, any, any":function(t,u,a,f){return n(me(t)).subset(u,a,f).valueOf()},"Matrix, Index, any":function(t,u,a){return t.clone().subset(u,a)},"Matrix, Index, any, any":function(t,u,a,f){return t.clone().subset(u,a,f)},"string, Index, string":bi,"string, Index, string, string":bi,"Object, Index, any":cc})});function fc(e,r){if(!Ht(r))throw new TypeError("Index expected");if(r.size().length!==1)throw new ge(r.size().length,1);var n=e.length;Ce(r.min()[0],n),Ce(r.max()[0],n);var i=r.dimension(0),t="";return i.forEach(function(u){t+=e.charAt(u)}),t}function bi(e,r,n,i){if(!r||r.isIndex!==!0)throw new TypeError("Index expected");if(r.size().length!==1)throw new ge(r.size().length,1);if(i!==void 0){if(typeof i!="string"||i.length!==1)throw new TypeError("Single character expected as defaultValue")}else i=" ";var t=r.dimension(0),u=t.size()[0];if(u!==n.length)throw new ge(t.size()[0],n.length);var a=e.length;Ce(r.min()[0]),Ce(r.max()[0]);for(var f=[],l=0;l<a;l++)f[l]=e.charAt(l);if(t.forEach(function(o,p){f[o]=n.charAt(p[0])}),f.length>a)for(var c=a-1,s=f.length;c<s;c++)f[c]||(f[c]=i);return f.join("")}function lc(e,r){if(r.size().length!==1)throw new ge(r.size(),1);var n=r.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return bu(e,n)}function cc(e,r,n){if(r.size().length!==1)throw new ge(r.size(),1);var i=r.dimension(0);if(typeof i!="string")throw new TypeError("String expected as index to retrieve an object property");var t=me(e);return Bu(t,i,n),t}var Bi="transpose",hc=["typed","matrix"],vc=H(Bi,hc,e=>{var{typed:r,matrix:n}=e;return r(Bi,{Array:a=>i(n(a)).valueOf(),Matrix:i,any:me});function i(a){var f=a.size(),l;switch(f.length){case 1:l=a.clone();break;case 2:{var c=f[0],s=f[1];if(s===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Te(f)+")");switch(a.storage()){case"dense":l=t(a,c,s);break;case"sparse":l=u(a,c,s);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Te(f)+")")}return l}function t(a,f,l){for(var c=a._data,s=[],o,p=0;p<l;p++){o=s[p]=[];for(var v=0;v<f;v++)o[v]=me(c[v][p])}return a.createDenseMatrix({data:s,size:[l,f],datatype:a._datatype})}function u(a,f,l){for(var c=a._values,s=a._index,o=a._ptr,p=c?[]:void 0,v=[],m=[],h=[],D=0;D<f;D++)h[D]=0;var d,w,g;for(d=0,w=s.length;d<w;d++)h[s[d]]++;for(var E=0,C=0;C<f;C++)m.push(E),E+=h[C],h[C]=m[C];for(m.push(E),g=0;g<l;g++)for(var A=o[g],F=o[g+1],y=A;y<F;y++){var B=h[s[y]]++;v[B]=g,c&&(p[B]=me(c[y]))}return a.createSparseMatrix({values:p,index:v,ptr:m,size:[l,f],datatype:a._datatype})}}),Mi="ctranspose",pc=["typed","transpose","conj"],mc=H(Mi,pc,e=>{var{typed:r,transpose:n,conj:i}=e;return r(Mi,{any:function(u){return i(n(u))}})}),_i="zeros",dc=["typed","config","matrix","BigNumber"],Dc=H(_i,dc,e=>{var{typed:r,config:n,matrix:i,BigNumber:t}=e;return r(_i,{"":function(){return n.matrix==="Array"?u([]):u([],"default")},"...number | BigNumber | string":function(c){var s=c[c.length-1];if(typeof s=="string"){var o=c.pop();return u(c,o)}else return n.matrix==="Array"?u(c):u(c,"default")},Array:u,Matrix:function(c){var s=c.storage();return u(c.valueOf(),s)},"Array | Matrix, string":function(c,s){return u(c.valueOf(),s)}});function u(l,c){var s=a(l),o=s?new t(0):0;if(f(l),c){var p=i(c);return l.length>0?p.resize(l,o):p}else{var v=[];return l.length>0?pt(v,l,o):v}}function a(l){var c=!1;return l.forEach(function(s,o,p){Re(s)&&(c=!0,p[o]=s.toNumber())}),c}function f(l){l.forEach(function(c){if(typeof c!="number"||!Me(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Zt(e,r,n){var i;return String(e).indexOf("Unexpected type")!==-1?(i=arguments.length>2?" (type: "+Er(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+i)):String(e).indexOf("complex numbers")!==-1?(i=arguments.length>2?" (type: "+Er(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+i)):e}var gc="numeric",yc=["number","?bignumber","?fraction"],wc=H(gc,yc,e=>{var{number:r,bignumber:n,fraction:i}=e,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:a=>r(a),BigNumber:n?a=>n(a):ra,Fraction:i?a=>i(a):ec};return function(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",c=arguments.length>2?arguments[2]:void 0;if(c!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=Er(f);if(!(s in t))throw new TypeError("Cannot convert "+f+' of type "'+s+'"; valid input types are '+Object.keys(t).join(", "));if(!(l in u))throw new TypeError("Cannot convert "+f+' to type "'+l+'"; valid output types are '+Object.keys(u).join(", "));return l===s?f:u[l](f)}}),Ni="divideScalar",Ac=["typed","numeric"],Ec=H(Ni,Ac,e=>{var{typed:r,numeric:n}=e;return r(Ni,{"number, number":function(t,u){return t/u},"Complex, Complex":function(t,u){return t.div(u)},"BigNumber, BigNumber":function(t,u){return t.div(u)},"Fraction, Fraction":function(t,u){return t.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,t)=>i.divide(t),"number | Fraction | Complex | BigNumber, Unit":(i,t)=>t.divideInto(i)})}),xi="pow",Fc=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Cc=H(xi,Fc,e=>{var{typed:r,config:n,identity:i,multiply:t,matrix:u,inv:a,number:f,fraction:l,Complex:c}=e;return r(xi,{"number, number":s,"Complex, Complex":function(m,h){return m.pow(h)},"BigNumber, BigNumber":function(m,h){return h.isInteger()||m>=0||n.predictable?m.pow(h):new c(m.toNumber(),0).pow(h.toNumber(),0)},"Fraction, Fraction":function(m,h){var D=m.pow(h);if(D!=null)return D;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return s(m.valueOf(),h.valueOf())},"Array, number":o,"Array, BigNumber":function(m,h){return o(m,h.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(m,h){return p(m,h.toNumber())},"Unit, number | BigNumber":function(m,h){return m.pow(h)}});function s(v,m){if(n.predictable&&!Me(m)&&v<0)try{var h=l(m),D=f(h);if((m===D||Math.abs((m-D)/m)<1e-14)&&h.d%2===1)return(h.n%2===0?1:-1)*Math.pow(-v,m)}catch{}return n.predictable&&(v<-1&&m===1/0||v>-1&&v<0&&m===-1/0)?NaN:Me(m)||v>=0||n.predictable?Ku(v,m):v*v<1&&m===1/0||v*v>1&&m===-1/0?0:new c(v,0).pow(m,0)}function o(v,m){if(!Me(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var h=Oe(v);if(h.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+h.length+" dimensions)");if(h[0]!==h[1])throw new Error("For A^b, A must be square (size is "+h[0]+"x"+h[1]+")");if(m<0)try{return o(a(v),-m)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):w}for(var D=i(h[0]).valueOf(),d=v;m>=1;)(m&1)===1&&(D=t(d,D)),m>>=1,d=t(d,d);return D}function p(v,m){return u(o(v.valueOf(),m))}}),Si="dotDivide",bc=["typed","matrix","equalScalar","divideScalar","DenseMatrix"],Bc=H(Si,bc,e=>{var{typed:r,matrix:n,equalScalar:i,divideScalar:t,DenseMatrix:u}=e,a=vl({typed:r,equalScalar:i}),f=Wr({typed:r}),l=rt({typed:r,DenseMatrix:u}),c=On({typed:r,equalScalar:i}),s=Vr({typed:r,DenseMatrix:u}),o=Ur({typed:r,matrix:n});return r(Si,o({elop:t,SS:l,DS:f,SD:a,Ss:c,sS:s}))});function na(e){var{DenseMatrix:r}=e;return function(i,t,u){var a=i.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Te(a)+")");var f=a[0],l=a[1];if(f!==l)throw new RangeError("Matrix must be square (size: "+Te(a)+")");var c=[];if(_e(t)){var s=t.size(),o=t._data;if(s.length===1){if(s[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<f;p++)c[p]=[o[p]];return new r({data:c,size:[f,1],datatype:t._datatype})}if(s.length===2){if(s[0]!==f||s[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(cu(t)){if(u){c=[];for(var v=0;v<f;v++)c[v]=[o[v][0]];return new r({data:c,size:[f,1],datatype:t._datatype})}return t}if(hu(t)){for(var m=0;m<f;m++)c[m]=[0];for(var h=t._values,D=t._index,d=t._ptr,w=d[1],g=d[0];g<w;g++){var E=D[g];c[E][0]=h[g]}return new r({data:c,size:[f,1],datatype:t._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(be(t)){var C=Oe(t);if(C.length===1){if(C[0]!==f)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<f;A++)c[A]=[t[A]];return new r({data:c,size:[f,1]})}if(C.length===2){if(C[0]!==f||C[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var F=0;F<f;F++)c[F]=[t[F][0]];return new r({data:c,size:[f,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Ti="usolve",Mc=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],_c=H(Ti,Mc,e=>{var{typed:r,matrix:n,divideScalar:i,multiplyScalar:t,subtract:u,equalScalar:a,DenseMatrix:f}=e,l=na({DenseMatrix:f});return r(Ti,{"SparseMatrix, Array | Matrix":function(p,v){return s(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var m=n(p),h=c(m,v);return h.valueOf()}});function c(o,p){p=l(o,p,!0);for(var v=p._data,m=o._size[0],h=o._size[1],D=[],d=o._data,w=h-1;w>=0;w--){var g=v[w][0]||0,E=void 0;if(a(g,0))E=0;else{var C=d[w][w];if(a(C,0))throw new Error("Linear system cannot be solved since matrix is singular");E=i(g,C);for(var A=w-1;A>=0;A--)v[A]=[u(v[A][0]||0,t(E,d[A][w]))]}D[w]=[E]}return new f({data:D,size:[m,1]})}function s(o,p){p=l(o,p,!0);for(var v=p._data,m=o._size[0],h=o._size[1],D=o._values,d=o._index,w=o._ptr,g=[],E=h-1;E>=0;E--){var C=v[E][0]||0;if(a(C,0))g[E]=[0];else{for(var A=0,F=[],y=[],B=w[E],b=w[E+1],N=b-1;N>=B;N--){var M=d[N];M===E?A=D[N]:M<E&&(F.push(D[N]),y.push(M))}if(a(A,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var x=i(C,A),z=0,O=y.length;z<O;z++){var S=y[z];v[S]=[u(v[S][0],t(x,F[z]))]}g[E]=[x]}}return new f({data:g,size:[m,1]})}}),zi="usolveAll",Nc=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],xc=H(zi,Nc,e=>{var{typed:r,matrix:n,divideScalar:i,multiplyScalar:t,subtract:u,equalScalar:a,DenseMatrix:f}=e,l=na({DenseMatrix:f});return r(zi,{"SparseMatrix, Array | Matrix":function(p,v){return s(p,v)},"DenseMatrix, Array | Matrix":function(p,v){return c(p,v)},"Array, Array | Matrix":function(p,v){var m=n(p),h=c(m,v);return h.map(D=>D.valueOf())}});function c(o,p){for(var v=[l(o,p,!0)._data.map(y=>y[0])],m=o._data,h=o._size[0],D=o._size[1],d=D-1;d>=0;d--)for(var w=v.length,g=0;g<w;g++){var E=v[g];if(a(m[d][d],0))if(a(E[d],0)){if(g===0){var A=[...E];A[d]=1;for(var F=d-1;F>=0;F--)A[F]=u(A[F],m[F][d]);v.push(A)}}else{if(g===0)return[];v.splice(g,1),g-=1,w-=1}else{E[d]=i(E[d],m[d][d]);for(var C=d-1;C>=0;C--)E[C]=u(E[C],t(E[d],m[C][d]))}}return v.map(y=>new f({data:y.map(B=>[B]),size:[h,1]}))}function s(o,p){for(var v=[l(o,p,!0)._data.map(P=>P[0])],m=o._size[0],h=o._size[1],D=o._values,d=o._index,w=o._ptr,g=h-1;g>=0;g--)for(var E=v.length,C=0;C<E;C++){for(var A=v[C],F=[],y=[],B=w[g],b=w[g+1],N=0,M=b-1;M>=B;M--){var x=d[M];x===g?N=D[M]:x<g&&(F.push(D[M]),y.push(x))}if(a(N,0))if(a(A[g],0)){if(C===0){var J=[...A];J[g]=1;for(var W=0,V=y.length;W<V;W++){var I=y[W];J[I]=u(J[I],F[W])}v.push(J)}}else{if(C===0)return[];v.splice(C,1),C-=1,E-=1}else{A[g]=i(A[g],N);for(var z=0,O=y.length;z<O;z++){var S=y[z];A[S]=u(A[S],t(A[g],F[z]))}}}return v.map(P=>new f({data:P.map(L=>[L]),size:[m,1]}))}}),Vt="equal",Sc=["typed","matrix","equalScalar","DenseMatrix"],Tc=H(Vt,Sc,e=>{var{typed:r,matrix:n,equalScalar:i,DenseMatrix:t}=e,u=Wr({typed:r}),a=rt({typed:r,DenseMatrix:t}),f=Vr({typed:r,DenseMatrix:t}),l=Ur({typed:r,matrix:n});return r(Vt,zc({typed:r,equalScalar:i}),l({elop:i,SS:a,DS:u,Ss:f}))}),zc=H(Vt,["typed","equalScalar"],e=>{var{typed:r,equalScalar:n}=e;return r(Vt,{"any, any":function(t,u){return t===null?u===null:u===null?t===null:t===void 0?u===void 0:u===void 0?t===void 0:n(t,u)}})}),Wt="smaller",Ic=["typed","config","matrix","DenseMatrix"],Oc=H(Wt,Ic,e=>{var{typed:r,config:n,matrix:i,DenseMatrix:t}=e,u=Wr({typed:r}),a=rt({typed:r,DenseMatrix:t}),f=Vr({typed:r,DenseMatrix:t}),l=Ur({typed:r,matrix:i}),c=At({typed:r});return r(Wt,Pc({typed:r,config:n}),{"boolean, boolean":(s,o)=>s<o,"BigNumber, BigNumber":function(o,p){return o.lt(p)&&!wt(o,p,n.epsilon)},"Fraction, Fraction":(s,o)=>s.compare(o)===-1,"Complex, Complex":function(o,p){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:a,DS:u,Ss:f}))}),Pc=H(Wt,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Wt,{"number, number":function(t,u){return t<u&&!Or(t,u,n.epsilon)}})}),Yt="smallerEq",qc=["typed","config","matrix","DenseMatrix"],Rc=H(Yt,qc,e=>{var{typed:r,config:n,matrix:i,DenseMatrix:t}=e,u=Wr({typed:r}),a=rt({typed:r,DenseMatrix:t}),f=Vr({typed:r,DenseMatrix:t}),l=Ur({typed:r,matrix:i}),c=At({typed:r});return r(Yt,Uc({typed:r,config:n}),{"boolean, boolean":(s,o)=>s<=o,"BigNumber, BigNumber":function(o,p){return o.lte(p)||wt(o,p,n.epsilon)},"Fraction, Fraction":(s,o)=>s.compare(o)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:a,DS:u,Ss:f}))}),Uc=H(Yt,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Yt,{"number, number":function(t,u){return t<=u||Or(t,u,n.epsilon)}})}),Qt="larger",Lc=["typed","config","matrix","DenseMatrix"],Zc=H(Qt,Lc,e=>{var{typed:r,config:n,matrix:i,DenseMatrix:t}=e,u=Wr({typed:r}),a=rt({typed:r,DenseMatrix:t}),f=Vr({typed:r,DenseMatrix:t}),l=Ur({typed:r,matrix:i}),c=At({typed:r});return r(Qt,Vc({typed:r,config:n}),{"boolean, boolean":(s,o)=>s>o,"BigNumber, BigNumber":function(o,p){return o.gt(p)&&!wt(o,p,n.epsilon)},"Fraction, Fraction":(s,o)=>s.compare(o)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:a,DS:u,Ss:f}))}),Vc=H(Qt,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Qt,{"number, number":function(t,u){return t>u&&!Or(t,u,n.epsilon)}})}),Jt="largerEq",Wc=["typed","config","matrix","DenseMatrix"],Yc=H(Jt,Wc,e=>{var{typed:r,config:n,matrix:i,DenseMatrix:t}=e,u=Wr({typed:r}),a=rt({typed:r,DenseMatrix:t}),f=Vr({typed:r,DenseMatrix:t}),l=Ur({typed:r,matrix:i}),c=At({typed:r});return r(Jt,Qc({typed:r,config:n}),{"boolean, boolean":(s,o)=>s>=o,"BigNumber, BigNumber":function(o,p){return o.gte(p)||wt(o,p,n.epsilon)},"Fraction, Fraction":(s,o)=>s.compare(o)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,l({SS:a,DS:u,Ss:f}))}),Qc=H(Jt,["typed","config"],e=>{var{typed:r,config:n}=e;return r(Jt,{"number, number":function(t,u){return t>=u||Or(t,u,n.epsilon)}})}),Ii="min",Jc=["typed","config","numeric","smaller"],Xc=H(Ii,Jc,e=>{var{typed:r,config:n,numeric:i,smaller:t}=e;return r(Ii,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,c){return Qu(l,c.valueOf(),u)},"...":function(l){if(Yu(l))throw new TypeError("Scalar values expected in function min");return a(l)}});function u(f,l){try{return t(f,l)?f:l}catch(c){throw Zt(c,"min",l)}}function a(f){var l;if(Tn(f,function(c){try{isNaN(c)&&typeof c=="number"?l=NaN:(l===void 0||t(c,l))&&(l=c)}catch(s){throw Zt(s,"min",c)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=i(l,n.number)),l}}),Gc="ImmutableDenseMatrix",$c=["smaller","DenseMatrix"],Kc=H(Gc,$c,e=>{var{smaller:r,DenseMatrix:n}=e;function i(t,u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!Dr(u))throw new Error("Invalid datatype: "+u);if(_e(t)||be(t)){var a=new n(t,u);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(t&&be(t.data)&&be(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=typeof t.min!="undefined"?t.min:null,this._max=typeof t.max!="undefined"?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+Er(t)+")");this._data=[],this._size=[0],this._datatype=u,this._min=null,this._max=null}}return i.prototype=new n,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(t){switch(arguments.length){case 1:{var u=n.prototype.subset.call(this,t);return _e(u)?new i({data:u._data,size:u._size,datatype:u._datatype}):u}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:me(this._data),size:me(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(this._min===null){var t=null;this.forEach(function(u){(t===null||r(u,t))&&(t=u)}),this._min=t!==null?t:void 0}return this._min},i.prototype.max=function(){if(this._max===null){var t=null;this.forEach(function(u){(t===null||r(t,u))&&(t=u)}),this._max=t!==null?t:void 0}return this._max},i},{isClass:!0}),Hc="Index",kc=["ImmutableDenseMatrix"],jc=H(Hc,kc,e=>{var{ImmutableDenseMatrix:r}=e;function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var u=0,a=arguments.length;u<a;u++){var f=arguments[u];if(vu(f))this._dimensions.push(f),this._isScalar=!1;else if(Array.isArray(f)||_e(f)){var l=i(f.valueOf());this._dimensions.push(l);var c=l.size();(c.length!==1||c[0]!==1)&&(this._isScalar=!1)}else if(typeof f=="number")this._dimensions.push(i([f]));else if(typeof f=="string")this._dimensions.push(f);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(t){for(var u=0,a=t.length;u<a;u++)if(typeof t[u]!="number"||!Me(t[u]))throw new TypeError("Index parameters must be positive integer numbers");return new r(t)}return n.prototype.clone=function(){var t=new n;return t._dimensions=me(this._dimensions),t._isScalar=this._isScalar,t},n.create=function(t){var u=new n;return n.apply(u,t),u},n.prototype.size=function(){for(var t=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];t[u]=typeof f=="string"?1:f.size()[0]}return t},n.prototype.max=function(){for(var t=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];t[u]=typeof f=="string"?f:f.max()}return t},n.prototype.min=function(){for(var t=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];t[u]=typeof f=="string"?f:f.min()}return t},n.prototype.forEach=function(t){for(var u=0,a=this._dimensions.length;u<a;u++)t(this._dimensions[u],u,this)},n.prototype.dimension=function(t){return this._dimensions[t]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var t=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];t.push(typeof f=="string"?f:f.toArray())}return t},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var t=[],u=0,a=this._dimensions.length;u<a;u++){var f=this._dimensions[u];typeof f=="string"?t.push(JSON.stringify(f)):t.push(f.toString())}return"["+t.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(t){return n.create(t.dimensions)},n},{isClass:!0});nn(function(e){return new e(1).exp()},{hasher:un});nn(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:un});var ia=nn(function(e){return e.acos(-1)},{hasher:un});nn(function(e){return ia(e).times(2)},{hasher:un});function un(e){return e[0].precision}var Oi="acos",e0=["typed","config","Complex"],r0=H(Oi,e0,e=>{var{typed:r,config:n,Complex:i}=e;return r(Oi,{number:function(u){return u>=-1&&u<=1||n.predictable?Math.acos(u):new i(u,0).acos()},Complex:function(u){return u.acos()},BigNumber:function(u){return u.acos()}})}),t0="atan",n0=["typed"],i0=H(t0,n0,e=>{var{typed:r}=e;return r("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),qn=H("trigUnit",["typed"],e=>{var{typed:r}=e;return{Unit:r.referToSelf(n=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r.find(n,i.valueType())(i.value)})}}),Pi="cos",u0=["typed"],a0=H(Pi,u0,e=>{var{typed:r}=e,n=qn({typed:r});return r(Pi,{number:Math.cos,"Complex | BigNumber":i=>i.cos()},n)}),qi="sin",o0=["typed"],s0=H(qi,o0,e=>{var{typed:r}=e,n=qn({typed:r});return r(qi,{number:Math.sin,"Complex | BigNumber":i=>i.sin()},n)}),Ri="tan",f0=["typed"],l0=H(Ri,f0,e=>{var{typed:r}=e,n=qn({typed:r});return r(Ri,{number:Math.tan,"Complex | BigNumber":i=>i.tan()},n)}),Ui="add",c0=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],h0=H(Ui,c0,e=>{var{typed:r,matrix:n,addScalar:i,equalScalar:t,DenseMatrix:u,SparseMatrix:a}=e,f=ku({typed:r}),l=nl({typed:r,equalScalar:t}),c=ju({typed:r,DenseMatrix:u}),s=Ur({typed:r,matrix:n});return r(Ui,{"any, any":i,"any, any, ...any":r.referToSelf(o=>(p,v,m)=>{for(var h=o(p,v),D=0;D<m.length;D++)h=o(h,m[D]);return h})},s({elop:i,DS:f,SS:l,Ss:c}))}),Li="norm",v0=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],p0=H(Li,v0,e=>{var{typed:r,abs:n,add:i,pow:t,conj:u,sqrt:a,multiply:f,equalScalar:l,larger:c,smaller:s,matrix:o,ctranspose:p,eigs:v}=e;return r(Li,{number:Math.abs,Complex:function(y){return y.abs()},BigNumber:function(y){return y.abs()},boolean:function(y){return Math.abs(y)},Array:function(y){return A(o(y),2)},Matrix:function(y){return A(y,2)},"Array, number | BigNumber | string":function(y,B){return A(o(y),B)},"Matrix, number | BigNumber | string":function(y,B){return A(y,B)}});function m(F){var y=0;return F.forEach(function(B){var b=n(B);c(b,y)&&(y=b)},!0),y}function h(F){var y;return F.forEach(function(B){var b=n(B);(!y||s(b,y))&&(y=b)},!0),y||0}function D(F,y){if(y===Number.POSITIVE_INFINITY||y==="inf")return m(F);if(y===Number.NEGATIVE_INFINITY||y==="-inf")return h(F);if(y==="fro")return A(F,2);if(typeof y=="number"&&!isNaN(y)){if(!l(y,0)){var B=0;return F.forEach(function(b){B=i(t(n(b),y),B)},!0),t(B,1/y)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function d(F){var y=0;return F.forEach(function(B,b){y=i(y,f(B,u(B)))}),n(a(y))}function w(F){var y=[],B=0;return F.forEach(function(b,N){var M=N[1],x=i(y[M]||0,n(b));c(x,B)&&(B=x),y[M]=x},!0),B}function g(F){var y=F.size();if(y[0]!==y[1])throw new RangeError("Invalid matrix dimensions");var B=p(F),b=f(B,F),N=v(b).values.toArray(),M=N[N.length-1];return n(a(M))}function E(F){var y=[],B=0;return F.forEach(function(b,N){var M=N[0],x=i(y[M]||0,n(b));c(x,B)&&(B=x),y[M]=x},!0),B}function C(F,y){if(y===1)return w(F);if(y===Number.POSITIVE_INFINITY||y==="inf")return E(F);if(y==="fro")return d(F);if(y===2)return g(F);throw new Error("Unsupported parameter value "+y)}function A(F,y){var B=F.size();if(B.length===1)return D(F,y);if(B.length===2){if(B[0]&&B[1])return C(F,y);throw new RangeError("Invalid matrix dimensions")}}}),Zi="dot",m0=["typed","addScalar","multiplyScalar","conj","size"],d0=H(Zi,m0,e=>{var{typed:r,addScalar:n,multiplyScalar:i,conj:t,size:u}=e;return r(Zi,{"Array | DenseMatrix, Array | DenseMatrix":f,"SparseMatrix, SparseMatrix":l});function a(s,o){var p=c(s),v=c(o),m,h;if(p.length===1)m=p[0];else if(p.length===2&&p[1]===1)m=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(v.length===1)h=v[0];else if(v.length===2&&v[1]===1)h=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(m!==h)throw new RangeError("Vectors must have equal length ("+m+" != "+h+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function f(s,o){var p=a(s,o),v=_e(s)?s._data:s,m=_e(s)?s._datatype:void 0,h=_e(o)?o._data:o,D=_e(o)?o._datatype:void 0,d=c(s).length===2,w=c(o).length===2,g=n,E=i;if(m&&D&&m===D&&typeof m=="string"){var C=m;g=r.find(n,[C,C]),E=r.find(i,[C,C])}if(!d&&!w){for(var A=E(t(v[0]),h[0]),F=1;F<p;F++)A=g(A,E(t(v[F]),h[F]));return A}if(!d&&w){for(var y=E(t(v[0]),h[0][0]),B=1;B<p;B++)y=g(y,E(t(v[B]),h[B][0]));return y}if(d&&!w){for(var b=E(t(v[0][0]),h[0]),N=1;N<p;N++)b=g(b,E(t(v[N][0]),h[N]));return b}if(d&&w){for(var M=E(t(v[0][0]),h[0][0]),x=1;x<p;x++)M=g(M,E(t(v[x][0]),h[x][0]));return M}}function l(s,o){a(s,o);for(var p=s._index,v=s._values,m=o._index,h=o._values,D=0,d=n,w=i,g=0,E=0;g<p.length&&E<m.length;){var C=p[g],A=m[E];if(C<A){g++;continue}if(C>A){E++;continue}C===A&&(D=d(D,w(v[g],h[E])),g++,E++)}return D}function c(s){return _e(s)?s.size():u(s)}}),Vi="index",D0=["typed","Index"],g0=H(Vi,D0,e=>{var{typed:r,Index:n}=e;return r(Vi,{"...number | string | BigNumber | Range | Array | Matrix":function(t){var u=t.map(function(f){return Re(f)?f.toNumber():Array.isArray(f)||_e(f)?f.map(function(l){return Re(l)?l.toNumber():l}):f}),a=new n;return n.apply(a,u),a}})}),Wi="qr",y0=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],w0=H(Wi,y0,e=>{var{typed:r,matrix:n,zeros:i,identity:t,isZero:u,equal:a,sign:f,sqrt:l,conj:c,unaryMinus:s,addScalar:o,divideScalar:p,multiplyScalar:v,subtract:m,complex:h}=e;return zt(r(Wi,{DenseMatrix:function(E){return d(E)},SparseMatrix:function(E){return w()},Array:function(E){var C=n(E),A=d(C);return{Q:A.Q.valueOf(),R:A.R.valueOf()}}}),{_denseQRimpl:D});function D(g){var E=g._size[0],C=g._size[1],A=t([E],"dense"),F=A._data,y=g.clone(),B=y._data,b,N,M,x=i([E],"");for(M=0;M<Math.min(C,E);++M){var z=B[M][M],O=s(a(z,0)?1:f(z)),S=c(O),J=0;for(b=M;b<E;b++)J=o(J,v(B[b][M],c(B[b][M])));var W=v(O,l(J));if(!u(W)){var V=m(z,W);for(x[M]=1,b=M+1;b<E;b++)x[b]=p(B[b][M],V);var I=s(c(p(V,W))),P=void 0;for(N=M;N<C;N++){for(P=0,b=M;b<E;b++)P=o(P,v(c(x[b]),B[b][N]));for(P=v(P,I),b=M;b<E;b++)B[b][N]=v(m(B[b][N],v(x[b],P)),S)}for(b=0;b<E;b++){for(P=0,N=M;N<E;N++)P=o(P,v(F[b][N],x[N]));for(P=v(P,I),N=M;N<E;++N)F[b][N]=p(m(F[b][N],v(P,c(x[N]))),S)}}}return{Q:A,R:y,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function d(g){var E=D(g),C=E.R._data;if(g._data.length>0)for(var A=C[0][0].type==="Complex"?h(0):0,F=0;F<C.length;++F)for(var y=0;y<F&&y<(C[0]||[]).length;++y)C[F][y]=A;return E}function w(g){throw new Error("qr not implemented for sparse matrices yet")}}),Yi="det",A0=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],E0=H(Yi,A0,e=>{var{typed:r,matrix:n,subtract:i,multiply:t,divideScalar:u,isZero:a,unaryMinus:f}=e;return r(Yi,{any:function(s){return me(s)},"Array | Matrix":function(s){var o;switch(_e(s)?o=s.size():Array.isArray(s)?(s=n(s),o=s.size()):o=[],o.length){case 0:return me(s);case 1:if(o[0]===1)return me(s.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Te(o)+")");case 2:{var p=o[0],v=o[1];if(p===v)return l(s.clone().valueOf(),p);throw new RangeError("Matrix must be square (size: "+Te(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Te(o)+")")}}});function l(c,s,o){if(s===1)return me(c[0][0]);if(s===2)return i(t(c[0][0],c[1][1]),t(c[1][0],c[0][1]));for(var p=!1,v=new Array(s).fill(0).map((F,y)=>y),m=0;m<s;m++){var h=v[m];if(a(c[h][m])){var D=void 0;for(D=m+1;D<s;D++)if(!a(c[v[D]][m])){h=v[D],v[D]=v[m],v[m]=h,p=!p;break}if(D===s)return c[h][m]}for(var d=c[h][m],w=m===0?1:c[v[m-1]][m-1],g=m+1;g<s;g++)for(var E=v[g],C=m+1;C<s;C++)c[E][C]=u(i(t(c[E][C],d),t(c[E][m],c[h][C])),w)}var A=c[v[s-1]][s-1];return p?f(A):A}}),Qi="inv",F0=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],C0=H(Qi,F0,e=>{var{typed:r,matrix:n,divideScalar:i,addScalar:t,multiply:u,unaryMinus:a,det:f,identity:l,abs:c}=e;return r(Qi,{"Array | Matrix":function(p){var v=_e(p)?p.size():Oe(p);switch(v.length){case 1:if(v[0]===1)return _e(p)?n([i(1,p.valueOf()[0])]):[i(1,p[0])];throw new RangeError("Matrix must be square (size: "+Te(v)+")");case 2:{var m=v[0],h=v[1];if(m===h)return _e(p)?n(s(p.valueOf(),m,h),p.storage()):s(p,m,h);throw new RangeError("Matrix must be square (size: "+Te(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Te(v)+")")}},any:function(p){return i(1,p)}});function s(o,p,v){var m,h,D,d,w;if(p===1){if(d=o[0][0],d===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,d)]]}else if(p===2){var g=f(o);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(o[1][1],g),i(a(o[0][1]),g)],[i(a(o[1][0]),g),i(o[0][0],g)]]}else{var E=o.concat();for(m=0;m<p;m++)E[m]=E[m].concat();for(var C=l(p).valueOf(),A=0;A<v;A++){var F=c(E[A][A]),y=A;for(m=A+1;m<p;)c(E[m][A])>F&&(F=c(E[m][A]),y=m),m++;if(F===0)throw Error("Cannot calculate inverse, determinant is zero");m=y,m!==A&&(w=E[A],E[A]=E[m],E[m]=w,w=C[A],C[A]=C[m],C[m]=w);var B=E[A],b=C[A];for(m=0;m<p;m++){var N=E[m],M=C[m];if(m!==A){if(N[A]!==0){for(D=i(a(N[A]),B[A]),h=A;h<v;h++)N[h]=t(N[h],u(D,B[h]));for(h=0;h<v;h++)M[h]=t(M[h],u(D,b[h]))}}else{for(D=B[A],h=A;h<v;h++)N[h]=i(N[h],D);for(h=0;h<v;h++)M[h]=i(M[h],D)}}}return C}}});function b0(e){var{addScalar:r,subtract:n,flatten:i,multiply:t,multiplyScalar:u,divideScalar:a,sqrt:f,abs:l,bignumber:c,diag:s,inv:o,qr:p,usolve:v,usolveAll:m,equal:h,complex:D,larger:d,smaller:w,matrixFromColumns:g,dot:E}=e;function C(I,P,L,Z,R){R===void 0&&(R=!0);var U=A(I,P,L,Z,R);F(I,P,L,Z,R,U);var{values:$,C:j}=y(I,P,L,Z,R),ie;return R&&(ie=B(I,P,j,U,$,L,Z),ie=g(...ie)),{values:$,vectors:ie}}function A(I,P,L,Z,R){var U=Z==="BigNumber",$=Z==="Complex",j=U?c(0):0,ie=U?c(1):$?D(1):1,ue=U?c(1):1,K=U?c(10):2,ye=u(K,K),ve;R&&(ve=Array(P).fill(ie));for(var se=!1;!se;){se=!0;for(var ce=0;ce<P;ce++){for(var de=j,De=j,Ee=0;Ee<P;Ee++)if(ce!==Ee){var xe=l(I[ce][Ee]);de=r(de,xe),De=r(De,xe)}if(!h(de,0)&&!h(De,0)){for(var Fe=ue,Ie=de,Ye=a(De,K),Je=u(De,K);w(Ie,Ye);)Ie=u(Ie,ye),Fe=u(Fe,K);for(;d(Ie,Je);)Ie=a(Ie,ye),Fe=a(Fe,K);var vr=w(a(r(Ie,De),Fe),u(r(de,De),.95));if(vr){se=!1;for(var wr=a(1,Fe),sr=0;sr<P;sr++)ce!==sr&&(I[ce][sr]=u(I[ce][sr],Fe),I[sr][ce]=u(I[sr][ce],wr));R&&(ve[ce]=u(ve[ce],Fe))}}}}return s(ve)}function F(I,P,L,Z,R,U){var $=Z==="BigNumber",j=Z==="Complex",ie=$?c(0):j?D(0):0;$&&(L=c(L));for(var ue=0;ue<P-2;ue++){for(var K=0,ye=ie,ve=ue+1;ve<P;ve++){var se=I[ve][ue];w(l(ye),l(se))&&(ye=se,K=ve)}if(!w(l(ye),L)){if(K!==ue+1){var ce=I[K];I[K]=I[ue+1],I[ue+1]=ce;for(var de=0;de<P;de++){var De=I[de][K];I[de][K]=I[de][ue+1],I[de][ue+1]=De}if(R){var Ee=U[K];U[K]=U[ue+1],U[ue+1]=Ee}}for(var xe=ue+2;xe<P;xe++){var Fe=a(I[xe][ue],ye);if(Fe!==0){for(var Ie=0;Ie<P;Ie++)I[xe][Ie]=n(I[xe][Ie],u(Fe,I[ue+1][Ie]));for(var Ye=0;Ye<P;Ye++)I[Ye][ue+1]=r(I[Ye][ue+1],u(Fe,I[Ye][xe]));if(R)for(var Je=0;Je<P;Je++)U[xe][Je]=n(U[xe][Je],u(Fe,U[ue+1][Je]))}}}}return U}function y(I,P,L,Z,R){var U=Z==="BigNumber",$=Z==="Complex",j=U?c(1):$?D(1):1;U&&(L=c(L));for(var ie=me(I),ue=[],K=P,ye=[],ve=R?s(Array(P).fill(j)):void 0,se=R?s(Array(K).fill(j)):void 0,ce=0;ce<=100;){ce+=1;for(var de=0,De=0;De<K;De++)ie[De][De]=n(ie[De][De],de);var{Q:Ee,R:xe}=p(ie);ie=t(xe,Ee);for(var Fe=0;Fe<K;Fe++)ie[Fe][Fe]=r(ie[Fe][Fe],de);if(R&&(se=t(se,Ee)),K===1||w(l(ie[K-1][K-2]),L)){ce=0,ue.push(ie[K-1][K-1]),R&&(ye.unshift([[1]]),M(se,P),ve=t(ve,se),K>1&&(se=s(Array(K-1).fill(j)))),K-=1,ie.pop();for(var Ie=0;Ie<K;Ie++)ie[Ie].pop()}else if(K===2||w(l(ie[K-2][K-3]),L)){ce=0;var Ye=b(ie[K-2][K-2],ie[K-2][K-1],ie[K-1][K-2],ie[K-1][K-1]);ue.push(...Ye),R&&(ye.unshift(N(ie[K-2][K-2],ie[K-2][K-1],ie[K-1][K-2],ie[K-1][K-1],Ye[0],Ye[1],L,Z)),M(se,P),ve=t(ve,se),K>2&&(se=s(Array(K-2).fill(j)))),K-=2,ie.pop(),ie.pop();for(var Je=0;Je<K;Je++)ie[Je].pop(),ie[Je].pop()}if(K===0)break}if(ue.sort((sr,Xr)=>+n(l(sr),l(Xr))),ce>100){var vr=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ue.join(", "));throw vr.values=ue,vr.vectors=[],vr}var wr=R?t(ve,x(ye,P)):void 0;return{values:ue,C:wr}}function B(I,P,L,Z,R,U,$){var j=o(L),ie=t(j,I,L),ue=$==="BigNumber",K=$==="Complex",ye=ue?c(0):K?D(0):0,ve=ue?c(1):K?D(1):1,se=[],ce=[];for(var de of R){var De=z(se,de,h);De===-1?(se.push(de),ce.push(1)):ce[De]+=1}for(var Ee=[],xe=se.length,Fe=Array(P).fill(ye),Ie=s(Array(P).fill(ve)),Ye=[],Je=function(Xr){var bt=se[Xr],Bt=n(ie,t(bt,Ie)),Ar=m(Bt,Fe);for(Ar.shift();Ar.length<ce[Xr];){var _=O(Bt,P,Ar,U,$);if(_==null){Ye.push(bt);break}Ar.push(_)}var T=t(o(Z),L);Ar=Ar.map(q=>t(T,q)),Ee.push(...Ar.map(q=>i(q)))},vr=0;vr<xe;vr++)Je(vr);if(Ye.length!==0){var wr=new Error("Failed to find eigenvectors for the following eigenvalues: "+Ye.join(", "));throw wr.values=R,wr.vectors=Ee,wr}return Ee}function b(I,P,L,Z){var R=r(I,Z),U=n(u(I,Z),u(P,L)),$=u(R,.5),j=u(f(n(u(R,R),u(4,U))),.5);return[r($,j),n($,j)]}function N(I,P,L,Z,R,U,$,j){var ie=j==="BigNumber",ue=j==="Complex",K=ie?c(0):ue?D(0):0,ye=ie?c(1):ue?D(1):1;if(w(l(L),$))return[[ye,K],[K,ye]];if(d(l(n(R,U)),$))return[[n(R,Z),n(U,Z)],[L,L]];var ve=n(I,R),se=n(P,R),ce=n(L,R),de=n(Z,R);return w(l(se),$)?[[ve,ye],[ce,K]]:[[se,K],[de,ye]]}function M(I,P){for(var L=0;L<I.length;L++)I[L].push(...Array(P-I[L].length).fill(0));for(var Z=I.length;Z<P;Z++)I.push(Array(P).fill(0)),I[Z][Z]=1;return I}function x(I,P){for(var L=[],Z=0;Z<P;Z++)L[Z]=Array(P).fill(0);var R=0;for(var U of I){for(var $=U.length,j=0;j<$;j++)for(var ie=0;ie<$;ie++)L[R+j][R+ie]=U[j][ie];R+=$}return L}function z(I,P,L){for(var Z=0;Z<I.length;Z++)if(L(I[Z],P))return Z;return-1}function O(I,P,L,Z,R){for(var U=R==="BigNumber"?c(1e3):1e3,$,j=0;$=S(P,L,R),$=v(I,$),!d(W($),U);)if(++j>=5)return null;for(j=0;;){var ie=v(I,$);if(w(W(J($,[ie])),Z))break;if(++j>=10)return null;$=V(ie)}return $}function S(I,P,L){var Z=L==="BigNumber",R=L==="Complex",U=Array(I).fill(0).map($=>2*Math.random()-1);return Z&&(U=U.map($=>c($))),R&&(U=U.map($=>D($))),U=J(U,P),V(U,L)}function J(I,P){for(var L of P)I=n(I,t(a(E(L,I),E(L,L)),L));return I}function W(I){return l(f(E(I,I)))}function V(I,P){var L=P==="BigNumber",Z=P==="Complex",R=L?c(1):Z?D(1):1;return t(a(R,W(I)),I)}return C}function B0(e){var{config:r,addScalar:n,subtract:i,abs:t,atan:u,cos:a,sin:f,multiplyScalar:l,inv:c,bignumber:s,multiply:o,add:p}=e;function v(b,N){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.epsilon,x=arguments.length>3?arguments[3]:void 0;if(x==="number")return m(b,M);if(x==="BigNumber")return h(b,M);throw TypeError("Unsupported data type: "+x)}function m(b,N){for(var M=b.length,x=Math.abs(N/M),z,O=new Array(M),S=0;S<M;S++)O[S]=B(M,0),O[S][S]=1;for(var J=A(b);Math.abs(J[1])>=Math.abs(x);){var W=J[0][0],V=J[0][1];z=D(b[W][W],b[V][V],b[W][V]),b=C(b,z,W,V),O=w(O,z,W,V),J=A(b)}for(var I=B(M,0),P=0;P<M;P++)I[P]=b[P][P];return y(me(I),me(O))}function h(b,N){for(var M=b.length,x=t(N/M),z,O=new Array(M),S=0;S<M;S++)O[S]=B(M,0),O[S][S]=1;for(var J=F(b);t(J[1])>=t(x);){var W=J[0][0],V=J[0][1];z=d(b[W][W],b[V][V],b[W][V]),b=E(b,z,W,V),O=g(O,z,W,V),J=F(b)}for(var I=B(M,0),P=0;P<M;P++)I[P]=b[P][P];return y(me(I),me(O))}function D(b,N,M){var x=N-b;return Math.abs(x)<=r.epsilon?Math.PI/4:.5*Math.atan(2*M/(N-b))}function d(b,N,M){var x=i(N,b);return t(x)<=r.epsilon?s(-1).acos().div(4):l(.5,u(o(2,M,c(x))))}function w(b,N,M,x){for(var z=b.length,O=Math.cos(N),S=Math.sin(N),J=B(z,0),W=B(z,0),V=0;V<z;V++)J[V]=O*b[V][M]-S*b[V][x],W[V]=S*b[V][M]+O*b[V][x];for(var I=0;I<z;I++)b[I][M]=J[I],b[I][x]=W[I];return b}function g(b,N,M,x){for(var z=b.length,O=a(N),S=f(N),J=B(z,s(0)),W=B(z,s(0)),V=0;V<z;V++)J[V]=i(l(O,b[V][M]),l(S,b[V][x])),W[V]=n(l(S,b[V][M]),l(O,b[V][x]));for(var I=0;I<z;I++)b[I][M]=J[I],b[I][x]=W[I];return b}function E(b,N,M,x){for(var z=b.length,O=s(a(N)),S=s(f(N)),J=l(O,O),W=l(S,S),V=B(z,s(0)),I=B(z,s(0)),P=o(s(2),O,S,b[M][x]),L=n(i(l(J,b[M][M]),P),l(W,b[x][x])),Z=p(l(W,b[M][M]),P,l(J,b[x][x])),R=0;R<z;R++)V[R]=i(l(O,b[M][R]),l(S,b[x][R])),I[R]=n(l(S,b[M][R]),l(O,b[x][R]));b[M][M]=L,b[x][x]=Z,b[M][x]=s(0),b[x][M]=s(0);for(var U=0;U<z;U++)U!==M&&U!==x&&(b[M][U]=V[U],b[U][M]=V[U],b[x][U]=I[U],b[U][x]=I[U]);return b}function C(b,N,M,x){for(var z=b.length,O=Math.cos(N),S=Math.sin(N),J=O*O,W=S*S,V=B(z,0),I=B(z,0),P=J*b[M][M]-2*O*S*b[M][x]+W*b[x][x],L=W*b[M][M]+2*O*S*b[M][x]+J*b[x][x],Z=0;Z<z;Z++)V[Z]=O*b[M][Z]-S*b[x][Z],I[Z]=S*b[M][Z]+O*b[x][Z];b[M][M]=P,b[x][x]=L,b[M][x]=0,b[x][M]=0;for(var R=0;R<z;R++)R!==M&&R!==x&&(b[M][R]=V[R],b[R][M]=V[R],b[x][R]=I[R],b[R][x]=I[R]);return b}function A(b){for(var N=b.length,M=0,x=[0,1],z=0;z<N;z++)for(var O=z+1;O<N;O++)Math.abs(M)<Math.abs(b[z][O])&&(M=Math.abs(b[z][O]),x=[z,O]);return[x,M]}function F(b){for(var N=b.length,M=0,x=[0,1],z=0;z<N;z++)for(var O=z+1;O<N;O++)t(M)<t(b[z][O])&&(M=t(b[z][O]),x=[z,O]);return[x,M]}function y(b,N){for(var M=b.length,x=Array(M),z=Array(M),O=0;O<M;O++)z[O]=Array(M);for(var S=0;S<M;S++){for(var J=0,W=b[0],V=0;V<b.length;V++)t(b[V])<t(W)&&(J=V,W=b[J]);x[S]=b.splice(J,1)[0];for(var I=0;I<M;I++)z[I][S]=N[I][J],N[I].splice(J,1)}return{values:x,vectors:z}}function B(b,N){for(var M=new Array(b),x=0;x<b;x++)M[x]=N;return M}return v}var M0="eigs",_0=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],N0=H(M0,_0,e=>{var{config:r,typed:n,matrix:i,addScalar:t,subtract:u,equal:a,abs:f,atan:l,cos:c,sin:s,multiplyScalar:o,divideScalar:p,inv:v,bignumber:m,multiply:h,add:D,larger:d,column:w,flatten:g,number:E,complex:C,sqrt:A,diag:F,qr:y,usolve:B,usolveAll:b,im:N,re:M,smaller:x,matrixFromColumns:z,dot:O}=e,S=B0({config:r,addScalar:t,subtract:u,column:w,flatten:g,equal:a,abs:f,atan:l,cos:c,sin:s,multiplyScalar:o,inv:v,bignumber:m,complex:C,multiply:h,add:D}),J=b0({config:r,addScalar:t,subtract:u,multiply:h,multiplyScalar:o,flatten:g,divideScalar:p,sqrt:A,abs:f,bignumber:m,diag:F,qr:y,inv:v,usolve:B,usolveAll:b,equal:a,complex:C,larger:d,smaller:x,matrixFromColumns:z,dot:O});return n("eigs",{Array:function(R){var U=i(R);return W(U)},"Array, number|BigNumber":function(R,U){var $=i(R);return W($,U)},Matrix:function(R){var{values:U,vectors:$}=W(R);return{values:i(U),vectors:i($)}},"Matrix, number|BigNumber":function(R,U){var{values:$,vectors:j}=W(R,U);return{values:i($),vectors:i(j)}}});function W(Z,R){R===void 0&&(R=r.epsilon);var U=Z.size();if(U.length!==2||U[0]!==U[1])throw new RangeError("Matrix must be square (size: "+Te(U)+")");var $=Z.toArray(),j=U[0];if(I($,j,R)&&(P($,j),V($,j,R))){var ie=L(Z,$,j);return S($,j,R,ie)}var ue=L(Z,$,j);return J($,j,R,ue)}function V(Z,R,U){for(var $=0;$<R;$++)for(var j=$;j<R;j++)if(d(m(f(u(Z[$][j],Z[j][$]))),U))return!1;return!0}function I(Z,R,U){for(var $=0;$<R;$++)for(var j=0;j<R;j++)if(d(m(f(N(Z[$][j]))),U))return!1;return!0}function P(Z,R){for(var U=0;U<R;U++)for(var $=0;$<R;$++)Z[U][$]=M(Z[U][$])}function L(Z,R,U){var $=Z.datatype();if($==="number"||$==="BigNumber"||$==="Complex")return $;for(var j=!1,ie=!1,ue=!1,K=0;K<U;K++)for(var ye=0;ye<U;ye++){var ve=R[K][ye];if(ze(ve)||Nn(ve))j=!0;else if(Re(ve))ie=!0;else if(_n(ve))ue=!0;else throw TypeError("Unsupported type in Matrix: "+Er(ve))}if(ie&&ue&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ue){for(var se=0;se<U;se++)for(var ce=0;ce<U;ce++)R[se][ce]=C(R[se][ce]);return"Complex"}if(ie){for(var de=0;de<U;de++)for(var De=0;De<U;De++)R[de][De]=m(R[de][De]);return"BigNumber"}if(j){for(var Ee=0;Ee<U;Ee++)for(var xe=0;xe<U;xe++)R[Ee][xe]=E(R[Ee][xe]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),x0="divide",S0=["typed","matrix","multiply","equalScalar","divideScalar","inv"],T0=H(x0,S0,e=>{var{typed:r,matrix:n,multiply:i,equalScalar:t,divideScalar:u,inv:a}=e,f=On({typed:r,equalScalar:t}),l=Pn({typed:r});return r("divide",pu({"Array | Matrix, Array | Matrix":function(s,o){return i(s,a(o))},"DenseMatrix, any":function(s,o){return l(s,o,u,!1)},"SparseMatrix, any":function(s,o){return f(s,o,u,!1)},"Array, any":function(s,o){return l(n(s),o,u,!1).valueOf()},"any, Array | Matrix":function(s,o){return i(s,a(o))}},u.signatures))}),Ji="sum",z0=["typed","config","add","numeric"],I0=H(Ji,z0,e=>{var{typed:r,config:n,add:i,numeric:t}=e;return r(Ji,{"Array | Matrix":u,"Array | Matrix, number | BigNumber":a,"...":function(l){if(Yu(l))throw new TypeError("Scalar values expected in function sum");return u(l)}});function u(f){var l;return Tn(f,function(c){try{l=l===void 0?c:i(l,c)}catch(s){throw Zt(s,"sum",c)}}),l===void 0&&(l=t(0,n.number)),typeof l=="string"&&(l=t(l,n.number)),l}function a(f,l){try{var c=Qu(f,l,i);return c}catch(s){throw Zt(s,"sum")}}}),O0=P0("pi",["config","?BigNumber"],e=>{var{config:r,BigNumber:n}=e;return r.number==="BigNumber"?ia(n):vf});function P0(e,r,n){return H(e,r,n,{recreateOnConfigChange:!0})}var Yr=$s({config:We}),Et=ks({}),Rn=rf({}),Un=uf({}),nr=ff({Matrix:Un}),Ve=O0({BigNumber:Yr,config:We}),ae=ko({BigNumber:Yr,Complex:Et,DenseMatrix:nr,Fraction:Rn}),Ln=Yf({typed:ae}),ua=r0({Complex:Et,config:We,typed:ae}),Qr=Jf({typed:ae}),Bn=i0({typed:ae}),Zn=xf({BigNumber:Yr,typed:ae}),an=zf({Complex:Et,typed:ae}),on=Il({typed:ae}),Cr=yf({config:We,typed:ae}),q0=Pl({typed:ae}),aa=hf({typed:ae}),oa=df({typed:ae}),tt=Al({typed:ae}),Vn=Mf({typed:ae}),R0=Rl({typed:ae}),U0=bl({BigNumber:Yr,Fraction:Rn,complex:an,typed:ae}),zr=s0({typed:ae}),sn=Ef({Matrix:Un,equalScalar:Cr,typed:ae}),L0=l0({typed:ae}),Xt=a0({typed:ae}),nt=_l({Complex:Et,config:We,typed:ae}),fn=Vf({typed:ae}),sa=Pf({Fraction:Rn,typed:ae}),pe=Rf({DenseMatrix:nr,Matrix:Un,SparseMatrix:sn,typed:ae}),Wn=wc({bignumber:Zn,fraction:sa,number:Vn}),Z0=ic({isInteger:aa,matrix:pe,typed:ae}),fa=ac({matrix:pe,config:We,typed:ae}),Ft=Oc({DenseMatrix:nr,config:We,matrix:pe,typed:ae}),_r=sc({matrix:pe,typed:ae}),Jr=xl({DenseMatrix:nr,addScalar:Qr,equalScalar:Cr,matrix:pe,typed:ae,unaryMinus:fn}),la=vc({matrix:pe,typed:ae}),V0=Dc({BigNumber:Yr,config:We,matrix:pe,typed:ae}),W0=Ll({isInteger:aa,matrix:pe,typed:ae}),Y0=mc({conj:on,transpose:la,typed:ae}),Q0=Jl({DenseMatrix:nr,SparseMatrix:sn,matrix:pe,typed:ae}),Lr=Ec({numeric:Wn,typed:ae}),J0=Bc({DenseMatrix:nr,divideScalar:Lr,equalScalar:Cr,matrix:pe,typed:ae}),ca=Tc({DenseMatrix:nr,equalScalar:Cr,matrix:pe,typed:ae}),ha=Gl({matrix:pe,typed:ae}),X0=Yc({DenseMatrix:nr,config:We,matrix:pe,typed:ae}),G0=Lf({flatten:ha,matrix:pe,size:fa,typed:ae}),$0=Xc({config:We,numeric:Wn,smaller:Ft,typed:ae}),va=jl({BigNumber:Yr,config:We,matrix:pe,typed:ae}),K0=Rc({DenseMatrix:nr,config:We,matrix:pe,typed:ae}),H0=_c({DenseMatrix:nr,divideScalar:Lr,equalScalar:Cr,matrix:pe,multiplyScalar:tt,subtract:Jr,typed:ae}),Ct=h0({DenseMatrix:nr,SparseMatrix:sn,addScalar:Qr,equalScalar:Cr,matrix:pe,typed:ae}),lt=d0({addScalar:Qr,conj:on,multiplyScalar:tt,size:fa,typed:ae}),Yn=Kl({BigNumber:Yr,DenseMatrix:nr,SparseMatrix:sn,config:We,matrix:pe,typed:ae}),Qn=Zc({DenseMatrix:nr,config:We,matrix:pe,typed:ae}),Pe=Fl({addScalar:Qr,dot:lt,equalScalar:Cr,matrix:pe,multiplyScalar:tt,typed:ae}),k0=w0({addScalar:Qr,complex:an,conj:on,divideScalar:Lr,equal:ca,identity:Yn,isZero:oa,matrix:pe,multiplyScalar:tt,sign:U0,sqrt:nt,subtract:Jr,typed:ae,unaryMinus:fn,zeros:V0}),dt=tc({bignumber:Zn,matrix:pe,config:We,larger:Qn,largerEq:X0,smaller:Ft,smallerEq:K0,typed:ae}),j0=I0({add:Ct,config:We,numeric:Wn,typed:ae}),eh=xc({DenseMatrix:nr,divideScalar:Lr,equalScalar:Cr,matrix:pe,multiplyScalar:tt,subtract:Jr,typed:ae}),Xi=Yl({matrix:pe,multiply:Pe,subtract:Jr,typed:ae}),rh=E0({divideScalar:Lr,isZero:oa,matrix:pe,multiply:Pe,subtract:Jr,typed:ae,unaryMinus:fn}),th=Kc({DenseMatrix:nr,smaller:Ft}),pa=jc({ImmutableDenseMatrix:th}),nh=Vl({Index:pa,matrix:pe,range:dt,typed:ae}),Nr=g0({Index:pa,typed:ae}),ln=C0({abs:Ln,addScalar:Qr,det:rh,divideScalar:Lr,identity:Yn,matrix:pe,multiply:Pe,typed:ae,unaryMinus:fn}),ih=Cc({Complex:Et,config:We,fraction:sa,identity:Yn,inv:ln,matrix:pe,multiply:Pe,number:Vn,typed:ae}),uh=T0({divideScalar:Lr,equalScalar:Cr,inv:ln,matrix:pe,multiply:Pe,typed:ae}),ah=N0({abs:Ln,add:Ct,addScalar:Qr,atan:Bn,bignumber:Zn,column:nh,complex:an,config:We,cos:Xt,diag:Q0,divideScalar:Lr,dot:lt,equal:ca,flatten:ha,im:q0,inv:ln,larger:Qn,matrix:pe,matrixFromColumns:G0,multiply:Pe,multiplyScalar:tt,number:Vn,qr:k0,re:R0,sin:zr,smaller:Ft,sqrt:nt,subtract:Jr,typed:ae,usolve:H0,usolveAll:eh}),oh=p0({abs:Ln,add:Ct,conj:on,ctranspose:Y0,eigs:ah,equalScalar:Cr,larger:Qn,matrix:pe,multiply:Pe,pow:ih,smaller:Ft,sqrt:nt,typed:ae});const cr=Ve/2;function sh(e){return[e.x,e.y,e.z]}function Zr(e){return[e.r*zr(e.theta)*Xt(e.phi),e.r*zr(e.theta)*zr(e.phi),e.r*Xt(e.theta)]}function fh(e){let r=nt(j0(...[e.x,e.y,e.z].map(i=>Math.pow(i,2)))),n;return e.x>0?n=Bn(e.y/e.x):e.x<0?n=Bn(e.y/e.x)+Ve:n=cr*Math.sign(e.y),{phi:n%(2*Ve),theta:ua(e.z/r),r}}function Gi(e){let r=Zr(e);return{x:r[0],y:r[1],z:r[2]}}function ma(e){let r={theta:e+cr,phi:cr,r:1},n={theta:e,phi:cr,r:1};return da([1,0,0],Zr(r),Zr(n))}function Gt(e){let r={theta:cr,phi:e,r:1},n={theta:cr,phi:e+cr,r:1};return da(Zr(r),Zr(n),[0,0,1])}function da(e,r,n){return la(pe([e,r,n]))}function lh(e){let r,n,i,t;return{c(){r=$e("svg"),n=$e("circle"),this.h()},l(u){r=Ke(u,"svg",{height:!0,width:!0,viewBox:!0,class:!0});var a=Be(r);n=Ke(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),Be(n).forEach(oe),a.forEach(oe),this.h()},h(){re(n,"cx",e[3]),re(n,"cy",e[4]),re(n,"r",e[2]),re(n,"class","svelte-lg1mfb"),re(r,"height",e[0]),re(r,"width",e[1]),re(r,"viewBox","-5 -5 10 10"),re(r,"class","svelte-lg1mfb")},m(u,a){Ae(u,r,a),we(r,n),i||(t=[mr(n,"mousedown",e[6]),mr(r,"mousemove",function(){$a(e[5])&&e[5].apply(this,arguments)}),mr(r,"mouseup",e[7]),mr(r,"mouseleave",e[7]),mr(r,"wheel",e[8])],i=!0)},p(u,[a]){e=u,a&8&&re(n,"cx",e[3]),a&16&&re(n,"cy",e[4]),a&4&&re(n,"r",e[2]),a&1&&re(r,"height",e[0]),a&2&&re(r,"width",e[1])},i:kr,o:kr,d(u){u&&oe(r),i=!1,ou(t)}}}let $i=.2;function ch(e,r,n){let{cameraPosition:i={x:2.5,y:.25,z:.2}}=r,{minX:t=1}=r,{polar:u=!1}=r,{controlHeight:a=300}=r,{controlWidth:f=300}=r,l=fh(i),c=.5,s=(c-$i)/((u?l.r:i.x)-t),o=u?(l.phi+3*Ve)%(2*Ve)/(2*Ve)*10-5:i.y,p=u?l.theta/Ve*10-5:-i.z,v=F=>{};function m(F){let y=F.wheelDeltaY/1200;return n(2,c=Math.max(c+y,$i)),y/s}function h(F){let y=F.offsetX/f,B=F.offsetY/a;return n(3,o=y*10-5),n(4,p=B*10-5),{x:y,y:B}}function D(F){let y=h(F);n(9,i.y=y.x*10-5,i),n(9,i.z=(1-y.y)*10-5,i)}function d(F){let y=h(F);l.phi=y.x*2*Ve-Ve,l.theta=y.y*Ve,n(9,i=Gi(l))}function w(F){l.r=Math.max(l.r+m(F),t),n(9,i=Gi(l))}function g(F){n(9,i.x=Math.max(i.x+m(F),t),i)}function E(){n(5,v=u?d:D)}function C(){n(5,v=()=>{})}let A=u?w:g;return e.$$set=F=>{"cameraPosition"in F&&n(9,i=F.cameraPosition),"minX"in F&&n(10,t=F.minX),"polar"in F&&n(11,u=F.polar),"controlHeight"in F&&n(0,a=F.controlHeight),"controlWidth"in F&&n(1,f=F.controlWidth)},[a,f,c,o,p,v,E,C,A,i,t,u]}class hh extends Dt{constructor(r){super(),gt(this,r,ch,lh,yt,{cameraPosition:9,minX:10,polar:11,controlHeight:0,controlWidth:1})}}function Ki(e,r,n){const i=e.slice();return i[2]=r[n],i[4]=n,i}function Hi(e){let r,n,i,t;return{c(){r=$e("line"),this.h()},l(u){r=Ke(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0,stroke:!0}),Be(r).forEach(oe),this.h()},h(){re(r,"x1","0"),re(r,"y1","0"),re(r,"x2",n=e[2].x),re(r,"y2",i=-e[2].y),re(r,"class","vec svelte-14p0t1u"),re(r,"stroke",t=e[1][e[4]])},m(u,a){Ae(u,r,a)},p(u,a){a&1&&n!==(n=u[2].x)&&re(r,"x2",n),a&1&&i!==(i=-u[2].y)&&re(r,"y2",i),a&2&&t!==(t=u[1][u[4]])&&re(r,"stroke",t)},d(u){u&&oe(r)}}}function vh(e){let r,n,i,t,u,a,f,l,c,s,o,p,v,m,h,D,d,w,g,E=e[0],C=[];for(let A=0;A<E.length;A+=1)C[A]=Hi(Ki(e,E,A));return{c(){r=$e("circle"),n=rr(),i=$e("line"),t=rr(),u=$e("line"),a=rr(),f=$e("text"),l=je("1"),c=rr(),s=$e("text"),o=je("\u22121"),p=rr(),v=$e("text"),m=je("i"),h=rr(),D=$e("text"),d=je("\u2212i"),w=rr();for(let A=0;A<C.length;A+=1)C[A].c();g=St(),this.h()},l(A){r=Ke(A,"circle",{cx:!0,cy:!0,r:!0,class:!0}),Be(r).forEach(oe),n=tr(A),i=Ke(A,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),Be(i).forEach(oe),t=tr(A),u=Ke(A,"line",{x1:!0,y1:!0,x2:!0,y2:!0,class:!0}),Be(u).forEach(oe),a=tr(A),f=Ke(A,"text",{x:!0,y:!0,class:!0});var F=Be(f);l=er(F,"1"),F.forEach(oe),c=tr(A),s=Ke(A,"text",{x:!0,y:!0,class:!0});var y=Be(s);o=er(y,"\u22121"),y.forEach(oe),p=tr(A),v=Ke(A,"text",{x:!0,y:!0,"font-style":!0,class:!0});var B=Be(v);m=er(B,"i"),B.forEach(oe),h=tr(A),D=Ke(A,"text",{x:!0,y:!0,"font-style":!0,class:!0});var b=Be(D);d=er(b,"\u2212i"),b.forEach(oe),w=tr(A);for(let N=0;N<C.length;N+=1)C[N].l(A);g=St(),this.h()},h(){re(r,"cx","0"),re(r,"cy","0"),re(r,"r","1"),re(r,"class","svelte-14p0t1u"),re(i,"x1","-1.5"),re(i,"y1","0"),re(i,"x2","1.5"),re(i,"y2","0"),re(i,"class","axis svelte-14p0t1u"),re(u,"x1","0"),re(u,"y1","-1.5"),re(u,"x2","0"),re(u,"y2","1.5"),re(u,"class","axis svelte-14p0t1u"),re(f,"x","1.07"),re(f,"y","-0.05"),re(f,"class","svelte-14p0t1u"),re(s,"x","-1.35"),re(s,"y","-0.05"),re(s,"class","svelte-14p0t1u"),re(v,"x","0.08"),re(v,"y","-1.15"),re(v,"font-style","italic"),re(v,"class","svelte-14p0t1u"),re(D,"x","0.05"),re(D,"y","1.25"),re(D,"font-style","italic"),re(D,"class","svelte-14p0t1u")},m(A,F){Ae(A,r,F),Ae(A,n,F),Ae(A,i,F),Ae(A,t,F),Ae(A,u,F),Ae(A,a,F),Ae(A,f,F),we(f,l),Ae(A,c,F),Ae(A,s,F),we(s,o),Ae(A,p,F),Ae(A,v,F),we(v,m),Ae(A,h,F),Ae(A,D,F),we(D,d),Ae(A,w,F);for(let y=0;y<C.length;y+=1)C[y].m(A,F);Ae(A,g,F)},p(A,[F]){if(F&3){E=A[0];let y;for(y=0;y<E.length;y+=1){const B=Ki(A,E,y);C[y]?C[y].p(B,F):(C[y]=Hi(B),C[y].c(),C[y].m(g.parentNode,g))}for(;y<C.length;y+=1)C[y].d(1);C.length=E.length}},i:kr,o:kr,d(A){A&&oe(r),A&&oe(n),A&&oe(i),A&&oe(t),A&&oe(u),A&&oe(a),A&&oe(f),A&&oe(c),A&&oe(s),A&&oe(p),A&&oe(v),A&&oe(h),A&&oe(D),A&&oe(w),su(C,A),A&&oe(g)}}}function ph(e,r,n){let{vectors:i=[]}=r,{colors:t=["#4682B4","#FA8072"]}=r;return e.$$set=u=>{"vectors"in u&&n(0,i=u.vectors),"colors"in u&&n(1,t=u.colors)},[i,t]}class mh extends Dt{constructor(r){super(),gt(this,r,ph,vh,yt,{vectors:0,colors:1})}}function dn(e){return uh(e,oh(e))}function dh(e,r,n){const i=dn(Jr(r,e)),t=dn(Xi(i,n)),u=dn(Xi(t,i));return pe([...[0,1,2].map(a=>[t[a],u[a],-i[a],0]),[-lt(t,e),-lt(u,e),lt(i,e),1]])}function Dh(e,r,n,i){const t=n*L0(e*Ve/360),u=t*r;return gh(-u,u,-t,t,n,i)}function gh(e,r,n,i,t,u){const a=(r+e)/(r-e),f=(i+n)/(i-n),l=-(u+t)/(u-t),c=-2*u*t/(u-t),s=2*t/(r-e),o=2*t/(i-n);return pe([[s,0,0,0],[0,o,0,0],[a,f,l,-1],[0,0,c,0]])}function yh(e){let r=_r(e,Nr(dt(0,3),dt(0,3)));return Pe(ln(r),va([3,1]))}function Da(e,r,n){let i=$0(3,r.size()[0]),t;for(let u=0;u<i;u++){if(t=_r(Pe(_r(r,Nr(u,dt(0,3))),e.planeParams),Nr(0,0)),t>1+n)return 1;if(t<1-n)return-1}return 0}function Jn(e,r,n,i,t){let u=Da(e,r,i);if(u==0)e.sceneIndices.push(n);else{let a=u<0?"left":"right";e[a]==null?t(e,a,r,n):Jn(e[a],r,n,i,t)}}function wh(e,r,n,i){Jn(e,r,n,i,(t,u,a,f)=>{t.sceneIndices.push(f)})}function Mn(e,r,n,i,t){if(e==null)return;let u=Da(e,r,i),a=u<0?"left":"right",f=u<0?"right":"left";Mn(e[f],r,n,i,t),e.sceneIndices.forEach(l=>{n.push(t(l))}),Mn(e[a],r,n,i,t)}function Ah(e,r,n,i){let t=[],u;for(let a=0;a<n;a++)u=f=>_r(f,Nr(a,0)).toFixed(i),t.push(`${u(e)},${u(r)}`);return t.join(" ")}function Eh(e,r,n){const i=Math.pow(10,-r);let t,u,a,f,l=[];return e.forEach(({faces:c},s)=>{c.forEach((o,p)=>{o.size()[0],t={sceneElemInd:s,faceInd:p},a=Ct(o,n);try{f=yh(a)}catch{l.push({line:a,sceneIndex:t});return}u==null?u={sceneIndices:[t],planeParams:f}:Jn(u,a,t,i,(v,m,h,D)=>{v[m]={sceneIndices:[D],planeParams:f}})})}),l.forEach(({line:c,sceneIndex:s})=>{wh(u,c,s,i)}),u}function Fh(e,r,n,i,t,u){let a=[];function f(l){let c=r[l.sceneElemInd],s=c.faces[l.faceInd],o=s.size()[0],p=Pe(W0(s,va(o,1)),n),v=dt(0,o),m=w=>J0(_r(p,Nr(v,w)),_r(p,Nr(v,3))),h=m(0),D=Pe(-1,m(1)),d;return c.text?d={...c.style,x:_r(h,Nr(0,0)),y:_r(D,Nr(0,0))}:d={points:Ah(h,D,o,t),...c.style},{line:c.line,text:c.text,attrs:d}}return Mn(e,Z0(Ct(i,u),[1,3]),a,Math.pow(10,-t),f),a}function ki(e,r,n){const i=e.slice();return i[14]=r[n].line,i[15]=r[n].attrs,i[16]=r[n].text,i[18]=n,i}function Ch(e){let r,n=[e[15]],i={};for(let t=0;t<n.length;t+=1)i=$t(i,n[t]);return{c(){r=$e("polygon"),this.h()},l(t){r=Ke(t,"polygon",{}),Be(r).forEach(oe),this.h()},h(){Ir(r,i)},m(t,u){Ae(t,r,u)},p(t,u){Ir(r,i=Kt(n,[u&2&&t[15]]))},d(t){t&&oe(r)}}}function bh(e){let r,n=e[16]+"",i,t=[e[15]],u={};for(let a=0;a<t.length;a+=1)u=$t(u,t[a]);return{c(){r=$e("text"),i=je(n),this.h()},l(a){r=Ke(a,"text",{});var f=Be(r);i=er(f,n),f.forEach(oe),this.h()},h(){Ir(r,u)},m(a,f){Ae(a,r,f),we(r,i)},p(a,f){f&2&&n!==(n=a[16]+"")&&Nt(i,n),Ir(r,u=Kt(t,[f&2&&a[15]]))},d(a){a&&oe(r)}}}function Bh(e){let r,n=[e[15]],i={};for(let t=0;t<n.length;t+=1)i=$t(i,n[t]);return{c(){r=$e("polyline"),this.h()},l(t){r=Ke(t,"polyline",{}),Be(r).forEach(oe),this.h()},h(){Ir(r,i)},m(t,u){Ae(t,r,u)},p(t,u){Ir(r,i=Kt(n,[u&2&&t[15]]))},d(t){t&&oe(r)}}}function ji(e){let r;function n(u,a){return u[14]?Bh:u[16]?bh:Ch}let i=n(e),t=i(e);return{c(){t.c(),r=St()},l(u){t.l(u),r=St()},m(u,a){t.m(u,a),Ae(u,r,a)},p(u,a){i===(i=n(u))&&t?t.p(u,a):(t.d(1),t=i(u),t&&(t.c(),t.m(r.parentNode,r)))},d(u){t.d(u),u&&oe(r)}}}function Mh(e){let r,n=e[1],i=[];for(let a=0;a<n.length;a+=1)i[a]=ji(ki(e,n,a));let t=[e[0]],u={};for(let a=0;a<t.length;a+=1)u=$t(u,t[a]);return{c(){r=$e("g");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){r=Ke(a,"g",{});var f=Be(r);for(let l=0;l<i.length;l+=1)i[l].l(f);f.forEach(oe),this.h()},h(){Ir(r,u)},m(a,f){Ae(a,r,f);for(let l=0;l<i.length;l+=1)i[l].m(r,null)},p(a,[f]){if(f&2){n=a[1];let l;for(l=0;l<n.length;l+=1){const c=ki(a,n,l);i[l]?i[l].p(c,f):(i[l]=ji(c),i[l].c(),i[l].m(r,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}Ir(r,u=Kt(t,[f&1&&a[0]]))},i:kr,o:kr,d(a){a&&oe(r),su(i,a)}}}function _h(e,r,n){let i,t,u,{precision:a=5}=r,{shift:f=5}=r,{cameraPosition:l=[20,25,60]}=r,{cameraLooksAt:c=[0,0,0]}=r,{upVector:s=[0,0,1]}=r,{fovy:o=25}=r,{aspect:p=1}=r,{near:v=.2}=r,{far:m=1}=r,{scene:h=[]}=r,{defaultStyle:D={fill:"white","fill-opacity":"0.6",stroke:"black","stroke-linejoin":"round","stroke-width":"0.005"}}=r;return e.$$set=d=>{"precision"in d&&n(2,a=d.precision),"shift"in d&&n(3,f=d.shift),"cameraPosition"in d&&n(4,l=d.cameraPosition),"cameraLooksAt"in d&&n(5,c=d.cameraLooksAt),"upVector"in d&&n(6,s=d.upVector),"fovy"in d&&n(7,o=d.fovy),"aspect"in d&&n(8,p=d.aspect),"near"in d&&n(9,v=d.near),"far"in d&&n(10,m=d.far),"scene"in d&&n(11,h=d.scene),"defaultStyle"in d&&n(0,D=d.defaultStyle)},e.$$.update=()=>{e.$$.dirty&2032&&n(12,i=Pe(dh(l,c,s),Dh(o,p,v,m))),e.$$.dirty&2060&&n(13,t=Eh(h,a,f)),e.$$.dirty&14364&&n(1,u=Fh(t,h,i,pe(l),a,f))},[D,u,a,f,l,c,s,o,p,v,m,h,i,t]}class Nh extends Dt{constructor(r){super(),gt(this,r,_h,Mh,yt,{precision:2,shift:3,cameraPosition:4,cameraLooksAt:5,upVector:6,fovy:7,aspect:8,near:9,far:10,scene:11,defaultStyle:0})}}function ct(e=32,r=1){let n=r<1?e+1:e,i=[...Array(n).keys()].map(t=>Zr({theta:cr,phi:r*2*Ve*t/e,r:1}));return r!=1&&r!=.5&&i.push([0,0,0]),pe(i)}function eu(e){return[e,...[1,2,3].map(r=>Pe(e,ma(r*cr)))]}function xh(e=32){const r=ct(e,.25);return[{faces:[...eu(r),...eu(Pe(r,Gt(3*cr)))]}]}function Sh(e,r=8){let n=e/(2*Ve);return n<=.25?[ct(r,-n)]:[ct(r,-.25),Pe(ct(r,-(n-.25)),Gt(cr))]}function Th(e,r){function n(i){return Pe(Pe(Pe(Pe(i,Gt(-cr)),ma(cr)),Gt(-e)),.5)}return Sh(r).map(n)}function zh(e,r,n){let i=e[r];return`\\textcolor{${n[r]}}{(${i.x.toFixed(2)} + ${i.y.toFixed(2)}i) \\cdot | ${r} \\rangle}`}function Ih(e,r,n,i){let t=`\\textcolor{${i}}{\\theta: ${(r/Ve).toFixed(2)} \\cdot \\pi}`,u=`\\textcolor{${n}}{\\phi: ${(e/2/Ve).toFixed(2)} \\cdot 2\\pi}`;return[t,u].join(", ")}function Oh(e,r){let n=[0,-.1,1.2*(1-2*e)];return{faces:[pe([n,n])],text:`\u2223${e}\u27E9`,style:{"font-size":"0.2px",fill:r[e],stroke:r[e],opacity:"100%"}}}function ru(e){let r,n,i,t,u,a=e[2]&&tu(e);return t=new mh({props:{vectors:e[5],colors:e[0]}}),{c(){r=ur("div"),a&&a.c(),n=rr(),i=$e("svg"),at(t.$$.fragment),this.h()},l(f){r=ar(f,"DIV",{class:!0});var l=Be(r);a&&a.l(l),n=tr(l),i=Ke(l,"svg",{width:!0,height:!0,viewBox:!0});var c=Be(i);ot(t.$$.fragment,c),c.forEach(oe),l.forEach(oe),this.h()},h(){re(i,"width",e[1]),re(i,"height",e[1]),re(i,"viewBox","-2 -2 4 4"),re(r,"class","elem svelte-1w2cxtz")},m(f,l){Ae(f,r,l),a&&a.m(r,null),we(r,n),we(r,i),st(t,i,null),u=!0},p(f,l){f[2]?a?a.p(f,l):(a=tu(f),a.c(),a.m(r,n)):a&&(a.d(1),a=null);const c={};l&32&&(c.vectors=f[5]),l&1&&(c.colors=f[0]),t.$set(c),(!u||l&2)&&re(i,"width",f[1]),(!u||l&2)&&re(i,"height",f[1])},i(f){u||(dr(t.$$.fragment,f),u=!0)},o(f){Br(t.$$.fragment,f),u=!1},d(f){f&&oe(r),a&&a.d(),ft(t)}}}function tu(e){let r,n=Tt(e[9].join(" + "),{trust:!0})+"";return{c(){r=ur("span"),this.h()},l(i){r=ar(i,"SPAN",{style:!0});var t=Be(r);t.forEach(oe),this.h()},h(){xr(r,"font-size",e[1]/24+"px"),xr(r,"text-align","center")},m(i,t){Ae(i,r,t),r.innerHTML=n},p(i,t){t&512&&n!==(n=Tt(i[9].join(" + "),{trust:!0})+"")&&(r.innerHTML=n),t&2&&xr(r,"font-size",i[1]/24+"px")},d(i){i&&oe(r)}}}function nu(e){let r,n,i,t,u,a=e[2]&&iu(e);return t=new Nh({props:{cameraPosition:e[7],scene:e[6]}}),{c(){r=ur("div"),a&&a.c(),n=rr(),i=$e("svg"),at(t.$$.fragment),this.h()},l(f){r=ar(f,"DIV",{class:!0});var l=Be(r);a&&a.l(l),n=tr(l),i=Ke(l,"svg",{baseProfile:!0,height:!0,width:!0,viewBox:!0});var c=Be(i);ot(t.$$.fragment,c),c.forEach(oe),l.forEach(oe),this.h()},h(){re(i,"baseProfile","full"),re(i,"height",e[1]),re(i,"width",e[1]),re(i,"viewBox","-2 -2 4 4"),re(r,"class","elem svelte-1w2cxtz")},m(f,l){Ae(f,r,l),a&&a.m(r,null),we(r,n),we(r,i),st(t,i,null),u=!0},p(f,l){f[2]?a?a.p(f,l):(a=iu(f),a.c(),a.m(r,n)):a&&(a.d(1),a=null);const c={};l&128&&(c.cameraPosition=f[7]),l&64&&(c.scene=f[6]),t.$set(c),(!u||l&2)&&re(i,"height",f[1]),(!u||l&2)&&re(i,"width",f[1])},i(f){u||(dr(t.$$.fragment,f),u=!0)},o(f){Br(t.$$.fragment,f),u=!1},d(f){f&&oe(r),a&&a.d(),ft(t)}}}function iu(e){let r,n=Tt(e[8],{trust:!0})+"";return{c(){r=ur("span"),this.h()},l(i){r=ar(i,"SPAN",{style:!0});var t=Be(r);t.forEach(oe),this.h()},h(){xr(r,"font-size",e[1]/24+"px"),xr(r,"text-align","center")},m(i,t){Ae(i,r,t),r.innerHTML=n},p(i,t){t&256&&n!==(n=Tt(i[8],{trust:!0})+"")&&(r.innerHTML=n),t&2&&xr(r,"font-size",i[1]/24+"px")},d(i){i&&oe(r)}}}function Ph(e){let r,n,i,t=e[4]&&ru(e),u=e[3]&&nu(e);return{c(){r=ur("div"),t&&t.c(),n=rr(),u&&u.c(),this.h()},l(a){r=ar(a,"DIV",{style:!0});var f=Be(r);t&&t.l(f),n=tr(f),u&&u.l(f),f.forEach(oe),this.h()},h(){xr(r,"display","grid"),xr(r,"grid-template-columns",e[1]+"px "+e[1]+"px")},m(a,f){Ae(a,r,f),t&&t.m(r,null),we(r,n),u&&u.m(r,null),i=!0},p(a,[f]){a[4]?t?(t.p(a,f),f&16&&dr(t,1)):(t=ru(a),t.c(),dr(t,1),t.m(r,n)):t&&(Xn(),Br(t,1,1,()=>{t=null}),Gn()),a[3]?u?(u.p(a,f),f&8&&dr(u,1)):(u=nu(a),u.c(),dr(u,1),u.m(r,null)):u&&(Xn(),Br(u,1,1,()=>{u=null}),Gn()),(!i||f&2)&&xr(r,"grid-template-columns",a[1]+"px "+a[1]+"px")},i(a){i||(dr(t),dr(u),i=!0)},o(a){Br(t),Br(u),i=!1},d(a){a&&oe(r),t&&t.d(),u&&u.d()}}}function qh(e,r,n){let i,t,u,a,f,l,c,s,o,p,v,{cameraPosition:m={x:4,y:.3,z:.5}}=r,{quantumGates:h=[]}=r,{phiAlpha:D=0}=r,{phiBeta:d=0}=r,{rAlpha:w=0}=r,{colors:g=["#4682B4","#FA8072"]}=r,{phiColor:E="purple"}=r,{thetaColor:C="red"}=r,{svgSize:A=300}=r,{displayMath:F=!0}=r,{displayBloch:y=!0}=r,{displayVectors:B=!0}=r,b=M=>({x:M.re,y:M.im});function N(M,x,z){let O=[M,x].map(S=>[an(S)]);return z.forEach(S=>{O=Pe(S,O)}),[0,1].map(S=>_r(O,Nr(S,0)))}return e.$$set=M=>{"cameraPosition"in M&&n(10,m=M.cameraPosition),"quantumGates"in M&&n(11,h=M.quantumGates),"phiAlpha"in M&&n(12,D=M.phiAlpha),"phiBeta"in M&&n(13,d=M.phiBeta),"rAlpha"in M&&n(14,w=M.rAlpha),"colors"in M&&n(0,g=M.colors),"phiColor"in M&&n(15,E=M.phiColor),"thetaColor"in M&&n(16,C=M.thetaColor),"svgSize"in M&&n(1,A=M.svgSize),"displayMath"in M&&n(2,F=M.displayMath),"displayBloch"in M&&n(3,y=M.displayBloch),"displayVectors"in M&&n(4,B=M.displayVectors)},e.$$.update=()=>{e.$$.dirty&30720&&n(22,i=N({phi:D,r:w},{phi:d,r:nt(1-Math.pow(w,2))},h)),e.$$.dirty&4194304&&n(5,t=i.map(b)),e.$$.dirty&33&&n(9,u=[0,1].map(M=>zh(t,M,g))),e.$$.dirty&4194304&&n(20,a=i[0].toPolar()),e.$$.dirty&4194304&&n(21,f=i[1].toPolar()),e.$$.dirty&3145728&&n(18,l=(M=>M<0?2*Ve+M:M)(a.phi-f.phi)),e.$$.dirty&1048576&&n(17,c=2*ua(a.r)),e.$$.dirty&393216&&n(19,s=Zr({theta:c,phi:l,r:1})),e.$$.dirty&491520&&n(8,o=Ih(l,c,E,C)),e.$$.dirty&1024&&n(7,p=sh(m)),e.$$.dirty&1015809&&n(6,v=[...xh(12),{faces:[pe([[0,0,0],s])],style:{stroke:"black","stroke-width":.02},line:!0},{faces:[Pe(ct(32,l/(2*Ve)),zr(c)),pe([[Xt(l)*zr(c),zr(l)*zr(c),0],s])],style:{stroke:E,fill:"none",opacity:"90%","stroke-width":.015},line:!0},{faces:Th(l,c),style:{fill:C,opacity:"90%","stroke-width":0}},...[0,1].map(M=>Oh(M,g))])},[g,A,F,y,B,t,v,p,o,u,m,h,D,d,w,E,C,c,l,s,a,f,i]}class uu extends Dt{constructor(r){super(),gt(this,r,qh,Ph,yt,{cameraPosition:10,quantumGates:11,phiAlpha:12,phiBeta:13,rAlpha:14,colors:0,phiColor:15,thetaColor:16,svgSize:1,displayMath:2,displayBloch:3,displayVectors:4})}}function Rh(e){let r,n,i,t=e[5].x.toFixed(2)+"",u,a,f=e[5].y.toFixed(2)+"",l,c,s=e[5].z.toFixed(2)+"",o,p,v,m,h,D,d,w,g,E,C,A,F,y,B,b,N,M,x,z,O,S,J,W;function V(P){e[7](P)}let I={minX:1.5,polar:!0};return e[5]!==void 0&&(I.cameraPosition=e[5]),m=new hh({props:I}),Ka.push(()=>Ha(m,"cameraPosition",V)),x=new uu({props:{phiAlpha:e[3],phiBeta:e[2],rAlpha:e[4],cameraPosition:e[5],svgSize:au}}),O=new uu({props:{phiAlpha:e[3],phiBeta:e[2],rAlpha:e[4],cameraPosition:e[5],svgSize:au,quantumGates:[e[6]]}}),{c(){r=ur("div"),n=je(`Camera Position
	`),i=ur("div"),u=je(t),a=je(", "),l=je(f),c=je(", "),o=je(s),p=rr(),v=ur("div"),at(m.$$.fragment),D=rr(),d=ur("main"),w=ur("h1"),g=je("QFT"),E=rr(),C=ur("div"),A=je("phiA"),F=ur("input"),y=je(`
		phiB`),B=ur("input"),b=je(`
		rA`),N=ur("input"),M=rr(),at(x.$$.fragment),z=rr(),at(O.$$.fragment),this.h()},l(P){r=ar(P,"DIV",{class:!0});var L=Be(r);n=er(L,`Camera Position
	`),i=ar(L,"DIV",{});var Z=Be(i);u=er(Z,t),a=er(Z,", "),l=er(Z,f),c=er(Z,", "),o=er(Z,s),Z.forEach(oe),p=tr(L),v=ar(L,"DIV",{class:!0});var R=Be(v);ot(m.$$.fragment,R),R.forEach(oe),L.forEach(oe),D=tr(P),d=ar(P,"MAIN",{});var U=Be(d);w=ar(U,"H1",{});var $=Be(w);g=er($,"QFT"),$.forEach(oe),E=tr(U),C=ar(U,"DIV",{class:!0});var j=Be(C);A=er(j,"phiA"),F=ar(j,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),y=er(j,`
		phiB`),B=ar(j,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),b=er(j,`
		rA`),N=ar(j,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),j.forEach(oe),M=tr(U),ot(x.$$.fragment,U),z=tr(U),ot(O.$$.fragment,U),U.forEach(oe),this.h()},h(){re(v,"class","camera-control"),re(r,"class","sidebar"),re(F,"class","slider svelte-1dvc14s"),re(F,"type","range"),re(F,"min",0),re(F,"max",360),re(F,"step",1),re(B,"class","slider svelte-1dvc14s"),re(B,"type","range"),re(B,"min",0),re(B,"max",360),re(B,"step",1),re(N,"class","slider svelte-1dvc14s"),re(N,"type","range"),re(N,"min",0),re(N,"max",1),re(N,"step",.01),re(C,"class","cpanel svelte-1dvc14s")},m(P,L){Ae(P,r,L),we(r,n),we(r,i),we(i,u),we(i,a),we(i,l),we(i,c),we(i,o),we(r,p),we(r,v),st(m,v,null),Ae(P,D,L),Ae(P,d,L),we(d,w),we(w,g),we(d,E),we(d,C),we(C,A),we(C,F),$r(F,e[1]),we(C,y),we(C,B),$r(B,e[0]),we(C,b),we(C,N),$r(N,e[4]),we(d,M),st(x,d,null),we(d,z),st(O,d,null),S=!0,J||(W=[mr(F,"change",e[8]),mr(F,"input",e[8]),mr(B,"change",e[9]),mr(B,"input",e[9]),mr(N,"change",e[10]),mr(N,"input",e[10])],J=!0)},p(P,[L]){(!S||L&32)&&t!==(t=P[5].x.toFixed(2)+"")&&Nt(u,t),(!S||L&32)&&f!==(f=P[5].y.toFixed(2)+"")&&Nt(l,f),(!S||L&32)&&s!==(s=P[5].z.toFixed(2)+"")&&Nt(o,s);const Z={};!h&&L&32&&(h=!0,Z.cameraPosition=P[5],ka(()=>h=!1)),m.$set(Z),L&2&&$r(F,P[1]),L&1&&$r(B,P[0]),L&16&&$r(N,P[4]);const R={};L&8&&(R.phiAlpha=P[3]),L&4&&(R.phiBeta=P[2]),L&16&&(R.rAlpha=P[4]),L&32&&(R.cameraPosition=P[5]),x.$set(R);const U={};L&8&&(U.phiAlpha=P[3]),L&4&&(U.phiBeta=P[2]),L&16&&(U.rAlpha=P[4]),L&32&&(U.cameraPosition=P[5]),O.$set(U)},i(P){S||(dr(m.$$.fragment,P),dr(x.$$.fragment,P),dr(O.$$.fragment,P),S=!0)},o(P){Br(m.$$.fragment,P),Br(x.$$.fragment,P),Br(O.$$.fragment,P),S=!1},d(P){P&&oe(r),ft(m),P&&oe(D),P&&oe(d),ft(x),ft(O),J=!1,ou(W)}}}const Vh=!0;let au=600;function Uh(e,r,n){let i,t,u,a,f,l,c=Pe(1/nt(2),[[1,1],[1,-1]]);function s(m){i=m,n(5,i)}function o(){t=cn(this.value),n(1,t)}function p(){u=cn(this.value),n(0,u)}function v(){a=cn(this.value),n(4,a)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,f=t/180*Ve),e.$$.dirty&1&&n(2,l=u/180*Ve)},n(5,i={x:3,y:2,z:1.5}),n(1,t=15),n(0,u=310),n(4,a=.9),[u,t,l,f,a,i,c,s,o,p,v]}class Wh extends Dt{constructor(r){super(),gt(this,r,Uh,Rh,yt,{})}}export{Wh as default,Vh as prerender};
